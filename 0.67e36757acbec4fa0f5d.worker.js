!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="KUoD")}({"+6pz":function(e,t,r){"use strict";t.name="ParenthesisNode",t.path="expression.node",t.factory=function(e,t,n,i){var a=n(r("K6lB"));function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError('Node expected for parameter "content"');this.content=t}return(o.prototype=new a).type="ParenthesisNode",o.prototype.isParenthesisNode=!0,o.prototype._compile=function(e,t){return this.content._compile(e,t)},o.prototype.getContent=function(){return this.content.getContent()},o.prototype.forEach=function(e){e(this.content,"content",this)},o.prototype.map=function(e){return new o(e(this.content,"content",this))},o.prototype.clone=function(){return new o(this.content)},o.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},o.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},o.fromJSON=function(e){return new o(e.content)},o.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},o.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},o}},"+6v0":function(e,t,r){"use strict";var n=r("sTyi").flatten;t.name="setDistinct",t.factory=function(e,t,i,a){var o=i(r("Lzl2")),s=i(r("ZS3Q")),u=i(r("v7fr")),l=i(r("Wail")),c=i(r("L2qZ"));return a("setDistinct",{"Array | Matrix":function(e){var t;if(0===l(u(e),new o(0)))t=[];else{var r=n(Array.isArray(e)?e:e.toArray()).sort(c);(t=[]).push(r[0]);for(var i=1;i<r.length;i++)0!==c(r[i],r[i-1])&&t.push(r[i])}return Array.isArray(e)?t:new s(t)}})}},"+EvI":function(e,t,r){"use strict";var n=r("199F").isInteger;t.name="rightLogShift",t.factory=function(e,t,i,a){var o=r("bFQJ"),s=i(r("R4H5")),u=i(r("hj6K")),l=i(r("9a6t")),c=i(r("eX2I")),f=i(r("4fwU")),p=i(r("0cRD")),m=i(r("v+4T")),h=i(r("nr1U")),d=i(r("zbDx")),v=i(r("BLb5")),g=a("rightLogShift",{"number, number":function(e,t){if(!n(e)||!n(t))throw new Error("Integers expected in function rightLogShift");return e>>>t},"SparseMatrix, SparseMatrix":function(e,t){return p(e,t,g,!1)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,g,!0)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,g,!1)},"DenseMatrix, DenseMatrix":function(e,t){return d(e,t,g)},"Array, Array":function(e,t){return g(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return g(s(e),t)},"Matrix, Array":function(e,t){return g(e,s(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(t,0)?e.clone():h(e,t,g,!1)},"DenseMatrix, number | BigNumber":function(e,t){return u(t,0)?e.clone():v(e,t,g,!1)},"number | BigNumber, SparseMatrix":function(e,t){return u(e,0)?l(t.size(),t.storage()):m(t,e,g,!0)},"number | BigNumber, DenseMatrix":function(e,t){return u(e,0)?l(t.size(),t.storage()):v(t,e,g,!0)},"Array, number | BigNumber":function(e,t){return g(s(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return g(e,s(t)).valueOf()}});return g.toTex={2:"\\left(${args[0]}".concat(o.operators.rightLogShift,"${args[1]}\\right)")},g}},"+ejN":function(e,t,r){"use strict";e.exports={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]}},"+pS6":function(e,t,r){"use strict";e.exports={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},"/8G/":function(e,t,r){"use strict";t.name="csLeaf",t.path="algebra.sparse",t.factory=function(){return function(e,t,r,n,i,a,o){var s,u,l,c,f=0;if(e<=t||r[n+t]<=r[i+e])return-1;if(r[i+e]=r[n+t],l=r[a+e],r[a+e]=t,-1===l)f=1,c=e;else{for(f=2,c=l;c!==r[o+c];c=r[o+c]);for(s=l;s!==c;s=u)u=r[o+s],r[o+s]=c}return{jleaf:f,q:c}}}},"/LKs":function(e,t,r){"use strict";e.exports={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]}},"/UxZ":function(e,t,r){"use strict";var n=r("Z2I/").extend,i=r("4bae");t.name="Parser",t.path="expression",t.factory=function(e,t,a,o,s){var u=a(r("MUdo"));function l(){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return l.prototype.type="Parser",l.prototype.isParser=!0,l.prototype.parse=function(e){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},l.prototype.compile=function(e){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},l.prototype.eval=function(e){return u(e).compile().eval(this.scope)},l.prototype.get=function(e){return e in this.scope?i.getSafeProperty(this.scope,e):void 0},l.prototype.getAll=function(){return n({},this.scope)},l.prototype.set=function(e,t){return i.setSafeProperty(this.scope,e,t)},l.prototype.remove=function(e){delete this.scope[e]},l.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},l},t.math=!0},"/WIQ":function(e,t,r){"use strict";t.name="csAmd",t.path="algebra.sparse",t.factory=function(e,t,n){var i=n(r("BEMT")),a=n(r("jHZ0")),o=n(r("L/+I")),s=n(r("NEdZ")),u=n(r("NU+P")),l=n(r("JjaI"));function c(e,t,r,n,i){if(e<2||e+t<0){for(var a=0;a<i;a++)0!==r[n+a]&&(r[n+a]=1);e=2}return e}function f(e,t){return e!==t}return function(e,t){if(!t||e<=0||e>3)return null;var r=t._size,n=r[0],p=r[1],m=0,h=Math.max(16,10*Math.sqrt(p)),d=function(e,t,r,n,i){var a=l(t);if(1===e&&n===r)return s(t,a);if(2===e){for(var o=a._index,c=a._ptr,f=0,p=0;p<r;p++){var m=c[p];if(c[p]=f,!(c[p+1]-m>i))for(var h=c[p+1];m<h;m++)o[f++]=o[m]}return c[r]=f,t=l(a),u(a,t)}return u(a,t)}(e,t,n,p,h=Math.min(p-2,h));a(d,f,null);for(var v,g,b,y,x,w,M,N,_,A,E,S,k,O,C,L,T=d._index,P=d._ptr,I=P[p],z=[],B=[],j=p+1,F=2*(p+1),R=3*(p+1),D=4*(p+1),q=5*(p+1),V=6*(p+1),X=7*(p+1),U=z,G=function(e,t,r,n,i,a,o,s,u,l,f,p){for(var m=0;m<e;m++)r[0+m]=t[m+1]-t[m];r[0+e]=0;for(var h=0;h<=e;h++)r[i+h]=-1,a[h]=-1,r[o+h]=-1,r[s+h]=-1,r[u+h]=1,r[l+h]=1,r[f+h]=0,r[p+h]=r[0+h];var d=c(0,0,r,l,e);return r[f+e]=-2,t[e]=-1,r[l+e]=0,d}(p,P,B,0,R,U,F,X,j,V,D,q),H=function(e,t,r,n,a,o,s,u,l,c,f){for(var p=0,m=0;m<e;m++){var h=r[n+m];if(0===h)r[a+m]=-2,p++,t[m]=-1,r[o+m]=0;else if(h>s)r[u+m]=0,r[a+m]=-1,p++,t[m]=i(e),r[u+e]++;else{var d=r[l+h];-1!==d&&(c[d]=m),r[f+m]=r[l+h],r[l+h]=m}}return p}(p,P,B,q,D,V,h,j,R,U,F),Y=0;H<p;){for(b=-1;Y<p&&-1===(b=B[R+Y]);Y++);-1!==B[F+b]&&(U[B[F+b]]=-1),B[R+Y]=B[F+b];var Z=B[D+b],J=B[j+b];H+=J;var K=0;B[j+b]=-J;var W=P[b],Q=0===Z?W:I,$=Q;for(y=1;y<=Z+1;y++){for(y>Z?(w=b,M=W,N=B[0+b]-Z):(M=P[w=T[W++]],N=B[0+w]),x=1;x<=N;x++)(_=B[j+(v=T[M++])])<=0||(K+=_,B[j+v]=-_,T[$++]=v,-1!==B[F+v]&&(U[B[F+v]]=U[v]),-1!==U[v]?B[F+U[v]]=B[F+v]:B[R+B[q+v]]=B[F+v]);w!==b&&(P[w]=i(b),B[V+w]=0)}for(0!==Z&&(I=$),B[q+b]=K,P[b]=Q,B[0+b]=$-Q,B[D+b]=-2,G=c(G,m,B,V,p),A=Q;A<$;A++)if(!((E=B[D+(v=T[A])])<=0)){var ee=G-(_=-B[j+v]);for(W=P[v],S=P[v]+E-1;W<=S;W++)B[V+(w=T[W])]>=G?B[V+w]-=_:0!==B[V+w]&&(B[V+w]=B[q+w]+ee)}for(A=Q;A<$;A++){for(k=(S=P[v=T[A]])+B[D+v]-1,O=S,C=0,L=0,W=S;W<=k;W++)if(0!==B[V+(w=T[W])]){var te=B[V+w]-G;te>0?(L+=te,T[O++]=w,C+=w):(P[w]=i(b),B[V+w]=0)}B[D+v]=O-S+1;var re=O,ne=S+B[0+v];for(W=k+1;W<ne;W++){var ie=B[j+(g=T[W])];ie<=0||(L+=ie,T[O++]=g,C+=g)}0===L?(P[v]=i(b),K-=_=-B[j+v],J+=_,H+=_,B[j+v]=0,B[D+v]=-1):(B[q+v]=Math.min(B[q+v],L),T[O]=T[re],T[re]=T[S],T[S]=b,B[0+v]=O-S+1,B[F+v]=B[X+(C=(C<0?-C:C)%p)],B[X+C]=v,U[v]=C)}for(B[q+b]=K,G=c(G+(m=Math.max(m,K)),m,B,V,p),A=Q;A<$;A++)if(!(B[j+(v=T[A])]>=0))for(v=B[X+(C=U[v])],B[X+C]=-1;-1!==v&&-1!==B[F+v];v=B[F+v],G++){for(N=B[0+v],E=B[D+v],W=P[v]+1;W<=P[v]+N-1;W++)B[V+T[W]]=G;var ae=v;for(g=B[F+v];-1!==g;){var oe=B[0+g]===N&&B[D+g]===E;for(W=P[g]+1;oe&&W<=P[g]+N-1;W++)B[V+T[W]]!==G&&(oe=0);oe?(P[g]=i(v),B[j+v]+=B[j+g],B[j+g]=0,B[D+g]=-1,B[F+ae]=g=B[F+g]):(ae=g,g=B[F+g])}}for(W=Q,A=Q;A<$;A++)(_=-B[j+(v=T[A])])<=0||(B[j+v]=_,L=B[q+v]+K-_,-1!==B[R+(L=Math.min(L,p-H-_))]&&(U[B[R+L]]=v),B[F+v]=B[R+L],U[v]=-1,B[R+L]=v,Y=Math.min(Y,L),B[q+v]=L,T[W++]=v);B[j+b]=J,0==(B[0+b]=W-Q)&&(P[b]=-1,B[V+b]=0),0!==Z&&(I=W)}for(v=0;v<p;v++)P[v]=i(P[v]);for(g=0;g<=p;g++)B[R+g]=-1;for(g=p;g>=0;g--)B[j+g]>0||(B[F+g]=B[R+P[g]],B[R+P[g]]=g);for(w=p;w>=0;w--)B[j+w]<=0||-1!==P[w]&&(B[F+w]=B[R+P[w]],B[R+P[w]]=w);for(b=0,v=0;v<=p;v++)-1===P[v]&&(b=o(v,b,B,R,F,z,V));return z.splice(z.length-1,1),z}}},"/bIM":function(e,t,r){"use strict";var n=r("1stm");t.name="exp",t.factory=function(e,t,r,i){var a=i("exp",{number:Math.exp,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\exp\\left(${args[0]}\\right)"},a}},"/cHz":function(e,t,r){"use strict";var n=r("199F").nearlyEqual,i=r("rMK7");t.name="smallerEq",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=a(r("hYuG")),l=a(r("XXc+")),c=a(r("/z5F")),f=a(r("zbDx")),p=a(r("BLb5")),m=r("bFQJ"),h=o("smallerEq",{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,r){return e<=r||n(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.lte(r)||i(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return h(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,h)},"Array, Array":function(e,t){return h(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return h(s(e),t)},"Matrix, Array":function(e,t){return h(e,s(t))},"SparseMatrix, any":function(e,t){return c(e,t,h,!1)},"DenseMatrix, any":function(e,t){return p(e,t,h,!1)},"any, SparseMatrix":function(e,t){return c(t,e,h,!0)},"any, DenseMatrix":function(e,t){return p(t,e,h,!0)},"Array, any":function(e,t){return p(s(e),t,h,!1).valueOf()},"any, Array":function(e,t){return p(s(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(m.operators.smallerEq,"${args[1]}\\right)")},h}},"/d6T":function(e,t,r){"use strict";var n=r("sTyi").flatten;t.name="hypot",t.factory=function(e,t,i,a){var o=i(r("fTxE")),s=i(r("XXst")),u=i(r("WPGy")),l=i(r("oiZ2")),c=i(r("L/Rn")),f=i(r("m4e2")),p=i(r("qcrg")),m=a("hypot",{"... number | BigNumber":function(e){for(var t=0,r=0,n=0;n<e.length;n++){var i=o(e[n]);f(r,i)?(t=l(t,l(u(r,i),u(r,i))),t=s(t,1),r=i):t=s(t,p(i)?l(u(i,r),u(i,r)):i)}return l(r,c(t))},Array:function(e){return m.apply(m,n(e))},Matrix:function(e){return m.apply(m,n(e.toArray()))}});return m.toTex="\\hypot\\left(${args}\\right)",m}},"/dWG":function(e,t,r){"use strict";e.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},"/jKp":function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("sTyi").resize;t.name="ones",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=o("ones",{"":function(){return"Array"===t.matrix?l([]):l([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var r=e.pop();return l(e,r)}return"Array"===t.matrix?l(e):l(e,"default")},Array:l,Matrix:function(e){var t=e.storage();return l(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return l(e.valueOf(),t)}});return u.toTex=void 0,u;function l(t,r){var a=function(t){var r=!1;return t.forEach(function(t,n,i){e.isBigNumber(t)&&(r=!0,i[n]=t.toNumber())}),r}(t)?new e.BigNumber(1):1;if(function(e){e.forEach(function(e){if("number"!=typeof e||!n(e)||e<0)throw new Error("Parameters in function ones must be positive integers")})}(t),r){var o=s(r);return t.length>0?o.resize(t,a):o}var u=[];return t.length>0?i(u,t,a):u}}},"/ndI":function(e,t,r){"use strict";e.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},"/uvY":function(e,t,r){"use strict";e.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},"/z5F":function(e,t,r){"use strict";t.name="algorithm12",t.factory=function(e,t,r,n){var i=e.DenseMatrix;return function(e,t,r,a){var o=e._values,s=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=l[0],m=l[1],h=r;"string"==typeof c&&(t=n.convert(t,f=c),h=n.find(r,[f,f]));for(var d=[],v=new i({data:d,size:[p,m],datatype:f}),g=[],b=[],y=0;y<m;y++){for(var x=y+1,w=u[y+1],M=u[y];M<w;M++){var N=s[M];g[N]=o[M],b[N]=x}for(var _=0;_<p;_++)0===y&&(d[_]=[]),d[_][y]=b[_]===x?a?h(t,g[_]):h(g[_],t):a?h(t,0):h(0,t)}return v}}},"06sG":function(e,t,r){"use strict";e.exports={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]}},"0FyF":function(e,t,r){"use strict";var n=r("1stm");t.name="isNumeric",t.factory=function(e,t,r,i){var a=i("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return n(e,a)}});return a}},"0Tm1":function(e,t,r){"use strict";e.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},"0UX7":function(e,t,r){"use strict";t.name="csCounts",t.path="algebra.sparse",t.factory=function(e,t,n){var i=n(r("JjaI")),a=n(r("/8G/"));return function(e,t,r,n){if(!e||!t||!r)return null;var o,s,u,l,c,f,p=e._size,m=p[0],h=p[1],d=4*h+(n?h+m+1:0),v=[],g=h,b=2*h,y=3*h,x=4*h,w=5*h+1;for(u=0;u<d;u++)v[u]=-1;var M=[],N=i(e),_=N._index,A=N._ptr;for(u=0;u<h;u++)for(M[s=r[u]]=-1===v[y+s]?1:0;-1!==s&&-1===v[y+s];s=t[s])v[y+s]=u;if(n){for(u=0;u<h;u++)v[r[u]]=u;for(o=0;o<m;o++){for(u=h,f=A[o+1],c=A[o];c<f;c++)u=Math.min(u,v[_[c]]);v[w+o]=v[x+u],v[x+u]=o}}for(o=0;o<h;o++)v[0+o]=o;for(u=0;u<h;u++){for(-1!==t[s=r[u]]&&M[t[s]]--,l=n?v[x+u]:s;-1!==l;l=n?v[w+l]:-1)for(c=A[l];c<A[l+1];c++){var E=a(o=_[c],s,v,y,g,b,0);E.jleaf>=1&&M[s]++,2===E.jleaf&&M[E.q]--}-1!==t[s]&&(v[0+s]=t[s])}for(s=0;s<h;s++)-1!==t[s]&&(M[t[s]]+=M[s]);return M}}},"0VOE":function(e,t,r){"use strict";t.math=!0,t.name="simplifyCore",t.path="algebra.simplify",t.factory=function(e,t,n,i,a){var o=n(r("uvCz")),s=n(r("6F5Y")),u=n(r("NEdZ")),l=n(r("O1N0")),c=n(r("NU+P")),f=n(r("rVKH")),p=n(r("CaZ0")),m=a.expression.node.ConstantNode,h=a.expression.node.OperatorNode,d=a.expression.node.FunctionNode,v=a.expression.node.ParenthesisNode,g=new m(0),b=new m(1);return function t(r){if(e.isOperatorNode(r)&&r.isUnary()){var n=t(r.args[0]);if("+"===r.op)return n;if("-"===r.op){if(e.isOperatorNode(n)){if(n.isUnary()&&"-"===n.op)return n.args[0];if(n.isBinary()&&"subtract"===n.fn)return new h("-","subtract",[n.args[1],n.args[0]])}return new h(r.op,r.fn,[n])}}else if(e.isOperatorNode(r)&&r.isBinary()){var i=t(r.args[0]),a=t(r.args[1]);if("+"===r.op){if(e.isConstantNode(i)){if(s(i.value))return a;if(e.isConstantNode(a))return new m(u(i.value,a.value))}return e.isConstantNode(a)&&s(a.value)?i:e.isOperatorNode(a)&&a.isUnary()&&"-"===a.op?new h("-","subtract",[i,a.args[0]]):new h(r.op,r.fn,a?[i,a]:[i])}if("-"===r.op){if(e.isConstantNode(i)&&a){if(e.isConstantNode(a))return new m(l(i.value,a.value));if(s(i.value))return new h("-","unaryMinus",[a])}if("subtract"===r.fn)return e.isConstantNode(a)&&s(a.value)?i:e.isOperatorNode(a)&&a.isUnary()&&"-"===a.op?t(new h("+","add",[i,a.args[0]])):new h(r.op,r.fn,[i,a])}else{if("*"===r.op){if(e.isConstantNode(i)){if(s(i.value))return g;if(o(i.value,1))return a;if(e.isConstantNode(a))return new m(c(i.value,a.value))}if(e.isConstantNode(a)){if(s(a.value))return g;if(o(a.value,1))return i;if(e.isOperatorNode(i)&&i.isBinary()&&i.op===r.op){var y=i.args[0];if(e.isConstantNode(y)){var x=new m(c(y.value,a.value));return new h(r.op,r.fn,[x,i.args[1]],r.implicit)}}return new h(r.op,r.fn,[a,i],r.implicit)}return new h(r.op,r.fn,[i,a],r.implicit)}if("/"===r.op){if(e.isConstantNode(i)){if(s(i.value))return g;if(e.isConstantNode(a)&&(o(a.value,1)||o(a.value,2)||o(a.value,4)))return new m(f(i.value,a.value))}return new h(r.op,r.fn,[i,a])}if("^"===r.op){if(e.isConstantNode(a)){if(s(a.value))return b;if(o(a.value,1))return i;if(e.isConstantNode(i))return new m(p(i.value,a.value));if(e.isOperatorNode(i)&&i.isBinary()&&"^"===i.op){var w=i.args[1];if(e.isConstantNode(w))return new h(r.op,r.fn,[i.args[0],new m(c(w.value,a.value))])}}return new h(r.op,r.fn,[i,a])}}}else{if(e.isParenthesisNode(r)){var M=t(r.content);return e.isParenthesisNode(M)||e.isSymbolNode(M)||e.isConstantNode(M)?M:new v(M)}if(e.isFunctionNode(r)){var N=r.args.map(t).map(function(t){return e.isParenthesisNode(t)?t.content:t});return new d(t(r.fn),N)}}return r}}},"0cRD":function(e,t,r){"use strict";var n=r("X8kj");t.name="algorithm08",t.factory=function(e,t,i,a){var o=i(r("hj6K")),s=e.SparseMatrix;return function(e,t,r){var i=e._values,u=e._index,l=e._ptr,c=e._size,f=e._datatype,p=t._values,m=t._index,h=t._ptr,d=t._size,v=t._datatype;if(c.length!==d.length)throw new n(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!i||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var g,b=c[0],y=c[1],x=o,w=0,M=r;"string"==typeof f&&f===v&&(x=a.find(o,[g=f,g]),w=a.convert(0,g),M=a.find(r,[g,g]));for(var N,_,A,E=[],S=[],k=[],O=new s({values:E,index:S,ptr:k,size:[b,y],datatype:g}),C=[],L=[],T=0;T<y;T++){k[T]=S.length;var P=T+1;for(_=l[T+1],N=l[T];N<_;N++)L[A=u[N]]=P,C[A]=i[N],S.push(A);for(_=h[T+1],N=h[T];N<_;N++)L[A=m[N]]===P&&(C[A]=M(C[A],p[N]));for(N=k[T];N<S.length;){var I=C[A=S[N]];x(I,w)?S.splice(N,1):(E.push(I),N++)}}return k[y]=S.length,O}}},"0dEn":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.memoize=function(e,t){return function r(){"object"!==n(r.cache)&&(r.cache={});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=t?t(i):JSON.stringify(i);return o in r.cache||(r.cache[o]=e.apply(e,i)),r.cache[o]}},t.maxArgumentCount=function(e){return Object.keys(e.signatures||{}).reduce(function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)},-1)},t.callWithRightArgumentCount=function(e,t,r){return Object.keys(e.signatures||{}).reduce(function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)},-1)}},"0fa3":function(e,t,r){"use strict";t.math=!0,t.name="simplifyConstant",t.path="algebra.simplify",t.factory=function(e,t,n,i,a){var o=n(r("Uu3w")),s=o.isCommutative,u=o.isAssociative,l=o.allChildren,c=o.createMakeNodeFunction,f=a.expression.node.ConstantNode,p=a.expression.node.OperatorNode,m=a.expression.node.FunctionNode;function h(t,r,n){try{return g(a[t].apply(null,r),n)}catch(i){return r=r.map(function(t){return e.isFraction(t)?t.valueOf():t}),g(a[t].apply(null,r),n)}}var d=i({Fraction:function(e){var t,r=e.s*e.n;return t=r<0?new p("-","unaryMinus",[new f(-r)]):new f(r),1===e.d?t:new p("/","divide",[t,new f(e.d)])},number:function(e){return e<0?b(new f(-e)):new f(e)},BigNumber:function(e){return e<0?b(new f(-e)):new f(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")}});function v(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)){var r=a.fraction(e);if(r.valueOf()===e)return r}return e}var g=i({"string, Object":function(e,r){return"BigNumber"===t.number?a.bignumber(e):"Fraction"===t.number?a.fraction(e):v(parseFloat(e),r)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return v(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:v(e.re,t)}});function b(e){return new p("-","unaryMinus",[e])}function y(t,r,n,i){return r.reduce(function(r,a){if(e.isNode(r)||e.isNode(a))e.isNode(r)?e.isNode(a)||(a=d(a)):r=d(r);else{try{return h(t,[r,a],i)}catch(o){}r=d(r),a=d(a)}return n([r,a])})}return function(t,r){var n=function t(r,n){switch(r.type){case"SymbolNode":return r;case"ConstantNode":return"number"!=typeof r.value&&isNaN(r.value)?r:g(r.value,n);case"FunctionNode":if(a[r.name]&&a[r.name].rawArgs)return r;if(-1===["add","multiply"].indexOf(r.name)){var i=r.args.map(function(e){return t(e,n)});if(!i.some(e.isNode))try{return h(r.name,i,n)}catch(M){}return i=i.map(function(t){return e.isNode(t)?t:d(t)}),new m(r.name,i)}case"OperatorNode":var o,f,p=r.fn.toString(),v=c(r);if(r.isUnary())o=[t(r.args[0],n)],f=e.isNode(o[0])?v(o):h(p,o,n);else if(u(r))if(o=(o=l(r)).map(function(e){return t(e,n)}),s(p)){for(var b=[],x=[],w=0;w<o.length;w++)e.isNode(o[w])?x.push(o[w]):b.push(o[w]);b.length>1?(f=y(p,b,v,n),x.unshift(f),f=y(p,x,v,n)):f=y(p,o,v,n)}else f=y(p,o,v,n);else f=y(p,o=r.args.map(function(e){return t(e,n)}),v,n);return f;case"ParenthesisNode":return t(r.content,n);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"UpdateNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(r.type))}}(t,r);return e.isNode(n)?n:d(n)}}},"0n09":function(e,t,r){"use strict";var n=r("1stm");t.name="acoth",t.factory=function(e,t,r,i){var a=i("acoth",{number:function(r){return r>=1||r<=-1||t.predictable?isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0:new e.Complex(r,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(t){return new e.BigNumber(1).div(t).atanh()},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},a}},"0qrq":function(e,t,r){"use strict";t.name="csEtree",t.path="algebra.sparse",t.factory=function(){return function(e,t){if(!e)return null;var r,n,i=e._index,a=e._ptr,o=e._size,s=o[0],u=o[1],l=[],c=[],f=u;if(t)for(r=0;r<s;r++)c[f+r]=-1;for(var p=0;p<u;p++){l[p]=-1,c[0+p]=-1;for(var m=a[p+1],h=a[p];h<m;h++){var d=i[h];for(r=t?c[f+d]:d;-1!==r&&r<p;r=n)n=c[0+r],c[0+r]=p,-1===n&&(l[r]=p);t&&(c[f+d]=p)}}return l}}},"0vDA":function(e,t,r){"use strict";var n=r("1stm"),i=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2};t.name="sinh",t.factory=function(e,t,r,a){var o=a("sinh",{number:i,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return o(t.value)},"Array | Matrix":function(e){return n(e,o,!0)}});return o.toTex={1:"\\sinh\\left(${args[0]}\\right)"},o}},"0vMi":function(e,t,r){"use strict";e.exports={name:"transpose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},"1+Pt":function(e,t,r){"use strict";e.exports={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]}},"12nF":function(e,t,r){"use strict";e.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},"15BG":function(e,t,r){"use strict";e.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},"18w3":function(e,t,r){"use strict";e.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:["getMatrixDataType"]}},"199F":function(e,t,r){"use strict";var n=r("Z2I/");function i(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}t.isNumber=function(e){return"number"==typeof e},t.isInteger=function(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)},t.sign=Math.sign||function(e){return e>0?1:e<0?-1:0},t.format=function(e,r){if("function"==typeof r)return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var i,a="auto";switch(r&&(r.notation&&(a=r.notation),t.isNumber(r)?i=r:t.isNumber(r.precision)&&(i=r.precision)),a){case"fixed":return t.toFixed(e,i);case"exponential":return t.toExponential(e,i);case"engineering":return t.toEngineering(e,i);case"auto":if(r&&r.exponential&&(void 0!==r.exponential.lower||void 0!==r.exponential.upper)){var o=n.map(r,function(e){return e});return o.exponential=void 0,void 0!==r.exponential.lower&&(o.lowerExp=Math.round(Math.log(r.exponential.lower)/Math.LN10)),void 0!==r.exponential.upper&&(o.upperExp=Math.round(Math.log(r.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(r)+" with "+JSON.stringify(o)),t.toPrecision(e,i,o)}return t.toPrecision(e,i,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+a+'". Choose "auto", "exponential", or "fixed".')}},t.splitNumber=function(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=-1!==a?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===o.length&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}},t.toEngineering=function(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=t.roundDigits(t.splitNumber(e),r),a=n.exponent,o=n.coefficients,s=a%3==0?a:a<0?a-3-a%3:a-a%3;if(t.isNumber(r))r>o.length&&(o=o.concat(i(r-o.length)));else{var u=a>=0?a:Math.abs(s);o.length-1<u&&(o=o.concat(i(u-(o.length-1))))}for(var l=Math.abs(a-s),c=1;--l>=0;)c++;var f=o.slice(c).join(""),p=t.isNumber(r)&&f.length||f.match(/[1-9]/)?"."+f:"",m=o.slice(0,c).join("")+p+"e"+(a>=0?"+":"")+s.toString();return n.sign+m},t.toFixed=function(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=t.splitNumber(e),a="number"==typeof r?t.roundDigits(n,n.exponent+1+r):n,o=a.coefficients,s=a.exponent+1,u=s+(r||0);return o.length<u&&(o=o.concat(i(u-o.length))),s<0&&(o=i(1-s).concat(o),s=1),s<o.length&&o.splice(s,0,0===s?"0.":"."),a.sign+o.join("")},t.toExponential=function(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=t.splitNumber(e),a=r?t.roundDigits(n,r):n,o=a.coefficients,s=a.exponent;o.length<r&&(o=o.concat(i(r-o.length)));var u=o.shift();return a.sign+u+(o.length>0?"."+o.join(""):"")+"e"+(s>=0?"+":"")+s},t.toPrecision=function(e,r,n){if(isNaN(e)||!isFinite(e))return String(e);var a=n&&void 0!==n.lowerExp?n.lowerExp:-3,o=n&&void 0!==n.upperExp?n.upperExp:5,s=t.splitNumber(e);if(s.exponent<a||s.exponent>=o)return t.toExponential(e,r);var u=r?t.roundDigits(s,r):s,l=u.coefficients,c=u.exponent;l.length<r&&(l=l.concat(i(r-l.length))),l=l.concat(i(c-l.length+1+(l.length<r?r-l.length:0)));var f=c>0?c:0;return f<(l=i(-c).concat(l)).length-1&&l.splice(f+1,0,"."),u.sign+l.join("")},t.roundDigits=function(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++}return r},t.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},t.DBL_EPSILON=Number.EPSILON||2220446049250313e-31,t.nearlyEqual=function(e,r,n){if(null==n)return e===r;if(e===r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var i=Math.abs(e-r);return i<t.DBL_EPSILON||i<=Math.max(Math.abs(e),Math.abs(r))*n}return!1}},"19eR":function(e,t,r){"use strict";e.exports={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]}},"1PA1":function(e,t,r){"use strict";t.name="randomInt",t.factory=function(e,t,n,i){var a=n(r("ZtGb"))("uniform").randomInt;return a.toTex=void 0,a}},"1YFB":function(e,t,r){"use strict";var n=r("PXUV").isString,i=r("PXUV").format;function a(e,t,r){return e.replace(/\$([\w.]+)/g,function(e,a){for(var o=a.split("."),s=t[o.shift()];o.length&&void 0!==s;){var u=o.shift();s=u?s[u]:s+"."}return void 0!==s?n(s)?s:i(s,r):e})}t.name="print",t.factory=function(e,t,r,n){var i=n("print",{"string, Object | Array":a,"string, Object | Array, number | Object":a});return i.toTex=void 0,i}},"1d6v":function(e,t,r){"use strict";var n=r("aG3p"),i=r("X8kj");t.name="algorithm06",t.factory=function(e,t,a,o){var s=a(r("hj6K")),u=e.SparseMatrix;return function(e,t,r){var a=e._values,l=e._size,c=e._datatype,f=t._values,p=t._size,m=t._datatype;if(l.length!==p.length)throw new i(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var h,d=l[0],v=l[1],g=s,b=0,y=r;"string"==typeof c&&c===m&&(g=o.find(s,[h=c,h]),b=o.convert(0,h),y=o.find(r,[h,h]));for(var x=a&&f?[]:void 0,w=[],M=[],N=new u({values:x,index:w,ptr:M,size:[d,v],datatype:h}),_=x?[]:void 0,A=[],E=[],S=0;S<v;S++){M[S]=w.length;var k=S+1;if(n(e,S,A,_,E,k,N,y),n(t,S,A,_,E,k,N,y),_)for(var O=M[S];O<w.length;){var C=w[O];if(E[C]===k){var L=_[C];g(L,b)?w.splice(O,1):(x.push(L),O++)}else w.splice(O,1)}else for(var T=M[S];T<w.length;)E[w[T]]!==k?w.splice(T,1):T++}return M[v]=w.length,N}}},"1e6s":function(e,t,r){"use strict";e.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},"1h5C":function(e,t,r){var n;!function(r){"use strict";var i={s:1,n:0,d:1};function a(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function r(){}return r.prototype=Error.prototype,t.prototype=new r,t}var o=p.DivisionByZero=a("DivisionByZero"),s=p.InvalidParameter=a("InvalidParameter");function u(e,t){return isNaN(e=parseInt(e,10))&&l(),e*t}function l(){throw new s}var c=function(e,t){var r,n=0,a=1,s=1,c=0,f=0,p=0,m=1,h=1,d=0,v=1,g=1,b=1,y=1e7;if(null==e);else if(void 0!==t)s=(n=e)*(a=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(n=e.n,a=e.d,"s"in e&&(n*=e.s)):0 in e?(n=e[0],1 in e&&(a=e[1])):l(),s=n*a;break;case"number":if(e<0&&(s=e,e=-e),e%1==0)n=e;else if(e>0){for(e>=1&&(e/=h=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));v<=y&&b<=y;){if(e===(r=(d+g)/(v+b))){v+b<=y?(n=d+g,a=v+b):b>v?(n=g,a=b):(n=d,a=v);break}e>r?(d+=g,v+=b):(g+=d,b+=v),v>y?(n=g,a=b):(n=d,a=v)}n*=h}else(isNaN(e)||isNaN(t))&&(a=n=NaN);break;case"string":if(null===(v=e.match(/\d+|./g))&&l(),"-"===v[d]?(s=-1,d++):"+"===v[d]&&d++,v.length===d+1?f=u(v[d++],s):"."===v[d+1]||"."===v[d]?("."!==v[d]&&(c=u(v[d++],s)),(++d+1===v.length||"("===v[d+1]&&")"===v[d+3]||"'"===v[d+1]&&"'"===v[d+3])&&(f=u(v[d],s),m=Math.pow(10,v[d].length),d++),("("===v[d]&&")"===v[d+2]||"'"===v[d]&&"'"===v[d+2])&&(p=u(v[d+1],s),h=Math.pow(10,v[d+1].length)-1,d+=3)):"/"===v[d+1]||":"===v[d+1]?(f=u(v[d],s),m=u(v[d+2],1),d+=3):"/"===v[d+3]&&" "===v[d+1]&&(c=u(v[d],s),f=u(v[d+2],s),m=u(v[d+4],1),d+=5),v.length<=d){s=n=p+(a=m*h)*c+h*f;break}default:l()}if(0===a)throw new o;i.s=s<0?-1:1,i.n=Math.abs(n),i.d=Math.abs(a)};function f(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function p(e,t){if(!(this instanceof p))return new p(e,t);c(e,t),e=p.REDUCE?f(i.d,i.n):1,this.s=i.s,this.n=i.n/e,this.d=i.d/e}p.REDUCE=1,p.prototype={s:1,n:0,d:1,abs:function(){return new p(this.n,this.d)},neg:function(){return new p(-this.s*this.n,this.d)},add:function(e,t){return c(e,t),new p(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(e,t){return c(e,t),new p(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(e,t){return c(e,t),new p(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(e,t){return c(e,t),new p(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new p(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new p(NaN):void 0===e?new p(this.s*this.n%this.d,1):(c(e,t),0===i.n&&0===this.d&&p(0,0),new p(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(e,t){return c(e,t),new p(f(i.n,this.n)*f(i.d,this.d),i.d*this.d)},lcm:function(e,t){return c(e,t),0===i.n&&0===this.n?new p:new p(i.n*this.n,f(i.n,this.n)*f(i.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new p(this.s*this.d,this.n)},pow:function(e){return e<0?new p(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new p(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return c(e,t),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(e,t){c(e,t);var r=this.s*this.n*i.d-i.s*i.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function r(e){return 1===e.length?new p(e[0]):r(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var n=0;n<t.length;n++){var i=r(t.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<e)return i.mul(this.s)}return this},divisible:function(e,t){return c(e,t),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var e,t=this.n,r=this.d,n=[];if(isNaN(this.n)||isNaN(this.d))return n;do{n.push(Math.floor(t/r)),e=t%r,t=r,r=e}while(1!==t);return n},toString:function(e){var t,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return"NaN";p.REDUCE||(r/=t=f(r,n),n/=t),e=e||15;var i=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var r=10%t,n=1;1!==r;n++)if(r=10*r%t,n>2e3)return 0;return n}(0,n),a=function(e,t,r){for(var n=1,a=function(e,t,r){for(var n=1;t>0;e=e*e%r,t>>=1)1&t&&(n=n*e%r);return n}(10,i,t),o=0;o<300;o++){if(n===a)return o;n=10*n%t,a=10*a%t}return 0}(0,n),o=-1===this.s?"-":"";if(o+=r/n|0,r%=n,(r*=10)&&(o+="."),i){for(var s=a;s--;)o+=r/n|0,r%=n,r*=10;for(o+="(",s=i;s--;)o+=r/n|0,r%=n,r*=10;o+=")"}else for(s=e;r&&s--;)o+=r/n|0,r%=n,r*=10;return o}},void 0===(n=(function(){return p}).apply(t,[]))||(e.exports=n)}()},"1pc8":function(e,t,r){"use strict";var n=r("Z2I/");function i(e,t,r){if(void 0!==e[t]&&-1===r.indexOf(e[t])){var n=function(e,t){return r.map(function(e){return e.toLowerCase()}).indexOf(t.toLowerCase())}(0,e[t]);-1!==n?(console.warn('Warning: Wrong casing for configuration option "'+t+'", should be "'+r[n]+'" instead of "'+e[t]+'".'),e[t]=r[n]):console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+r.map(JSON.stringify).join(", ")+".")}}t.name="config",t.math=!0,t.factory=function(e,t,r,a,o){var s=["Matrix","Array"],u=["number","BigNumber","Fraction"];function l(e){if(e){var r=n.map(t,n.clone);i(e,"matrix",s),i(e,"number",u),n.deepExtend(t,e);var a=n.map(t,n.clone),l=n.map(e,n.clone);return o.emit("config",a,r,l),a}return n.map(t,n.clone)}return l.MATRIX=s,l.NUMBER=u,l}},"1rA/":function(e,t,r){"use strict";e.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},"1stm":function(e,t,r){"use strict";e.exports=function e(t,r,n){return t&&"function"==typeof t.map?t.map(function(t){return e(t,r,n)}):r(t)}},"1sx9":function(e,t,r){"use strict";var n=r("sTyi"),i=r("bFQJ"),a=r("PXUV");t.name="sqrtm",t.factory=function(e,t,o,s){var u=o(r("fTxE")),l=o(r("NEdZ")),c=o(r("NU+P")),f=o(r("L/Rn")),p=o(r("O1N0")),m=o(r("QfvV")),h=o(r("v7fr")),d=o(r("itDh")),v=o(r("MKmT")),g=s("sqrtm",{"Array | Matrix":function(t){var r=e.isMatrix(t)?t.size():n.size(t);switch(r.length){case 1:if(1===r[0])return f(t);throw new RangeError("Matrix must be square (size: "+a.format(r)+")");case 2:if(r[0]===r[1])return x(t);throw new RangeError("Matrix must be square (size: "+a.format(r)+")")}}}),b=1e3,y=1e-6;function x(e){var t,r=0,n=e,i=v(h(e));do{var a=n;if(n=c(.5,l(a,m(i))),i=c(.5,l(i,m(a))),(t=d(u(p(n,a))))>y&&++r>b)throw new Error("computing square root of matrix: iterative method could not converge")}while(t>y);return n}return g.toTex={1:"{${args[0]}}".concat(i.operators.pow,"{\\frac{1}{2}}")},g}},"1u6V":function(e,t,r){"use strict";var n=r("199F").nearlyEqual,i=r("rMK7");t.name="unequal",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=a(r("hYuG")),l=a(r("XXc+")),c=a(r("/z5F")),f=a(r("zbDx")),p=a(r("BLb5")),m=r("bFQJ"),h=o("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:d(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,d)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,d)},"Array, Array":function(e,t){return h(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return h(s(e),t)},"Matrix, Array":function(e,t){return h(e,s(t))},"SparseMatrix, any":function(e,t){return c(e,t,d,!1)},"DenseMatrix, any":function(e,t){return p(e,t,d,!1)},"any, SparseMatrix":function(e,t){return c(t,e,d,!0)},"any, DenseMatrix":function(e,t){return p(t,e,d,!0)},"Array, any":function(e,t){return p(s(e),t,d,!1).valueOf()},"any, Array":function(e,t){return p(s(t),e,d,!0).valueOf()}}),d=o("_unequal",{"boolean, boolean":function(e,t){return e!==t},"number, number":function(e,r){return!n(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return!i(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return!e.equals(t)},"Complex, Complex":function(e,t){return!e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return h(e.value,t.value)}});return h.toTex={2:"\\left(${args[0]}".concat(m.operators.unequal,"${args[1]}\\right)")},h}},"1wo0":function(e,t,r){"use strict";var n=r("Z2I/").clone,i=r("sTyi"),a=r("S2pI"),o=r("X8kj");function s(e,t,r,n){if(n<r){if(e.length!==t.length)throw new o(e.length,t.length);for(var i=[],a=0;a<e.length;a++)i[a]=s(e[a],t[a],r,n+1);return i}return e.concat(t)}t.name="concat",t.factory=function(e,t,u,l){var c=u(r("R4H5")),f=u(r("PbhI")),p=l("concat",{"...Array | Matrix | number | BigNumber":function(t){var r,u,l=t.length,p=-1,m=!1,h=[];for(r=0;r<l;r++){var d=t[r];if(e.isMatrix(d)&&(m=!0),e.isNumber(d)||e.isBigNumber(d)){if(r!==l-1)throw new Error("Dimension must be specified as last argument");if(u=p,p=d.valueOf(),!f(p))throw new TypeError("Integer number expected for dimension");if(p<0||r>0&&p>u)throw new a(p,u+1)}else{var v=n(d).valueOf(),g=i.size(v);if(h[r]=v,u=p,p=g.length-1,r>0&&p!==u)throw new o(u+1,p+1)}}if(0===h.length)throw new SyntaxError("At least one matrix expected");for(var b=h.shift();h.length;)b=s(b,h.shift(),p,0);return m?c(b):b},"...string":function(e){return e.join("")}});return p.toTex=void 0,p}},"1zwi":function(e,t,r){"use strict";e.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},"2/jM":function(e,t,r){"use strict";e.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},"23XJ":function(e,t,r){"use strict";e.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]}},"2C3G":function(e,t,r){"use strict";var n=r("199F"),i=r("1stm");t.name="sign",t.factory=function(e,t,r,a){var o=a("sign",{number:n.sign,Complex:function(e){return e.sign()},BigNumber:function(t){return new e.BigNumber(t.cmp(0))},Fraction:function(t){return new e.Fraction(t.s,1)},"Array | Matrix":function(e){return i(e,o,!0)},Unit:function(e){return o(e.value)}});return o.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},o}},"2g85":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("XDH7").transform,a=r("4bae").getSafeProperty;t.factory=function(e,t,o,s){var u=o(r("Wail"));return function(e,t){try{if(Array.isArray(e))return u(e,t);if(e&&"function"==typeof e.subset)return e.subset(t);if("string"==typeof e)return u(e,t);if("object"===n(e)){if(!t.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return a(e,t.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw i(r)}}}},"2gKi":function(e,t,r){"use strict";var n=r("4bae").getSafeProperty;t.math=!0,t.name="help",t.factory=function(e,t,i,a,o){var s=i(r("UzSP"));return a("help",{any:function(t){var r,i=t;if("string"!=typeof t)for(r in o)if(o.hasOwnProperty(r)&&t===o[r]){i=r;break}var a=n(s,i);if(!a)throw new Error('No documentation found on "'+i+'"');return new e.Help(a)}})}},"2l0z":function(e,t,r){"use strict";Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isNaN=Number.isNaN||function(e){return e!=e}},"2naj":function(e,t,r){"use strict";e.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']}},"2ppj":function(e,t,r){"use strict";e.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},"35fj":function(e,t,r){"use strict";var n=r("Tb0o");t.name="ConditionalNode",t.path="expression.node",t.factory=function(e,t,i,a){var o=i(r("K6lB")),s=i(r("uUDd"));function u(t,r,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError("Parameter condition must be a Node");if(!e.isNode(r))throw new TypeError("Parameter trueExpr must be a Node");if(!e.isNode(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=r,this.falseExpr=n}return(u.prototype=new o).type="ConditionalNode",u.prototype.isConditionalNode=!0,u.prototype._compile=function(t,r){var n=this.condition._compile(t,r),i=this.trueExpr._compile(t,r),a=this.falseExpr._compile(t,r);return function(t,r,o){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if(e.isBigNumber(t))return!t.isZero();if(e.isComplex(t))return!(!t.re&&!t.im);if(e.isUnit(t))return!!t.value}if(null==t)return!1;throw new TypeError('Unsupported type of condition "'+s(t)+'"')}(n(t,r,o))?i(t,r,o):a(t,r,o)}},u.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},u.prototype.map=function(e){return new u(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},u.prototype.clone=function(){return new u(this.condition,this.trueExpr,this.falseExpr)},u.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=n.getPrecedence(this,t),i=this.condition.toString(e),a=n.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==a&&a<=r)&&(i="("+i+")");var o=this.trueExpr.toString(e),s=n.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&s<=r)&&(o="("+o+")");var u=this.falseExpr.toString(e),l=n.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&l<=r)&&(u="("+u+")"),i+" ? "+o+" : "+u},u.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},u.fromJSON=function(e){return new u(e.condition,e.trueExpr,e.falseExpr)},u.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=n.getPrecedence(this,t),i=this.condition.toHTML(e),a=n.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==a&&a<=r)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.trueExpr.toHTML(e),s=n.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&s<=r)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.falseExpr.toHTML(e),l=n.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&l<=r)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i+'<span class="math-operator math-conditional-operator">?</span>'+o+'<span class="math-operator math-conditional-operator">:</span>'+u},u.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},u}},"3Cwk":function(e,t,r){"use strict";var n=r("znhL");e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return n(e,t,function(e,t){return e&t})}},"3JUN":function(e,t,r){"use strict";e.exports={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.eval({x: 2})"],seealso:["derivative","parse","eval"]}},"3LJV":function(e,t,r){"use strict";var n=r("6cPB");e.exports=function e(t,r){n(t)&&(t=t.valueOf());for(var i=0,a=t.length;i<a;i++){var o=t[i];Array.isArray(o)?e(o,r):r(o)}}},"3bBt":function(e,t,r){"use strict";e.exports={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]}},"3efQ":function(e,t,r){"use strict";var n=r("LHK7"),i=n.object,a=n.string;t.name="det",t.factory=function(e,t,n,o){var s=n(r("R4H5")),u=n(r("O1N0")),l=n(r("NU+P")),c=n(r("7DiD")),f=n(r("gpKz")),p=o("det",{any:function(e){return i.clone(e)},"Array | Matrix":function(t){var r;switch((r=e.isMatrix(t)?t.size():Array.isArray(t)?(t=s(t)).size():[]).length){case 0:return i.clone(t);case 1:if(1===r[0])return i.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(r)+")");case 2:var n=r[0];if(n===r[1])return function(e,t,r){if(1===t)return i.clone(e[0][0]);if(2===t)return u(l(e[0][0],e[1][1]),l(e[1][0],e[0][1]));for(var n=f(e),a=n.U[0][0],o=1;o<t;o++)a=l(a,n.U[o][o]);for(var s=0,p=0,m=[];;){for(;m[p];)p++;if(p>=t)break;for(var h=p,d=0;!m[n.p[h]];)m[n.p[h]]=!0,h=n.p[h],d++;d%2==0&&s++}return s%2==0?a:c(a)}(t.clone().valueOf(),n);throw new RangeError("Matrix must be square (size: "+a.format(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(r)+")")}}});return p.toTex={1:"\\det\\left(${args[0]}\\right)"},p}},"3nsm":function(e,t,r){"use strict";var n=r("1stm"),i=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)};t.name="acosh",t.factory=function(e,t,r,a){var o=a("acosh",{number:function(r){return r>=1||t.predictable?i(r):r<=-1?new e.Complex(Math.log(Math.sqrt(r*r-1)-r),Math.PI):new e.Complex(r,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return n(e,o)}});return o.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},o}},"47Dd":function(e,t,r){"use strict";e.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},"4Fqd":function(e,t,r){"use strict";e.exports=[r("xmOI"),r("L2qZ"),r("ZfQs"),r("xLlM"),r("uvCz"),r("i07G"),r("H+Qf"),r("m1wG"),r("m4e2"),r("/cHz"),r("1u6V")]},"4Fzr":function(e,t,r){"use strict";e.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]}},"4I3K":function(e,t,r){"use strict";e.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","var"]}},"4KCs":function(e,t,r){"use strict";var n=r("1stm");t.name="arg",t.factory=function(e,t,r,i){var a=i("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(t){return e.BigNumber.atan2(0,t)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\arg\\left(${args[0]}\\right)"},a}},"4N+4":function(e,t,r){"use strict";e.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},"4TJV":function(e,t,r){"use strict";e.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},"4ZVG":function(e,t,r){"use strict";e.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]}},"4anq":function(e,t,r){"use strict";e.exports={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},"4bae":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("Z2I/").hasOwnProperty;function a(e,t){return!(!e||"object"!==n(e)||!i(u,t)&&(t in Object.prototype||t in Function.prototype))}function o(e,t){return!(!e||"function"!=typeof e[t]||i(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)||!i(l,t)&&(t in Object.prototype||t in Function.prototype))}function s(e){return"object"===n(e)&&e&&e.constructor===Object}var u={length:!0,name:!0},l={toString:!0,valueOf:!0,toLocaleString:!0};t.getSafeProperty=function(e,t){if(s(e)&&a(e,t))return e[t];if("function"==typeof e[t]&&o(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')},t.setSafeProperty=function(e,t,r){if(s(e)&&a(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')},t.isSafeProperty=a,t.validateSafeMethod=function(e,t){if(!o(e,t))throw new Error('No access to method "'+t+'"')},t.isSafeMethod=o,t.isPlainObject=s},"4fwU":function(e,t,r){"use strict";var n=r("X8kj");t.name="algorithm02",t.factory=function(e,t,i,a){var o=i(r("hj6K")),s=e.SparseMatrix;return function(e,t,r,i){var u=e._data,l=e._size,c=e._datatype,f=t._values,p=t._index,m=t._ptr,h=t._size,d=t._datatype;if(l.length!==h.length)throw new n(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v,g=l[0],b=l[1],y=o,x=0,w=r;"string"==typeof c&&c===d&&(y=a.find(o,[v=c,v]),x=a.convert(0,v),w=a.find(r,[v,v]));for(var M=[],N=[],_=[],A=0;A<b;A++){_[A]=N.length;for(var E=m[A+1],S=m[A];S<E;S++){var k=p[S],O=i?w(f[S],u[k][A]):w(u[k][A],f[S]);y(O,x)||(N.push(k),M.push(O))}}return _[b]=N.length,new s({values:M,index:N,ptr:_,size:[g,b],datatype:v})}}},"4raW":function(e,t,r){"use strict";e.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},"4vqq":function(e,t,r){"use strict";t.name="csMarked",t.path="algebra.sparse",t.factory=function(){return function(e,t){return e[t]<0}}},"52D4":function(e,t,r){"use strict";var n=r("1stm"),i=r("199F").sign,a=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],o=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],s=Math.pow(2,53);t.name="erf",t.factory=function(e,t,r,u){var l=u("erf",{number:function(e){var t=Math.abs(e);return t>=s?i(e):t<=.46875?i(e)*function(e){var t,r=e*e,n=a[0][4]*r,i=r;for(t=0;t<3;t+=1)n=(n+a[0][t])*r,i=(i+o[0][t])*r;return e*(n+a[0][3])/(i+o[0][3])}(t):t<=4?i(e)*(1-function(e){var t,r=a[1][8]*e,n=e;for(t=0;t<7;t+=1)r=(r+a[1][t])*e,n=(n+o[1][t])*e;var i=(r+a[1][7])/(n+o[1][7]),s=parseInt(16*e)/16,u=(e-s)*(e+s);return Math.exp(-s*s)*Math.exp(-u)*i}(t)):i(e)*(1-function(e){var t,r=1/(e*e),n=a[2][5]*r,i=r;for(t=0;t<4;t+=1)n=(n+a[2][t])*r,i=(i+o[2][t])*r;var s=r*(n+a[2][4])/(i+o[2][4]);s=(.5641895835477563-s)/e;var u=(e-(r=parseInt(16*e)/16))*(e+r);return Math.exp(-r*r)*Math.exp(-u)*s}(t))},BigNumber:function(t){return new e.BigNumber(l(t.toNumber()))},"Array | Matrix":function(e){return n(e,l)}});return l.toTex={1:"erf\\left(${args[0]}\\right)"},l}},"592q":function(e,t,r){"use strict";var n=r("Z2I/").lazy;function i(e,t,r){n(e,t,r),n(e.expression.mathWithTransform,t,r)}t.factory=function(e,t,r,n,a){function o(t){var r=e.Unit.parse(t);return r.fixPrefix=!0,r}i(a,"speedOfLight",function(){return o("299792458 m s^-1")}),i(a,"gravitationConstant",function(){return o("6.6738480e-11 m^3 kg^-1 s^-2")}),i(a,"planckConstant",function(){return o("6.626069311e-34 J s")}),i(a,"reducedPlanckConstant",function(){return o("1.05457172647e-34 J s")}),i(a,"magneticConstant",function(){return o("1.2566370614e-6 N A^-2")}),i(a,"electricConstant",function(){return o("8.854187817e-12 F m^-1")}),i(a,"vacuumImpedance",function(){return o("376.730313461 ohm")}),i(a,"coulomb",function(){return o("8.9875517873681764e9 N m^2 C^-2")}),i(a,"elementaryCharge",function(){return o("1.60217656535e-19 C")}),i(a,"bohrMagneton",function(){return o("9.2740096820e-24 J T^-1")}),i(a,"conductanceQuantum",function(){return o("7.748091734625e-5 S")}),i(a,"inverseConductanceQuantum",function(){return o("12906.403721742 ohm")}),i(a,"magneticFluxQuantum",function(){return o("2.06783375846e-15 Wb")}),i(a,"nuclearMagneton",function(){return o("5.0507835311e-27 J T^-1")}),i(a,"klitzing",function(){return o("25812.807443484 ohm")}),i(a,"bohrRadius",function(){return o("5.291772109217e-11 m")}),i(a,"classicalElectronRadius",function(){return o("2.817940326727e-15 m")}),i(a,"electronMass",function(){return o("9.1093829140e-31 kg")}),i(a,"fermiCoupling",function(){return o("1.1663645e-5 GeV^-2")}),i(a,"fineStructure",function(){return.007297352569824}),i(a,"hartreeEnergy",function(){return o("4.3597443419e-18 J")}),i(a,"protonMass",function(){return o("1.67262177774e-27 kg")}),i(a,"deuteronMass",function(){return o("3.3435830926e-27 kg")}),i(a,"neutronMass",function(){return o("1.6749271613e-27 kg")}),i(a,"quantumOfCirculation",function(){return o("3.636947552024e-4 m^2 s^-1")}),i(a,"rydberg",function(){return o("10973731.56853955 m^-1")}),i(a,"thomsonCrossSection",function(){return o("6.65245873413e-29 m^2")}),i(a,"weakMixingAngle",function(){return.222321}),i(a,"efimovFactor",function(){return 22.7}),i(a,"atomicMass",function(){return o("1.66053892173e-27 kg")}),i(a,"avogadro",function(){return o("6.0221412927e23 mol^-1")}),i(a,"boltzmann",function(){return o("1.380648813e-23 J K^-1")}),i(a,"faraday",function(){return o("96485.336521 C mol^-1")}),i(a,"firstRadiation",function(){return o("3.7417715317e-16 W m^2")}),i(a,"loschmidt",function(){return o("2.686780524e25 m^-3")}),i(a,"gasConstant",function(){return o("8.314462175 J K^-1 mol^-1")}),i(a,"molarPlanckConstant",function(){return o("3.990312717628e-10 J s mol^-1")}),i(a,"molarVolume",function(){return o("2.241396820e-10 m^3 mol^-1")}),i(a,"sackurTetrode",function(){return-1.164870823}),i(a,"secondRadiation",function(){return o("1.438777013e-2 m K")}),i(a,"stefanBoltzmann",function(){return o("5.67037321e-8 W m^-2 K^-4")}),i(a,"wienDisplacement",function(){return o("2.897772126e-3 m K")}),i(a,"molarMass",function(){return o("1e-3 kg mol^-1")}),i(a,"molarMassC12",function(){return o("1.2e-2 kg mol^-1")}),i(a,"gravity",function(){return o("9.80665 m s^-2")}),i(a,"planckLength",function(){return o("1.61619997e-35 m")}),i(a,"planckMass",function(){return o("2.1765113e-8 kg")}),i(a,"planckTime",function(){return o("5.3910632e-44 s")}),i(a,"planckCharge",function(){return o("1.87554595641e-18 C")}),i(a,"planckTemperature",function(){return o("1.41683385e+32 K")})},t.lazy=!1,t.math=!0},"5Flq":function(e,t,r){"use strict";e.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},"5QTM":function(e,t,r){"use strict";e.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},"5bck":function(e,t,r){"use strict";e.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},"5ek8":function(e,t,r){"use strict";e.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},"5gcK":function(e,t,r){"use strict";var n=r("1stm");t.name="cos",t.factory=function(e,t,r,i){var a=i("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return a(t.value)},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\cos\\left(${args[0]}\\right)"},a}},"5iLT":function(module,exports,__webpack_require__){var printPrecision=3,LALOLibPlotsIndex=0,LALOLibPlots=new Array,LALOLABPLOTMOVING=!1;if(void 0===console)var console={log:function(){}};function laloprint(e,t,r){return void 0===t&&(t="LALOLibOutput"),void 0===r&&(r=!0),printMat(e,size(e),t,r)}function printMat(e,t,r,n){if(void 0===n&&(n=!1),void 0===r||!0===r){if("matrix"==type(e)){var i="[",a=t[0],o=t[1];for(s=0;s<a;s++){for(i+="[",u=0;u<o-1;u++)i+=printNumber(e.val[s*e.n+u])+",";i+=s<a-1?printNumber(e.val[s*e.n+u])+"]; ":printNumber(e.val[s*e.n+u])+"]"}return i+"]"}if("vector"==type(e)){o=e.length,i="";for(var s=0;s<o;s++)i+="[ "+printNumber(e[s])+" ]<br>";return console.log(i),i}}else{var u,l="";if(isScalar(e))l+=e+"<br>";else if("vector"==type(e))for(o=t[0],s=0;s<o;s++)l+="[ "+printNumber(e[s])+" ]<br>";else for(a=t[0],o=t[1],s=0;s<a;s++){for(l+="[ ",u=0;u<o-1;u++)l+=printNumber(e.val[s*e.n+u])+", ";l+=printNumber(e.val[s*e.n+u])+" ]<br>"}n?document.getElementById(r).innerHTML+=l:document.getElementById(r).innerHTML=l}}function printNumber(e){switch(typeof e){case"undefined":return"0";case"string":case"boolean":return e;default:if(e==1/0)return"Inf";if(e==-1/0)return"-Inf";var t=Math.floor(e);return Math.abs(e-t)<223e-18?""+t:e.toFixed(printPrecision)}}function error(e){throw new Error(e)}function plot(e){for(var t,r,n,i,a=new Array,o=new Array,s=new Array,u=1/0,l=-1/0,c=1/0,f=-1/0,p=0,m=0;p<arguments.length;){if("vector"==type(arguments[p]))p+1<arguments.length&&"vector"==type(arguments[p+1])?(t=arguments[p],r=arguments[p+1],p++):t=range((r=arguments[p]).length);else{if("matrix"!=type(arguments[p]))return"undefined";if(1==arguments[p].n)t=range((r=arguments[p].val).length);else if(1==arguments[p].m)t=range((r=arguments[p].val).length);else{if(2!=arguments[p].n){t=range(arguments[p].n);for(var h=0;h<arguments[p].m;h++){for(r=arguments[p].row(h),a[m]=[new Array(t.length),new Array(t.length)],i=0;i<t.length;i++)a[m][0][i]=t[i],a[m][1][i]=r[i],t[i]<u&&(u=t[i]),t[i]>l&&(l=t[i]),r[i]>f&&(f=r[i]),r[i]<c&&(c=r[i]);o[m]=void 0,s[m]="",m++}p++;continue}t=getCols(arguments[p],[0]),r=getCols(arguments[p],[1])}}for(n=void 0,p+1<arguments.length&&"string"==type(arguments[p+1])&&(n=arguments[p+1],p++),legend="",p+1<arguments.length&&"string"==type(arguments[p+1])&&(legend=arguments[p+1],p++),a[m]=[new Array(t.length),new Array(t.length)],i=0;i<t.length;i++)a[m][0][i]=t[i],a[m][1][i]=r[i],t[i]<u&&(u=t[i]),t[i]>l&&(l=t[i]),r[i]>f&&(f=r[i]),r[i]<c&&(c=r[i]);o[m]=n,s[m]=legend,m++,p++}var d=l-u,v=Math.max(f-c,1);f+=.1*v,(c-=.1*v)>0&&(c=-.1*f),f<0&&(f=-.1*c);var g={data:a,minX:u-=.1*d,maxX:l+=.1*d,minY:c,maxY:f,styles:o,legend:s},b="LALOLibPlot"+LALOLibPlotsIndex;LALOLibOutput.innerHTML+="<br><div style='position:relative;left:0px;top:0px;text-align:left;'> <div><a onmousemove='mouseposition(event,"+LALOLibPlotsIndex+");' onmousedown='mousestartmove(event,"+LALOLibPlotsIndex+");' onmouseup='mousestopmove(event);' onmouseleave='mousestopmove(event);' ondblclick='zoomoriginal("+LALOLibPlotsIndex+");'><canvas id='"+b+"'  width='500' height='500' style='border: 1px solid black;'></canvas></a></div> <label id='lblposition"+LALOLibPlotsIndex+"'></label> <div style='position: absolute;left: 550px;top: -1em;'> <canvas id='legend"+LALOLibPlotsIndex+"' width='50' height='500'></canvas></div> <div id='legendtxt"+LALOLibPlotsIndex+"' style='position: absolute;left: 610px;top: 0;'></div> </div>";var y=20;LALOLibPlots[LALOLibPlotsIndex]=new Plot(b),LALOLibPlots[LALOLibPlotsIndex].setScalePlot(g.minX,g.maxX,200,g.scaleY),g.minY&&g.maxY&&LALOLibPlots[LALOLibPlotsIndex].view(g.minX,g.maxX,g.minY,g.maxY);var x,w=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,0];for(p=0;p<g.data.length;p++){var M=!0,N=!0;for("string"==typeof g.styles[p]?(g.styles[p].indexOf(".")>=0&&(M=!1,g.styles[p]=g.styles[p].replace(".","")),g.styles[p].indexOf("_")>=0&&(N=!1,g.styles[p]=g.styles[p].replace("_","")),(x=parseColor(g.styles[p]))<0?x=w.splice(0,1)[0]:w.splice(w.indexOf(x),1)):x=x=w.splice(0,1)[0],void 0===x&&(x=0),i=0;i<g.data[p][0].length;i++)N&&LALOLibPlots[LALOLibPlotsIndex].addPoint(g.data[p][0][i],g.data[p][1][i],x),M&&i<g.data[p][0].length-1&&LALOLibPlots[LALOLibPlotsIndex].plot_line(g.data[p][0][i],g.data[p][1][i],g.data[p][0][i+1],g.data[p][1][i+1],x);if(""!=g.legend[p]){var _=document.getElementById("legend"+LALOLibPlotsIndex).getContext("2d");setcolor(_,x),_.lineWidth="3",N&&(_.beginPath(),_.arc(25,y,5,0,2*Math.PI,!0),_.closePath(),_.fill()),M&&(_.beginPath(),_.moveTo(0,y),_.lineTo(50,y),_.stroke()),y+=20,document.getElementById("legendtxt"+LALOLibPlotsIndex).innerHTML+=g.legend[p]+"<br>"}}for(var A=0;A<=LALOLibPlotsIndex;A++)LALOLibPlots[A].replot();window.addEventListener&&document.getElementById(b).addEventListener("DOMMouseScroll",this.mousezoom,!1),document.getElementById(b).onmousewheel=this.mousezoom,LALOLibPlotsIndex++}function colorplot(e){var t,r,n=1/0,i=-1/0,a=1/0,o=-1/0,s=type(arguments[0]);if("matrix"==s&&3==arguments[0].n)t=getCols(arguments[0],[0]),v=getCols(arguments[0],[1]),r=getCols(arguments[0],[2]);else if("matrix"==s&&2==arguments[0].n&&"vector"==type(arguments[1]))t=getCols(arguments[0],[0]),v=getCols(arguments[0],[1]),r=arguments[1];else{if("vector"!=s||"vector"!=type(arguments[1])||"vector"!=type(arguments[2]))return"undefined";t=arguments[0],v=arguments[1],r=arguments[2]}n=min(t),i=max(t),a=min(v),o=max(v);var u=min(r),l=max(r),c=i-n,f=Math.max(o-a,1);o+=.1*f,(a-=.1*f)>0&&(a=-.1*o),o<0&&(o=-.1*a);var p={x:t,y:v,z:r,minX:n-=.1*c,maxX:i+=.1*c,minY:a,maxY:o,minZ:u,maxZ:l},m="LALOLibPlot"+LALOLibPlotsIndex,h=50;LALOLibOutput.innerHTML+="<br><div style='position:relative;left:0px;top:0px;text-align:left;'> <div><a onmousemove='mouseposition(event,"+LALOLibPlotsIndex+");' onmousedown='mousestartmove(event,"+LALOLibPlotsIndex+");' onmouseup='mousestopmove(event);' onmouseleave='mousestopmove(event);' ondblclick='zoomoriginal("+LALOLibPlotsIndex+");'><canvas id='"+m+"'  width='500' height='500' style='border: 1px solid black;'></canvas></a></div> <label id='lblposition"+LALOLibPlotsIndex+"'></label> <div style='position: absolute;left: 550px;top: -1em;'><label id='legendmaxZ"+LALOLibPlotsIndex+"' style='font-family:verdana;font-size:80%;'></label><br>  <canvas id='legend"+LALOLibPlotsIndex+"' width='"+h+"' height='500'></canvas><br><label id='legendminZ"+LALOLibPlotsIndex+"' style='font-family:verdana;font-size:80%;'></label></div> <div id='legendtxt"+LALOLibPlotsIndex+"' style='position: absolute;left: 610px;top: 0;'></div> </div>",LALOLibPlots[LALOLibPlotsIndex]=new ColorPlot(m),LALOLibPlots[LALOLibPlotsIndex].setScale(p.minX,p.maxX,p.minY,p.maxY,p.minZ,p.maxZ),LALOLibPlots[LALOLibPlotsIndex].view(p.minX,p.maxX,p.minY,p.maxY);for(var d=0;d<p.x.length;d++)LALOLibPlots[LALOLibPlotsIndex].addPoint(p.x[d],p.y[d],p.z[d]);LALOLibPlots[LALOLibPlotsIndex].replot(),h=50;var v,g=document.getElementById("legend"+LALOLibPlotsIndex).getContext("2d"),b=document.getElementById("legend"+LALOLibPlotsIndex);if(b)var y=b.height;else y=500;for(d=0;d<LALOLibPlots[LALOLibPlotsIndex].cmap.length;d++)v=Math.floor(d*y/LALOLibPlots[LALOLibPlotsIndex].cmap.length),g.fillStyle="rgb("+LALOLibPlots[LALOLibPlotsIndex].cmap[d][0]+","+LALOLibPlots[LALOLibPlotsIndex].cmap[d][1]+","+LALOLibPlots[LALOLibPlotsIndex].cmap[d][2]+")",g.fillRect(0,y-v,h,y/LALOLibPlots[LALOLibPlotsIndex].cmap.length+1);document.getElementById("legendmaxZ"+LALOLibPlotsIndex).innerHTML=p.maxZ.toPrecision(3),document.getElementById("legendminZ"+LALOLibPlotsIndex).innerHTML=p.minZ.toPrecision(3),window.addEventListener&&document.getElementById(m).addEventListener("DOMMouseScroll",this.mousezoom,!1),document.getElementById(m).onmousewheel=this.mousezoom,LALOLibPlotsIndex++}function plot3(e){for(var t,r,n,i,a,o,s=new Array,u=new Array,l=new Array,c=0,f=0;c<arguments.length;){if("vector"==type(arguments[c])){if(!(c+2<arguments.length&&"vector"==type(arguments[c+1])&&"vector"==type(arguments[c+2])))return"undefined";t=arguments[c],r=arguments[c+1],n=arguments[c+2],c+=2}else{if("matrix"!=type(arguments[c]))return"undefined";for(o=arguments[c].length,t=new Array(o),r=new Array(o),n=new Array(o),a=0;a<o;a++)t[a]=get(arguments[c],a,0),r[a]=get(arguments[c],a,1),n[a]=get(arguments[c],a,2)}for(i=void 0,c+1<arguments.length&&"string"==type(arguments[c+1])&&(i=arguments[c+1],c++),legend="",c+1<arguments.length&&"string"==type(arguments[c+1])&&(legend=arguments[c+1],c++),s[f]=new Array,a=0;a<t.length;a++)s[f][a]=[t[a],r[a],n[a]];u[f]=i,l[f]=legend,f++,c++}var p={data:s,styles:u,legend:l},m="LALOLibPlot"+LALOLibPlotsIndex;LALOLibOutput.innerHTML+='<br><div style="position:relative;left:0px;top:0px;text-align:left;"> <div><a onmousedown="LALOLibPlots['+LALOLibPlotsIndex+'].mousedown(event);" onmouseup="LALOLibPlots['+LALOLibPlotsIndex+'].mouseup(event);" onmousemove="LALOLibPlots['+LALOLibPlotsIndex+'].mouserotation(event);"><canvas id="'+m+'" width="500" height="500" style="border: 1px solid black;" title="Hold down the mouse button to change the view and use the mousewheel to zoom in or out." ></canvas></a></div><label id="lblposition'+LALOLibPlotsIndex+'"></label> <div style="position: absolute;left: 550px;top: -1em;"> <canvas id="legend'+LALOLibPlotsIndex+'" width="50" height="500"></canvas></div> <div id="legendtxt'+LALOLibPlotsIndex+'" style="position: absolute;left: 610px;top: 0;"></div> </div>';var h=20;LALOLibPlots[LALOLibPlotsIndex]=new Plot3D(m),LALOLibPlots[LALOLibPlotsIndex].cameraDistance=30,LALOLibPlots[LALOLibPlotsIndex].angleX=Math.PI/10,LALOLibPlots[LALOLibPlotsIndex].angleZ=Math.PI/10,LALOLibPlots[LALOLibPlotsIndex].axisNameX1="x",LALOLibPlots[LALOLibPlotsIndex].axisNameX2="y",LALOLibPlots[LALOLibPlotsIndex].axisNameX3="z";var d,v=[1,2,3,4,5,0];for(c=0;c<p.data.length;c++){var g=!1,b=!0;for("string"==typeof p.styles[c]?(p.styles[c].indexOf(".")>=0&&(g=!1,p.styles[c]=p.styles[c].replace(".","")),p.styles[c].indexOf("_")>=0&&(b=!1,p.styles[c]=p.styles[c].replace("_","")),(d=parseColor(p.styles[c]))<0?d=v.splice(0,1)[0]:v.splice(v.indexOf(d),1)):d=d=v.splice(0,1)[0],void 0===d&&(d=0),a=0;a<p.data[c].length;a++)b&&(LALOLibPlots[LALOLibPlotsIndex].X.push(p.data[c][a]),LALOLibPlots[LALOLibPlotsIndex].Y.push(d)),g&&a<p.data[c].length-1&&LALOLibPlots[LALOLibPlotsIndex].plot_line(p.data[c][a],p.data[c][a+1],"",d);if(""!=p.legend[c]){var y=document.getElementById("legend"+LALOLibPlotsIndex).getContext("2d");setcolor(y,d),y.lineWidth="3",b&&(y.beginPath(),y.arc(25,h,5,0,2*Math.PI,!0),y.closePath(),y.fill()),g&&(y.beginPath(),y.moveTo(0,h),y.lineTo(50,h),y.stroke()),h+=20,document.getElementById("legendtxt"+LALOLibPlotsIndex).innerHTML+=p.legend[c]+"<br>"}}LALOLibPlots[LALOLibPlotsIndex].computeRanges(),LALOLibPlots[LALOLibPlotsIndex].replot(),LALOLibPlotsIndex++}function image(e,t){"vector"==type(e)&&(e=mat([e]));var r,n=min(e),i=max(e),a=e.length,o=e.n,s=i-n,u=0,l=new Array;for(m=0;m<a;m++){var c=e.row(m);for(r=0;r<o;r++)v=mul((c[r]-n)/s,ones(3)),l[u]=[m/a,r/o,v],u++}var f,p,m,h,d,v,g={data:l,style:[a,o,n,i],title:t},b="LALOLibPlot"+LALOLibPlotsIndex,y=500,x=500;(t=g.title)&&(LALOLibOutput.innerHTML+="<h3>"+t+"</h3>  ( "+g.style[0]+" by "+g.style[1]+" matrix )"),g.style[1]>y&&(y=g.style[1],plotlegend.style.left=y+60+"px"),g.style[0]>x&&(x=g.style[0]),f=y/g.style[1],p=x/g.style[0],LALOLibOutput.innerHTML+='<div style="position:relative;left:0px;top:0px;text-align:left;"> <div><a onmousemove="mouseimageposition(event,'+LALOLibPlotsIndex+');"><canvas id="'+b+'"  width="'+y+'" height="'+x+'" style="border: 1px solid black;"></canvas></a></div><label id="lblposition'+LALOLibPlotsIndex+'"></label> <div style="position: absolute;left: 550px;top: -1em;">'+g.style[2].toFixed(3)+'<br> <canvas id="legend'+LALOLibPlotsIndex+'" width="50" height="500"></canvas> <br>'+g.style[3].toFixed(3)+" </div>  </div>",LALOLibPlots[LALOLibPlotsIndex]=g,LALOLibPlots[LALOLibPlotsIndex].canvasId=b;var w=document.getElementById(b);if(w.getContext){var M=w.getContext("2d");for(m=0;m<g.data.length;m++)h=w.width*LALOLibPlots[LALOLibPlotsIndex].data[m][1],d=w.height*LALOLibPlots[LALOLibPlotsIndex].data[m][0],v=LALOLibPlots[LALOLibPlotsIndex].data[m][2],M.fillStyle="rgb("+Math.floor(255*(1-v[0]))+","+Math.floor(255*(1-v[1]))+","+Math.floor(255*(1-v[2]))+")",M.fillRect(h,d,f+1,p+1)}var N=document.getElementById("legend"+LALOLibPlotsIndex);for(M=N.getContext("2d"),m=0;m<255;m++)d=Math.floor(m*N.height/255),M.fillStyle="rgb("+(255-m)+","+(255-m)+","+(255-m)+")",M.fillRect(0,d,50,N.height/255+1);LALOLibPlots[LALOLibPlotsIndex].pixelWidth=f,LALOLibPlots[LALOLibPlotsIndex].pixelHeight=p,LALOLibPlotsIndex++}function parseColor(e){if(void 0===e)return-1;var t;switch(e){case"k":case"black":t=0;break;case"blue":case"b":t=1;break;case"r":case"red":t=2;break;case"g":case"green":t=3;break;case"m":case"magenta":t=4;break;case"y":case"yellow":t=5;break;default:t=-1}return t}function mousezoom(e,t,r){e||(e=window.event),e.preventDefault(),void 0===r&&(r=0),void 0===t?(t=0,e.wheelDelta?t=e.wheelDelta/30:e.detail&&(t=-e.detail)):0!=e.button&&(t*=-1);var n=document.getElementById(LALOLibPlots[r].canvasId).getBoundingClientRect();LALOLibPlots[r].zoom(1+t/30,1+t/30,e.clientX-n.left,e.clientY-n.top)}function zoomoriginal(e){LALOLibPlots[e].resetzoom()}function mouseposition(e,t){var r=document.getElementById(LALOLibPlots[t].canvasId),n=r.getBoundingClientRect(),i=e.clientX-n.left,a=e.clientY-n.top;if(LALOLABPLOTMOVING){var o=i-LALOLABPLOTxprev,s=a-LALOLABPLOTyprev;(Math.abs(o)>1||Math.abs(s)>1)&&LALOLibPlots[t].translate(o,s),LALOLABPLOTxprev=i,LALOLABPLOTyprev=a}else{var u=i/LALOLibPlots[t].scaleX+LALOLibPlots[t].minX,l=(r.height-a)/LALOLibPlots[t].scaleY+LALOLibPlots[t].minY;document.getElementById("lblposition"+t).innerHTML="x = "+u.toFixed(3)+", y = "+l.toFixed(3)}}function mousestartmove(e,t){if(0==e.button){LALOLABPLOTMOVING=!0;var r=document.getElementById(LALOLibPlots[t].canvasId).getBoundingClientRect();LALOLABPLOTxprev=e.clientX-r.left,LALOLABPLOTyprev=e.clientY-r.top}else LALOLABPLOTMOVING=!1}function mousestopmove(e){LALOLABPLOTMOVING=!1}function mouseimageposition(e,t){var r=document.getElementById(LALOLibPlots[t].canvasId).getBoundingClientRect(),n=e.clientX-r.left,i=LALOLibPlots[t].style[1],a=LALOLibPlots[t].style[2],o=LALOLibPlots[t].style[3],s=Math.floor((e.clientY-r.top)/LALOLibPlots[t].pixelHeight),u=Math.floor(n/LALOLibPlots[t].pixelWidth);if(u<i){var l=LALOLibPlots[t].data[s*i+u][2][0]*(o-a)+a;document.getElementById("lblposition"+t).innerHTML="Matrix[ "+s+" ][ "+u+" ] = "+l.toFixed(3)}}function lalo(e){var t=laloparse(e);return self.eval(t)}function laloparse(e){var t,r=e.split("\n"),n="";for(t=0;t<r.length;t++)r[t].length>0&&(r[t].indexOf("{")>=0||r[t].indexOf("}")>=0?(n+=r[t],r[t].indexOf("}")>=0&&(n+=" ;\n")):n+=parseCommand(r[t])+" ;\n");return n}function parseSplittedCommand(e){var t,r,n,i=["==","!=",">=","<=",">","<","\\",":","+","-",".*","*","./","^","'"],a=["isEqual","isNotEqual","isGreaterOrEqual","isLowerOrEqual","isGreater","isLower","solve","range","add","sub","entrywisemul","mul","entrywisediv","pow","undefined"],o=["","","","","","","","range","","minus","","","","","transpose"];for(t=0;t<i.length;t++){var s=e.split(i[t]);if(s.length>1)if(""!=removeSpaces(s[0]))if(""!=removeSpaces(s[1])){for(n=parseSplittedCommand(s[0]),r=1;r<s.length;r++)n=a[t]+"("+n+","+parseSplittedCommand(s[r])+")";e=n}else e=o[t]+"("+parseSplittedCommand(s[0])+")";else{for(n=o[t]+"("+parseSplittedCommand(s[1])+")",r=2;r<s.length;r++)n=a[t]+"("+n+","+parseSplittedCommand(s[r])+")";e=n}}return e}function parseAssignment(e){if(e.indexOf("[")<0)return e;var t=removeSpaces(e).replace("=","").replace(",","]["),r=t.indexOf("]["),n=t.indexOf("["),i=t.substr(0,n);if(r>=0){for(var a=t.substr(n+1,r-n-1),o=r+1;t.indexOf("]",o+1)>=0;)o=t.indexOf("]",o+1);var s,u=t.substr(r+2,o-(r+2));2==(s=a.split(":")).length?a=""==s[0]&&""==s[1]?"[]":"range("+s[0]+","+s[1]+")":3==s.length&&(a="range("+s[0]+","+s[2]+","+s[1]+")");var l=u.split(":");return 2==l.length?u=""==l[0]&&""==l[1]?"[]":"range("+l[0]+","+l[1]+")":3==l.length&&(u="range("+l[0]+","+l[2]+","+l[1]+")"),"set( "+i+","+a+","+u+", "}for(o=n;t.indexOf("]",o+1)>=0;)o=t.indexOf("]",o+1);return 2==(s=(a=t.substr(n+1,o-n-1)).split(":")).length?a=""==s[0]&&""==s[1]?"[]":"range("+s[0]+","+s[1]+")":3==s.length&&(a="range("+s[0]+","+s[2]+","+s[1]+")"),"set( "+i+","+a+", "}function parseBrackets(e){var t,r,n,i,a,o=["[","(",",",";",")","\\","+","-","*","/",":","^","'","=",">","<","!"],s=(e=e.split("][").join(",")).split("");for(t=s.length-1;t>=0;){for(;t>=0&&"["!=s[t];)t--;if(t>=0){for(r=t+1;r<s.length&&"]"!=s[r];)r++;if(!(r<s.length))return;for(i=0,n=0;n<t;)o.indexOf(s[n])>=0&&(i=n+1),n++;if(""==removeSpaces(a=s.slice(i,t).join(""))){s[t]="#",n=t+1;for(var u=!1,l=!1;n<r;)";"==s[n]&&(u=!0,l?(s.splice(n,1,["@",","]),l=!1):s[n]=","),n++;s[r]=u?"$":"@"}else{for(s[i]="get("+a,n=i+1;n<t;n++)s[n]="";s[t]=",",s[r]=")"}}t--}return s.join("").split("#").join("mat([").split("$").join("], true)").split("@").join("])")}function parseCommand(e){var t=e.indexOf("//");t>=0&&(e=e.substr(0,t));var r=e.split("==")[0].split("!=")[0].split(">=")[0].split("<=")[0].indexOf("=");if(r>0){var n=parseAssignment(e.substr(0,r+1)),i=e.substr(r+1);if(n.indexOf("set(")<0&&void 0!==self[removeSpaces(i)]&&!isScalar(self[removeSpaces(i)]))return console.log(d=n+"matrixCopy("+i+")"),d}else n="",i=e;var a,o,s,u=parseBrackets(i).split(""),l=["(","[",",",";"],c=[")","]",",",";"],f="",p=new Array(u.length),m=new Array(u.length);for(s=0;s<u.length;s++)m[s]=s,p[s]=u[s];for(a=u.length-1;a>=0;){for(;a>=0&&l.indexOf(u[a])<0;)a--;if(a>=0){for(o=a+1;o<u.length&&c.indexOf(u[o])<0;)o++;if(!(o<u.length))return"undefined";for(f=parseSplittedCommand(p.slice(m[a]+1,m[o]).join("")),p.splice(m[a]+1,m[o]-m[a]-1,f),","!=u[a]&&(u[a]=" "),u[o]=" ",s=a+1;s<o;s++)m[s]=m[a]+1;var h=m[o]-m[a]-1;for(s=o;s<u.length;s++)m[s]+=1-h}a--}var d=n+parseSplittedCommand(p.join(""));return"set("==n.substr(0,4)&&(d+=" )"),d=parseRangeRange(d),console.log(d),d}function parseRangeRange(e){var t,r,n,i,a,o,s=e.split("range(range(");for(t=0;t<s.length-1;t++){for(o=(n=(i=s[t+1].split(","))[2].split(")"))[0],r=0;n[r].indexOf("(")>=0;)o=o+")"+n[r+1],r++;a=i[1].substr(0,i[1].length-1),i[1]=o,i[2]=a+")"+n.slice(r+1).join(")"),s[t+1]=i.join(",")}return s.join("range(")}function removeSpaces(e){return e.split(" ").join("")}function MLlab(e,t){return new Lalolab(e,!0,t)}function Lalolab(e,t,r){this.id=e,this.callbacks=new Array,void 0===r?r="http://mlweb.loria.fr/":r.length>0&&"/"!=r[r.length-1]&&(r=[r,"/"].join("")),void 0!==t&&t?(this.worker=new Worker(r+"mlworker.js"),this.labtype="ml"):(this.worker=new Worker(r+"lalolibworker.js"),this.labtype="lalo"),this.worker.onmessage=this.onresult,this.worker.parent=this}function importLaloScript(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),lalo(t.responseText)}function getObjectWithoutFunc(e){if("object"!=typeof e)return e;var t={};for(var r in e)switch(type(e[r])){case"vector":t[r]={type:"vector",data:[].slice.call(e[r])};break;case"matrix":t[r]=e[r],t[r].val=[].slice.call(e[r].val);break;case"spvector":t[r]=e[r],t[r].val=[].slice.call(e[r].val),t[r].ind=[].slice.call(e[r].ind);break;case"spmatrix":t[r]=e[r],t[r].val=[].slice.call(e[r].val),t[r].cols=[].slice.call(e[r].cols),t[r].rows=[].slice.call(e[r].rows);break;case"undefined":t[r]=e[r];break;case"function":break;case"Array":t[r]=getObjectWithoutFunc(e[r]),t[r].type="Array",t[r].length=e[r].length;break;default:t[r]=getObjectWithoutFunc(e[r])}return t}function renewObject(obj){var to=type(obj);switch(to){case"number":case"boolean":case"string":case"undefined":return obj;case"vector":return new Float64Array(obj.data);case"matrix":return new Matrix(obj.m,obj.n,obj.val);case"spvector":return new spVector(obj.length,obj.val,obj.ind);case"spmatrix":return new spMatrix(obj.m,obj.n,obj.val,obj.cols,obj.rows);case"object":var newobj={};for(var p in obj)newobj[p]=renewObject(obj[p]);return newobj;case"Array":var newobj=new Array(obj.length);for(var p in obj)newobj[p]=renewObject(obj[p]);return newobj;default:var typearray=obj.type.split(":"),Class=eval(typearray[0]);if(1==typearray.length)var newobj=new Class;else var newobj=new Class(typearray[1]);for(var p in obj)newobj[p]=renewObject(obj[p]);return"SVM"!=typearray[1]&&"SVR"!=typearray[1]||(newobj.kernelFunc=kernelFunction(newobj.kernel,newobj.kernelpar,"spmatrix"==type(newobj.SV)?"spvector":"vector")),"KernelRidgeRegression"==typearray[1]&&(newobj.kernelFunc=kernelFunction(newobj.kernel,newobj.kernelpar,"spmatrix"==type(newobj.X)?"spvector":"vector")),newobj}}function load_data(datastring){var i,cmd="mat( [ ",row,rows=datastring.split("\n"),ri;for(i=0;i<rows.length-1;i++)ri=removeFirstSpaces(rows[i]),""!=ri&&(row=ri.replace(/,/g," ").replace(/ +/g,","),cmd+="new Float64Array(["+row+"]) ,");return ri=removeFirstSpaces(rows[rows.length-1]),""!=ri?(row=ri.replace(/,/g," ").replace(/ +/g,","),cmd+="new Float64Array(["+row+"]) ] , true) "):(cmd=cmd.substr(0,cmd.length-1),cmd+="] , true) "),eval(cmd)}function removeFirstSpaces(e){for(var t=0;t<e.length&&" "==e[t];)t++;return t<e.length?e.slice(t):""}function notifyProgress(e){postMessage({progress:e}),console.log("progress: "+e)}void 0===Math.sign&&(Math.sign=function(e){return e>=0?0==e?0:1:-1}),Lalolab.prototype.close=function(){this.worker.terminate(),this.worker.parent=null},Lalolab.prototype.onprogress=function(e){},Lalolab.prototype.onresult=function(e){if(void 0!==e.data.progress)this.parent.onprogress(e.data.progress);else{var t=this.parent.callbacks.splice(0,1)[0];"function"==typeof t&&t(e.data.output,e.data.cmd,this.parent.id)}},Lalolab.prototype.do=function(e,t){this.callbacks.push(t),this.worker.postMessage({cmd:e,parse:!0})},Lalolab.prototype.exec=function(e,t){this.callbacks.push(t),this.worker.postMessage({cmd:e,parse:!1})},Lalolab.prototype.parse=function(e,t){this.callbacks.push(t),this.worker.postMessage({cmd:e,parse:!1})},Lalolab.prototype.load=function(e,t,r){this.callbacks.push(r),this.worker.postMessage("string"==typeof e?{cmd:t+'= load_data ("'+e+'")',parse:!1}:{cmd:"load_mat",data:e,varname:t,parse:!1})},Lalolab.prototype.import=function(e,t){this.do('importLaloScript("'+e+'")',t)},Lalolab.prototype.importjs=function(e,t){this.exec("importScripts('"+e+"');",t)},Lalolab.prototype.getObject=function(e,t){this.exec("getObjectWithoutFunc("+e+")",function(e){t(renewObject(e))})};var LALOLIB_ERROR="";const EPS=22205e-20;function isZero(e){return Math.abs(e)<EPS}function isInteger(e){return Math.floor(e)==e}function tic(e){"undefined"==typeof TICTOCstartTime&&(TICTOCstartTime=new Array),void 0===e&&(e=0),TICTOCstartTime[e]=new Date}function toc(e){if(void 0===e&&(e=0),"undefined"!=typeof TICTOCstartTime&&void 0!==TICTOCstartTime[e]){var t=TICTOCstartTime[e];return(new Date-t)/1e3}}function type(e){if(null==e)return"undefined";if(e.type)return e.type;var t=typeof e;return"object"==t?Array.isArray(e)?isArrayOfNumbers(e)?"vector":"Array":e.buffer?"vector":t:t}function isArrayOfNumbers(e){for(var t=0;t<e.length;t++)if("number"!=typeof e[t])return!1;return!0}function isScalar(e){switch(typeof e){case"string":case"number":case"boolean":return!0;default:return"Complex"==type(e)}}function printVector(e){const t=e.length;for(var r="[ ",n=0;n<t-1&&n<5;)r+=(isInteger(e[n])?e[n]:e[n].toFixed(3))+"; ",n++;return r+(n==t-1?(isInteger(e[n])?e[n]:e[n].toFixed(3))+" ]":"... ] (length = "+t+")")}function Matrix(e,t,r){this.length=e,this.m=e,this.n=t,this.size=[e,t],this.type="matrix",2==arguments.length?this.val=new Float64Array(e*t):3==arguments.length?this.val=new Float64Array(r):4==arguments.length&&(this.val=r)}function array2mat(e){return mat(e,!0)}function array2vec(e){return vectorCopy(e)}function vec2array(e){return Array.apply([],e)}function size(e,t){var r;switch(type(e)){case"string":case"boolean":case"number":case"Complex":r=[1,1];break;case"vector":case"spvector":case"ComplexVector":r=[e.length,1];break;case"matrix":case"spmatrix":case"ComplexMatrix":r=e.size;break;case"object":default:r=[1,1]}return void 0===t?r:r[t-1]}function ones(e,t){if(1==arguments.length||1==t){for(var r=new Float64Array(e),n=0;n<e;n++)r[n]=1;return r}{var i=new Matrix(e,t);const r=e*t;for(n=0;n<r;n++)i.val[n]=1;return i}}function zeros(e,t){return 1==arguments.length||1==t?new Float64Array(e):new Matrix(e,t)}function eye(e,t){if(void 0===t&&(t=e),1==e&&1==t)return 1;var r=zeros(e,t);const n=e<t?e:t;for(var i=0;i<n;i++)r.val[i*(t+1)]=1;return r}function diag(e){var t,r=type(e);if("vector"==r){var n=zeros(e.length,e.length),i=0;const r=e.length+1;for(t=0;t<e.length;t++)n.val[i]=e[t],i+=r;return n}if("matrix"==r){var a=Math.min(e.m,e.n),o=new Float64Array(a);i=0;const r=e.n+1;for(t=0;t<a;t++)o[t]=e.val[i],i+=r;return o}if("ComplexVector"==r){n=new ComplexMatrix(e.length,e.length),i=0;const r=e.length+1;for(t=0;t<e.length;t++)n.re[i]=e.re[t],n.im[i]=e.im[t],i+=r;return n}if("ComplexMatrix"==r){o=new ComplexVector(a=Math.min(e.m,e.n)),i=0;const r=e.n+1;for(t=0;t<a;t++)o.re[t]=e.re[i],o.im[t]=e.im[i],i+=r;return o}}function vec(e){return new Float64Array(e.val)}function matrixCopy(e){switch(type(e)){case"vector":return vectorCopy(e);case"ComplexVector":return new ComplexVector(e);case"matrix":return new Matrix(e.m,e.n,e.val);case"ComplexMatrix":return new ComplexMatrix(e);case"Array":return arrayCopy(e);case"spvector":case"spmatrix":return e.copy();default:return void error("Error in matrixCopy(A): A is not a matrix nor a vector.")}}function vectorCopy(e){return new Float64Array(e)}function vectorCopyInto(e,t){t.set(e)}function arrayCopy(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=isScalar(e[r])?e[r]:matrixCopy(e[r]);return t}function appendRow(e){var t=zeros(e.m+1,e.n);return t.val.set(e.val),t}function reshape(e,t,r){var n=void 0,i=type(e);return"vector"==i?t*r!=e.length?error("Error in reshape(a,m,n): a.length = "+e.length+" != m*n"):n=new Matrix(t,r,e):"matrix"==i?t*r!=e.m*e.n?error("Error in reshape(A,m,n): A.m * A.n = "+e.m*e.n+" != m*n"):n=1==r?vectorCopy(e.val):new Matrix(t,r,e.val):error("Error in reshape(A): A is neither a vector nor a matrix."),n}function get(e,t,r){var n=typeof t,a=typeof r;if(1==arguments.length)return matrixCopy(e);var o=type(e);if("vector"==o)return"number"==n?t>=0&&t<e.length?e[t]:void error("Error in a[i] = get(a,i): Index i="+t+" out of bounds [0,"+(e.length-1)+"]"):getSubVector(e,t);if("matrix"==o)return"number"==n&&(t=[t]),"number"==a&&(r=[r]),1==t.length&&1==r.length?e.val[t[0]*e.n+r[0]]:0==t.length?getCols(e,r):0==r.length?getRows(e,t):getSubMatrix(e,t,r);if("Array"==o)return"number"==n?e[t]:getSubArray(e,t);if("spmatrix"==o){if("number"==n&&(t=[t]),"number"==a&&(r=[r]),1==t.length&&1==r.length)return e.get(t[0],r[0]);if(1==t.length&&e.rowmajor)return e.row(t[0]);if(1==r.length&&!e.rowmajor)return e.col(r[0]);if(0==r.length)return spgetRows(e,t);if(0==t.length)return spgetCols(e,r)}else{if("spvector"==o)return"number"==n?e.get(t):getSubspVector(e,t);if("ComplexVector"==o)return"number"==n?e.get(t):e.getSubVector(t);if("ComplexMatrix"==o)return"number"==n&&(t=[t]),"number"==a&&(r=[r]),1==t.length&&1==r.length?e.get(i,j):0==t.length?e.getCols(r):0==r.length?e.getRows(t):e.getSubMatrix(t,r)}}function getSubMatrix(e,t,r){var n,i,a,o=r.length;if(1==o)for(a=new Float64Array(t.length),n=0;n<t.length;n++)a[n]=e.val[t[n]*e.n+r[0]];else{a=new Matrix(t.length,o);var s=0;for(n=0;n<t.length;n++){var u=t[n]*e.n;for(i=0;i<o;i++)a.val[s+i]=e.val[u+r[i]];s+=o}}return a}function getRows(e,t){var r=t.length;if(r>1){for(var n=new Matrix(r,e.n),i=0,a=0;a<r;a++){for(var o=0;o<e.n;o++)n.val[i+o]=e.val[t[a]*e.n+o];i+=e.n}return n}return vectorCopy(e.val.subarray(t[0]*e.n,t[0]*e.n+e.n))}function getCols(e,t){var r=e.m,n=t.length;if(n>1){for(var i=new Matrix(r,n),a=0,o=0,s=0;s<r;s++){for(var u=0;u<n;u++)i.val[a+u]=e.val[o+t[u]];a+=n,o+=e.n}return i}for(i=new Float64Array(r),a=0,s=0;s<r;s++)i[s]=e.val[a+t[0]],a+=e.n;return i}function getSubVector(e,t){const r=t.length;for(var n=new Float64Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function getSubArray(e,t){const r=t.length;for(var n=new Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function getrowref(e,t){return e.val.subarray(t*e.n,(t+1)*e.n)}function set(e,t,r,n){var i=typeof t,a=typeof r;if(1!=arguments.length){var o=type(e);if("vector"==o)return n=r,"number"==i?(e[t]=n,n):(0==t.length&&(t=range(e.length)),1==size(n,1)?setVectorScalar(e,t,n):setVectorVector(e,t,n),n);if("matrix"==o){if("number"==i&&(t=[t]),"number"==a&&(r=[r]),1==t.length&&1==r.length)return e.val[t[0]*e.n+r[0]]=n,n;if(0==t.length)return setCols(e,r,n),n;if(0==r.length)return setRows(e,t,n),n;var s=size(n),u=type(n);return 1==s[0]&&1==s[1]?setMatrixScalar(e,t,r,"number"==u?n:"vector"==u?n[0]:n.val[0]):1==r.length?setMatrixColVector(e,t,r[0],n):1==t.length?setMatrixRowVector(e,t[0],r,"vector"==u?n:n.val):setMatrixMatrix(e,t,r,n),n}return"ComplexVector"==o?(n=r,"number"==i?(e.set(t,n),n):(0==t.length&&(t=range(e.length)),1==size(n,1)?e.setVectorScalar(t,n):e.setVectorVector(t,n),n)):void 0}}function setVectorScalar(e,t,r){var n;for(n=0;n<t.length;n++)e[t[n]]=r}function setVectorVector(e,t,r){var n;for(n=0;n<t.length;n++)e[t[n]]=r[n]}function setMatrixScalar(e,t,r,n){var i,a,o=t.length,s=r.length;for(i=0;i<o;i++)for(a=0;a<s;a++)e.val[t[i]*e.n+r[a]]=n}function setMatrixMatrix(e,t,r,n){var i,a,o=t.length,s=r.length;for(i=0;i<o;i++)for(a=0;a<s;a++)e.val[t[i]*e.n+r[a]]=n.val[i*n.n+a]}function setMatrixColVector(e,t,r,n){var i,a=t.length;for(i=0;i<a;i++)e.val[t[i]*e.n+r]=n[i]}function setMatrixRowVector(e,t,r,n){var i,a=r.length;for(i=0;i<a;i++)e.val[t*e.n+r[i]]=n[i]}function setRows(e,t,r){var n,i,a,o=t.length;switch(type(r)){case"vector":for(n=0;n<o;n++)for(a=t[n]*e.n,i=0;i<r.length;i++)e.val[a+i]=r[i];break;case"matrix":var s=0;for(n=0;n<o;n++){for(a=t[n]*e.n,i=0;i<r.n;i++)e.val[a+i]=r.val[s+i];s+=r.n}break;default:for(n=0;n<o;n++)for(a=t[n]*e.n,i=0;i<e.n;i++)e.val[a+i]=r}}function setCols(e,t,r){var n,i=e.m,a=t.length,o=0;switch(type(r)){case"vector":for(n=0;n<i;n++){for(j=0;j<a;j++)e.val[o+t[j]]=r[n];o+=e.n}break;case"matrix":for(n=0;n<i;n++){for(j=0;j<a;j++)e.val[o+t[j]]=r.val[n*r.n+j];o+=e.n}break;default:for(n=0;n<i;n++){for(j=0;j<a;j++)e.val[o+t[j]]=r;o+=e.n}}}function dense(e){return e}function supp(e){const t=type(e);if("vector"==t){var r,n=[];for(r=0;r<e.length;r++)isZero(e[r])||n.push(r);return n}return"spvector"==t?new Float64Array(e.ind):void 0}function range(e,t,r){if(void 0===e)return[];if(void 0===r&&(r=1),void 0===t&&(t=e,e=0),e==t-r)return e;if(e==t)return[];if(e>t){r>0&&(r*=-1);for(var n=new Array(Math.floor((e-t)/Math.abs(r))),i=0,a=e;a>t;a+=r)n[i]=a,i++}else for(n=new Array(Math.floor((t-e)/r)),i=0,a=e;a<t;a+=r)n[i]=a,i++;return n}function swaprows(e,t,r){if(t!=r){var n=t*e.n,i=r*e.n,a=vectorCopy(e.val.subarray(n,n+e.n));e.val.set(vectorCopy(e.val.subarray(i,i+e.n)),n),e.val.set(a,i)}}function swapcols(e,t,r){if(t!=r){var n=getCols(e,[t]);setCols(e,[t],getCols(e,[r])),setCols(e,[r],n)}}function randnScalar(){var e,t,r;do{r=(e=2*Math.random()-1)*e+(t=2*Math.random()-1)*t}while(r>=1);return e*Math.sqrt(-2*Math.log(r)/r)}function randn(e,t){var r;if(void 0===e||1==e&&void 0===t||1==e&&1==t)return randnScalar();if(void 0===t||1==t){r=new Float64Array(e);for(var n=0;n<e;n++)r[n]=randnScalar();return r}for(r=zeros(e,t),n=0;n<e*t;n++)r.val[n]=randnScalar();return r}function randVector(e){for(var t=new Float64Array(e),r=0;r<e;r++)t[r]=Math.random();return t}function randMatrix(e,t){const r=e*t;for(var n=new Float64Array(r),i=0;i<r;i++)n[i]=Math.random();return new Matrix(e,t,n,!0)}function rand(e,t){return void 0===e||1==e&&void 0===t||1==e&&1==t?Math.random():void 0===t||1==t?randVector(e):randMatrix(e,t)}function randnsparse(e,t,r){var n,i,a,o,s;if(n=e>1?e:Math.floor(e*t*r),void 0===t)return randn();if(void 0===r||1==r){for(i=randperm(t),s=zeros(t),a=0;a<n;a++)s[i[a]]=randn();return s}for(s=zeros(t,r),i=randperm(t*r),o=0;o<n;o++)a=Math.floor(i[o]/r),s.val[a*r+(i[o]-a*r)]=randn();return s}function randsparse(e,t,r){var n,i,a,o,s;if(void 0===r&&(r=1),n=e>1?e:Math.floor(e*t*r),void 0===t)return randn();if(1==r){for(i=randperm(t),s=zeros(t),a=0;a<n;a++)s[i[a]]=Math.random();return s}for(s=zeros(t,r),i=randperm(t*r),o=0;o<n;o++)a=Math.floor(i[o]/r),s.val[a*r+(i[o]-a*r)]=Math.random();return s}function randperm(e){if("number"==typeof e)var t=range(e);else t=new Float64Array(e);var r,n,i;for(r=t.length-1;r>1;r--)i=t[n=Math.floor(Math.random()*r)],t[n]=t[r],t[r]=i;return t}Matrix.prototype.get=function(e,t){return this.val[e*this.n+t]},Matrix.prototype.set=function(e,t,r){this.val[e*this.n+t]=r},Matrix.prototype.row=function(e){return this.val.subarray(e*this.n,(e+1)*this.n)},Matrix.prototype.toArray=function(){for(var e=new Array(this.m),t=0,r=0;r<this.m;r++){e[r]=new Array(this.n);for(var n=0;n<this.n;n++)e[r][n]=this.val[t+n];t+=this.n}return e},Matrix.prototype.toArrayOfFloat64Array=function(){for(var e=new Array(this.m),t=0;t<this.m;t++)e[t]=this.val.subarray(t*this.n,(t+1)*this.n);return e};var MathFunctions=Object.getOwnPropertyNames(Math);for(var mf in MathFunctions)"function"==eval("typeof(Math."+MathFunctions[mf]+")")?1==eval("Math."+MathFunctions[mf]+".length")&&(eval(MathFunctions[mf]+" = function (x) { return apply(Math."+MathFunctions[mf]+" , x );};"),eval(MathFunctions[mf]+"Vector = function (x) { return applyVector(Math."+MathFunctions[mf]+" , x );};"),eval(MathFunctions[mf]+"Matrix = function (x) { return applyMatrix(Math."+MathFunctions[mf]+" , x );};")):"number"==eval("typeof(Math."+MathFunctions[mf]+")")&&eval(MathFunctions[mf]+" = Math."+MathFunctions[mf]);function apply(f,x){if("function"==typeof f)switch(type(x)){case"number":return f(x);case"Complex":var ComplexFunctions=["exp","abs"],fc=ComplexFunctions.indexOf(f.name);return fc>=0?eval(ComplexFunctions[fc]+"Complex(x);"):void error("This function has no Complex counterpart (yet).");case"vector":return applyVector(f,x);case"spvector":return applyspVector(f,x);case"ComplexVector":return"abs"==f.name?absComplex(x):applyComplexVector(f,x);case"matrix":return applyMatrix(f,x);case"spmatrix":return applyspMatrix(f,x);case"ComplexMatrix":return"abs"==f.name?absComplex(x):applyComplexMatrix(f,x);default:return"undefined"}}function applyVector(e,t){const r=t.length;for(var n=new Float64Array(r),i=0;i<r;i++)n[i]=e(t[i]);return n}function applyComplexVector(e,t){const r=t.length;for(var n=new ComplexVector(r),i=0;i<r;i++)n.set(i,e(t.get(i)));return n}function applyComplexMatrix(e,t){const r=t.m,n=t.n;for(var i=new ComplexMatrix(r,n),a=0;a<r;a++)for(var o=0;o<n;o++)i.set(a,o,e(t.get(a,o)));return i}function applyMatrix(e,t){return new Matrix(t.m,t.n,applyVector(e,t.val),!0)}function mul(e,t){var r=size(e),n=size(t);switch(isScalar(e)||1!=r[0]||1!=r[1]||(e=get(e,0,0)),isScalar(t)||1!=n[0]||1!=n[1]||(t=get(t,0,0)),type(e)){case"number":switch(type(t)){case"number":return e*t;case"Complex":return mulComplexReal(t,e);case"vector":return mulScalarVector(e,t);case"spvector":return mulScalarspVector(e,t);case"ComplexVector":return mulScalarComplexVector(e,t);case"matrix":return mulScalarMatrix(e,t);case"spmatrix":return mulScalarspMatrix(e,t);case"ComplexMatrix":return mulScalarComplexMatrix(e,t);default:return}break;case"Complex":switch(type(t)){case"number":return mulComplexReal(e,t);case"Complex":return mulComplex(e,t);case"vector":return mulComplexVector(e,t);case"ComplexVector":return mulComplexComplexVector(e,t);case"spvector":return mulComplexspVector(e,t);case"matrix":return mulComplexMatrix(e,t);case"ComplexMatrix":return mulComplexComplexMatrix(e,t);case"spmatrix":return mulComplexspMatrix(e,t);default:return}break;case"vector":switch(type(t)){case"number":return mulScalarVector(t,e);case"Complex":return mulComplexVector(t,e);case"vector":return e.length!=t.length?void error("Error in mul(a,b) (dot product): a.length = "+e.length+" != "+t.length+" = b.length."):dot(e,t);case"spvector":return e.length!=t.length?void error("Error in mul(a,b) (dot product): a.length = "+e.length+" != "+t.length+" = b.length."):dotspVectorVector(t,e);case"ComplexVector":return e.length!=t.length?void error("Error in mul(a,b) (dot product): a.length = "+e.length+" != "+t.length+" = b.length."):dotComplexVectorVector(t,e);case"matrix":return 1==t.m?outerprodVectors(e,t.val):void error("Inconsistent dimensions in mul(a,B): size(a) = ["+r[0]+","+r[1]+"], size(B) = ["+n[0]+","+n[1]+"]");case"spmatrix":return 1==t.m?outerprodVectors(e,fullMatrix(t).val):void error("Inconsistent dimensions in mul(a,B): size(a) = ["+r[0]+","+r[1]+"], size(B) = ["+n[0]+","+n[1]+"]");case"ComplexMatrix":return 1==t.m?transpose(outerprodComplexVectorVector(new ComplexVector(t.re,t.im,!0),e,t.val)):void error("Inconsistent dimensions in mul(a,B): size(a) = ["+r[0]+","+r[1]+"], size(B) = ["+n[0]+","+n[1]+"]");default:return}break;case"spvector":switch(type(t)){case"number":return mulScalarspVector(t,e);case"vector":return e.length!=t.length?void error("Error in mul(a,b) (dot product): a.length = "+e.length+" != "+t.length+" = b.length."):dotspVectorVector(e,t);case"spvector":return e.length!=t.length?void error("Error in mul(a,b) (dot product): a.length = "+e.length+" != "+t.length+" = b.length."):spdot(t,e);case"matrix":return 1==t.m?outerprodspVectorVector(e,t.val):void error("Inconsistent dimensions in mul(a,B): size(a) = ["+r[0]+","+r[1]+"], size(B) = ["+n[0]+","+n[1]+"]");case"spmatrix":return 1==t.m?outerprodspVectorVector(e,fullMatrix(t).val):void error("Inconsistent dimensions in mul(a,B): size(a) = ["+r[0]+","+r[1]+"], size(B) = ["+n[0]+","+n[1]+"]");default:return}break;case"ComplexVector":switch(type(t)){case"number":return mulScalarComplexVector(t,e);case"Complex":return mulComplexComplexVector(t,e);case"vector":return e.length!=t.length?void error("Error in mul(a,b) (dot product): a.length = "+e.length+" != "+t.length+" = b.length."):dotComplexVectorVector(e,t);case"spvector":return e.length!=t.length?void error("Error in mul(a,b) (dot product): a.length = "+e.length+" != "+t.length+" = b.length."):dotComplexVectorspVector(e,t);case"matrix":return 1==t.m?outerprodComplexVectorVector(e,t.val):void error("Inconsistent dimensions in mul(a,B): size(a) = ["+r[0]+","+r[1]+"], size(B) = ["+n[0]+","+n[1]+"]");case"spmatrix":return 1==t.m?outerprodComplexVectorVector(e,fullMatrix(t).val):void error("Inconsistent dimensions in mul(a,B): size(a) = ["+r[0]+","+r[1]+"], size(B) = ["+n[0]+","+n[1]+"]");case"ComplexMatrix":return 1==t.m?outerprodComplexVectors(e,new ComplexVector(t.re,t.im,!0)):void error("Inconsistent dimensions in mul(a,B): size(a) = ["+r[0]+","+r[1]+"], size(B) = ["+n[0]+","+n[1]+"]");default:return}break;case"matrix":switch(type(t)){case"number":return mulScalarMatrix(t,e);case"Complex":return mulComplexMatrix(t,e);case"vector":return 1==e.m?e.val.length!=t.length?void error("Error in mul(a',b): a.length = "+e.val.length+" != "+t.length+" =  b.length."):dot(e.val,t):e.n!=t.length?void error("Error in mul(A,b): A.n = "+e.n+" != "+t.length+" = b.length."):mulMatrixVector(e,t);case"spvector":return 1==e.m?e.val.length!=t.length?void error("Error in mul(a',b): a.length = "+e.val.length+" != "+t.length+" =  b.length."):dotspVectorVector(t,e.val):e.n!=t.length?void error("Error in mul(A,b): A.n = "+e.n+" != "+t.length+" = b.length."):mulMatrixspVector(e,t);case"ComplexVector":return 1==e.m?e.val.length!=t.length?void error("Error in mul(a',b): a.length = "+e.val.length+" != "+t.length+" =  b.length."):dotComplexVectorVector(t,e.val):e.n!=t.length?void error("Error in mul(A,b): A.n = "+e.n+" != "+t.length+" = b.length."):mulMatrixComplexVector(e,t);case"matrix":return e.n!=t.m?void error("Error in mul(A,B): A.n = "+e.n+" != "+t.m+" = B.m."):mulMatrixMatrix(e,t);case"spmatrix":return e.n!=t.m?void error("Error in mul(A,B): A.n = "+e.n+" != "+t.m+" = B.m."):mulMatrixspMatrix(e,t);case"ComplexMatrix":return e.n!=t.m?void error("Error in mul(A,B): A.n = "+e.n+" != "+t.m+" = B.m."):transpose(mulComplexMatrixMatrix(transpose(t),transpose(e)));default:return}break;case"spmatrix":switch(type(t)){case"number":return mulScalarspMatrix(t,e);case"vector":return 1==e.m?e.n!=t.length?void error("Error in mul(a',b): a.length = "+e.val.length+" != "+t.length+" =  b.length."):dot(fullMatrix(e).val,t):e.n!=t.length?void error("Error in mul(A,b): A.n = "+e.n+" != "+t.length+" = b.length."):mulspMatrixVector(e,t);case"spvector":return 1==e.m?e.n!=t.length?void error("Error in mul(a',b): a.length = "+e.val.length+" != "+t.length+" =  b.length."):dotspVectorVector(t,fullMatrix(e).val):e.n!=t.length?void error("Error in mul(A,b): A.n = "+e.n+" != "+t.length+" = b.length."):mulspMatrixspVector(e,t);case"matrix":return e.n!=t.m?void error("Error in mul(A,B): A.n = "+e.n+" != "+t.m+" = B.m."):mulspMatrixMatrix(e,t);case"spmatrix":return e.n!=t.m?void error("Error in mul(A,B): A.n = "+e.n+" != "+t.m+" = B.m."):mulspMatrixspMatrix(e,t);default:return}break;case"ComplexMatrix":switch(type(t)){case"number":return mulScalarComplexMatrix(t,e);case"Complex":return mulComplexComplexMatrix(t,e);case"vector":return 1==e.m?e.val.length!=t.length?void error("Error in mul(a',b): a.length = "+e.val.length+" != "+t.length+" =  b.length."):dotComplexVectorVector(new ComplexVector(e.re,e.im,!0),t):e.n!=t.length?void error("Error in mul(A,b): A.n = "+e.n+" != "+t.length+" = b.length."):mulComplexMatrixVector(e,t);case"spvector":return 1==e.m?e.val.length!=t.length?void error("Error in mul(a',b): a.length = "+e.val.length+" != "+t.length+" =  b.length."):dotComplexVectorspVector(new ComplexVector(e.re,e.im,!0),t):e.n!=t.length?void error("Error in mul(A,b): A.n = "+e.n+" != "+t.length+" = b.length."):mulComplexMatrixspVector(e,t);case"ComplexVector":return 1==e.m?e.val.length!=t.length?void error("Error in mul(a',b): a.length = "+e.val.length+" != "+t.length+" =  b.length."):dotComplexVectors(new ComplexVector(e.re,e.im,!0),t):e.n!=t.length?void error("Error in mul(A,b): A.n = "+e.n+" != "+t.length+" = b.length."):mulComplexMatrixComplexVector(e,t);case"matrix":return e.n!=t.m?void error("Error in mul(A,B): A.n = "+e.n+" != "+t.m+" = B.m."):mulComplexMatrixMatrix(e,t);case"spmatrix":return e.n!=t.m?void error("Error in mul(A,B): A.n = "+e.n+" != "+t.m+" = B.m."):mulComplexMatrixspMatrix(e,t);case"ComplexMatrix":return e.n!=t.m?void error("Error in mul(A,B): A.n = "+e.n+" != "+t.m+" = B.m."):mulComplexMatrices(e,t);default:return}break;default:return}}function mulScalarVector(e,t){var r;const n=t.length;var i=new Float64Array(t);for(r=0;r<n;r++)i[r]*=e;return i}function mulScalarMatrix(e,t){return new Matrix(t.m,t.n,mulScalarVector(e,t.val),!0)}function dot(e,t){const r=e.length;var n,i=0;for(n=0;n<r;n++)i+=e[n]*t[n];return i}function mulMatrixVector(e,t){const r=e.length;for(var n=new Float64Array(r),i=0,a=0;a<r;a++)n[a]=dot(e.val.subarray(i,i+e.n),t),i+=e.n;return n}function mulMatrixTransVector(e,t){const r=e.length,n=e.n;for(var i=new Float64Array(n),a=0,o=0;o<r;o++){for(var s=t[o],u=0;u<n;u++)i[u]+=e.val[a+u]*s;a+=e.n}return i}function mulMatrixMatrix(e,t){const r=e.length,n=t.n,i=t.length;for(var a,o=e.val,s=t.val,u=new Float64Array(r*n),l=0,c=0,f=0;f<r;f++){for(var p=0,m=0;m<i;m++){a=o[l];for(var h=0;h<n;h++)u[c+h]+=a*s[p],p++;l++}c+=n}return new Matrix(r,n,u,!0)}function entrywisemulVector(e,t){var r;const n=e.length;var i=new Float64Array(n);for(r=0;r<n;r++)i[r]=e[r]*t[r];return i}function entrywisemulMatrix(e,t){return new Matrix(e.m,e.n,entrywisemulVector(e.val,t.val),!0)}function entrywisemul(e,t){var r=size(e),n=size(t);switch("number"!=typeof e&&1==r[0]&&1==r[1]&&(e=get(e,0,0)),"number"!=typeof t&&1==n[0]&&1==n[1]&&(t=get(t,0,0)),type(e)){case"number":switch(type(t)){case"number":return e*t;case"Complex":return mulComplexReal(t,e);case"vector":return mulScalarVector(e,t);case"spvector":return mulScalarspVector(e,t);case"ComplexVector":return mulScalarComplexVector(t,e);case"matrix":return mulScalarMatrix(e,t);case"spmatrix":return mulScalarspMatrix(e,t);case"ComplexMatrix":return mulScalarComplexMatrix(t,e);default:return}break;case"vector":switch(type(t)){case"number":return mulScalarVector(t,e);case"Complex":return mulComplexVector(t,e);case"vector":return e.length!=t.length?void error("Error in entrywisemul(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):entrywisemulVector(e,t);case"ComplexVector":return e.length!=t.length?void error("Error in entrywisemul(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):entrywisemulComplexVectorVector(t,e);case"spvector":return e.length!=t.length?void error("Error in entrywisemul(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):entrywisemulspVectorVector(t,e);case"matrix":case"spmatrix":case"ComplexMatrix":return void error("Error in entrywisemul(a,B): a is a vector and B is a matrix.");default:return}break;case"spvector":switch(type(t)){case"number":return mulScalarspVector(t,e);case"vector":return e.length!=t.length?void error("Error in entrywisemul(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):entrywisemulspVectorVector(e,t);case"spvector":return e.length!=t.length?void error("Error in entrywisemul(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):entrywisemulspVectors(e,t);case"matrix":case"spmatrix":return void error("Error in entrywisemul(a,B): a is a vector and B is a Matrix.");default:return}break;case"matrix":switch(type(t)){case"number":return mulScalarMatrix(t,e);case"Complex":return mulComplexMatrix(t,e);case"vector":case"spvector":case"ComplexVector":return void error("Error in entrywisemul(A,b): A is a Matrix and b is a vector.");case"matrix":return e.m!=t.m||e.n!=t.n?void error("Error in entrywisemul(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):entrywisemulMatrix(e,t);case"spmatrix":return e.m!=t.m||e.n!=t.n?void error("Error in entrywisemul(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):entrywisemulspMatrixMatrix(t,e);case"ComplexMatrix":return e.m!=t.m||e.n!=t.n?void error("Error in entrywisemul(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):entrywisemulComplexMatrixMatrix(t,e);default:return}break;case"spmatrix":switch(type(t)){case"number":return mulScalarspMatrix(t,e);case"vector":case"spvector":return void error("Error in entrywisemul(A,b): A is a Matrix and b is a vector.");case"matrix":return e.m!=t.m||e.n!=t.n?void error("Error in entrywisemul(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):entrywisemulspMatrixMatrix(e,t);case"spmatrix":return e.m!=t.m||e.n!=t.n?void error("Error in entrywisemul(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):entrywisemulspMatrices(e,t);default:return}break;case"ComplexVector":switch(type(t)){case"number":return mulScalarComplexVector(t,e);case"Complex":return mulComplexComplexVector(t,e);case"vector":return e.length!=t.length?void error("Error in entrywisemul(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):entrywisemulComplexVectorVector(e,t);case"ComplexVector":return e.length!=t.length?void error("Error in entrywisemul(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):entrywisemulComplexVectors(e,t);case"spvector":return e.length!=t.length?void error("Error in entrywisemul(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):entrywisemulComplexVectorspVector(e,t);case"matrix":case"spmatrix":case"ComplexMatrix":return void error("Error in entrywisemul(a,B): a is a vector and B is a matrix.");default:return}break;case"ComplexMatrix":switch(type(t)){case"number":return mulScalarComplexMatrix(t,e);case"Complex":return mulComplexComplexMatrix(t,e);case"vector":case"spvector":case"ComplexVector":return void error("Error in entrywisemul(A,b): A is a Matrix and b is a vector.");case"matrix":return e.m!=t.m||e.n!=t.n?void error("Error in entrywisemul(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):entrywisemulComplexMatrixMatrix(e,t);case"spmatrix":return e.m!=t.m||e.n!=t.n?void error("Error in entrywisemul(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):entrywisemulComplexMatrixspMatrix(e,t);case"ComplexMatrix":return e.m!=t.m||e.n!=t.n?void error("Error in entrywisemul(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):entrywisemulComplexMatrices(e,t);default:return}break;default:return}}function saxpy(e,t,r){const n=r.length;for(var i=0;i<n;i++)r[i]+=e*t[i]}function gaxpy(e,t,r){const n=e.m,i=e.n;for(var a=0,o=0;o<n;o++)r[o]+=dot(e.val.subarray(a,a+i),t),a+=i}function divVectorScalar(e,t){var r;const n=e.length;var i=new Float64Array(e);for(r=0;r<n;r++)i[r]/=t;return i}function divScalarVector(e,t){var r;const n=t.length;var i=new Float64Array(n);for(r=0;r<n;r++)i[r]=e/t[r];return i}function divVectors(e,t){var r;const n=e.length;var i=new Float64Array(e);for(r=0;r<n;r++)i[r]/=t[r];return i}function divMatrixScalar(e,t){return new Matrix(e.m,e.n,divVectorScalar(e.val,t),!0)}function divScalarMatrix(e,t){return new Matrix(t.m,t.n,divScalarVector(e,t.val),!0)}function divMatrices(e,t){return new Matrix(e.m,e.n,divVectors(e.val,t.val),!0)}function entrywisediv(e,t){var r=type(e),n=type(t);switch(r){case"number":switch(n){case"number":return e/t;case"vector":return divScalarVector(e,t);case"matrix":return divScalarMatrix(e,t);case"spvector":return divScalarspVector(e,t);case"spmatrix":return divScalarspMatrix(e,t);default:return void error("Error in entrywisediv(a,b): b must be a number, a vector or a matrix.")}break;case"vector":switch(n){case"number":return divVectorScalar(e,t);case"vector":return e.length!=t.length?void error("Error in entrywisediv(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):divVectors(e,t);case"spvector":error("Error in entrywisediv(a,b): b is a sparse vector with zeros.");break;default:return void error("Error in entrywisediv(a,B): a is a vector and B is a "+n+".")}break;case"spvector":switch(n){case"number":return mulScalarspVector(1/t,e);case"vector":return e.length!=t.length?void error("Error in entrywisediv(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):divVectorspVector(e,t);case"spvector":return void error("Error in entrywisediv(a,b): b is a sparse vector with zeros.");default:return void error("Error in entrywisediv(a,B): a is a vector and B is a "+n+".")}break;case"matrix":switch(n){case"number":return divMatrixScalar(e,t);case"matrix":return e.m!=t.m||e.n!=t.n?void error("Error in entrywisediv(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):divMatrices(e,t);case"spmatrix":return void error("Error in entrywisediv(A,B): B is a sparse matrix with zeros.");default:return void error("Error in entrywisediv(A,b): a is a matrix and B is a "+n+".")}case"spmatrix":switch(n){case"number":return mulScalarspMatrix(1/t,e);case"matrix":return e.m!=t.m||e.n!=t.n?void error("Error in entrywisediv(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):divMatrixspMatrix(e,t);case"spmatrix":return void error("Error in entrywisediv(A,B): B is a sparse matrix with zeros.");default:return void error("Error in entrywisediv(A,b): a is a matrix and B is a "+n+".")}break;default:return void error("Error in entrywisediv(a,b): a must be a number, a vector or a matrix.")}}function outerprodVectors(e,t,r){var n;const i=e.length,a=t.length;var o=new Matrix(i,a);if(3==arguments.length)for(n=0;n<i;n++)o.val.set(mulScalarVector(r*e[n],t),n*a);else for(n=0;n<i;n++)o.val.set(mulScalarVector(e[n],t),n*a);return o}function outerprod(e,t,r){return"number"==typeof e?"number"==typeof t?2==arguments.length?e*t:e*t*r:new Matrix(1,t.length,mulScalarVector(2==arguments.length?e:e*r,t),!0):1==e.length?"number"==typeof t?2==arguments.length?e[0]*t:e[0]*t*r:new Matrix(1,t.length,mulScalarVector(2==arguments.length?e[0]:e[0]*r,t),!0):"number"==typeof t?mulScalarVector(2==arguments.length?t:r*t,e):1==t.length?mulScalarVector(2==arguments.length?t[0]:r*t[0],e):2==arguments.length?outerprodVectors(e,t):outerprodVectors(e,t,r)}function addScalarVector(e,t){const r=t.length;for(var n=new Float64Array(t),i=0;i<r;i++)n[i]+=e;return n}function addScalarMatrix(e,t){return new Matrix(t.m,t.n,addScalarVector(e,t.val),!0)}function addVectors(e,t){const r=e.length;for(var n=new Float64Array(e),i=0;i<r;i++)n[i]+=t[i];return n}function addMatrices(e,t){return new Matrix(e.m,e.n,addVectors(e.val,t.val),!0)}function add(e,t){const r=type(e),n=type(t);if("number"==r&&"number"==n||"string"==r||"string"==n)return e+t;if("number"==r)switch(n){case"Complex":return addComplexReal(t,e);case"vector":return addScalarVector(e,t);case"matrix":return addScalarMatrix(e,t);case"spvector":return addScalarspVector(e,t);case"spmatrix":return addScalarspMatrix(e,t);case"ComplexVector":return addScalarComplexVector(e,t);case"ComplexMatrix":return addScalarComplexMatrix(e,t);default:return}else if("number"==n)switch(r){case"Complex":return addComplexReal(e,t);case"vector":return addScalarVector(t,e);case"matrix":return addScalarMatrix(t,e);case"spvector":return addScalarspVector(t,e);case"spmatrix":return addScalarspMatrix(t,e);case"ComplexVector":return addScalarComplexVector(t,e);case"ComplexMatrix":return addScalarComplexMatrix(t,e);default:return}else if("vector"==r)switch(n){case"vector":return e.length!=t.length?void error("Error in add(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):addVectors(e,t);case"spvector":return e.length!=t.length?void error("Error in add(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):addVectorspVector(e,t);case"ComplexVector":return e.length!=t.length?void error("Error in add(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):addComplexVectorVector(t,e);case"matrix":case"spmatrix":default:return void error("Error in add(a,B): a is a vector and B is a "+n+".")}else if("matrix"==r)switch(n){case"matrix":return e.m!=t.m||e.n!=t.n?void error("Error in add(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):addMatrices(e,t);case"spmatrix":return e.m!=t.m||e.n!=t.n?void error("Error in add(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):addMatrixspMatrix(e,t);case"ComplexMatrix":return e.m!=t.m||e.n!=t.n?void error("Error in add(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):addComplexMatrixMatrix(t,e);case"vector":case"spvector":default:return void error("Error in add(A,b): a is a matrix and B is a "+n+".")}else if("spvector"==r)switch(n){case"vector":return e.length!=t.length?void error("Error in add(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):addVectorspVector(t,e);case"spvector":return e.length!=t.length?void error("Error in add(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):addspVectors(e,t);case"matrix":case"spmatrix":default:return void error("Error in add(a,B): a is a sparse vector and B is a "+n+".")}else if("spmatrix"==r)switch(n){case"matrix":return e.m!=t.m||e.n!=t.n?void error("Error in add(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):addMatrixspMatrix(t,e);case"spmatrix":return e.m!=t.m||e.n!=t.n?void error("Error in add(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):addspMatrices(e,t);case"vector":case"spvector":default:return void error("Error in add(A,b): a is a sparse matrix and B is a "+n+".")}else if("ComplexVector"==r)switch(n){case"vector":return e.length!=t.length?void error("Error in add(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):addComplexVectorVector(e,t);case"spvector":return e.length!=t.length?void error("Error in add(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):addComplexVectorspVector(e,t);case"ComplexVector":return e.length!=t.length?void error("Error in add(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):addComplexVectors(t,e);case"matrix":case"spmatrix":default:return void error("Error in add(a,B): a is a vector and B is a "+n+".")}else{if("ComplexMatrix"!=r)return;switch(n){case"matrix":return e.m!=t.m||e.n!=t.n?void error("Error in add(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):addComplexMatrixMatrix(e,t);case"spmatrix":return e.m!=t.m||e.n!=t.n?void error("Error in add(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):addComplexMatrixspMatrix(e,t);case"ComplexMatrix":return e.m!=t.m||e.n!=t.n?void error("Error in add(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):addComplexMatrices(e,t);case"vector":case"spvector":default:return void error("Error in add(A,b): a is a matrix and B is a "+n+".")}}}function subScalarVector(e,t){const r=t.length;for(var n=new Float64Array(r),i=0;i<r;i++)n[i]=e-t[i];return n}function subVectorScalar(e,t){const r=e.length;for(var n=new Float64Array(e),i=0;i<r;i++)n[i]-=t;return n}function subScalarMatrix(e,t){return new Matrix(t.m,t.n,subScalarVector(e,t.val),!0)}function subMatrixScalar(e,t){return new Matrix(e.m,e.n,subVectorScalar(e.val,t),!0)}function subVectors(e,t){const r=e.length;for(var n=new Float64Array(e),i=0;i<r;i++)n[i]-=t[i];return n}function subMatrices(e,t){return new Matrix(e.m,e.n,subVectors(e.val,t.val),!0)}function sub(e,t){const r=type(e),n=type(t);if("number"==r&&"number"==n)return e-t;if("number"==r)switch(n){case"Complex":return addComplexReal(minusComplex(t),e);case"vector":return subScalarVector(e,t);case"matrix":return subScalarMatrix(e,t);case"spvector":return subScalarspVector(e,t);case"spmatrix":return subScalarspMatrix(e,t);default:return}else if("number"==n)switch(r){case"Complex":return addComplexReal(t,-e);case"vector":return subVectorScalar(e,t);case"matrix":return subMatrixScalar(e,t);case"spvector":return addScalarspVector(-t,e);case"spmatrix":return addScalarspMatrix(-t,e);default:return}else if("vector"==r)switch(n){case"vector":return e.length!=t.length?void error("Error in sub(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):subVectors(e,t);case"spvector":return e.length!=t.length?void error("Error in sub(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):subVectorspVector(e,t);case"matrix":case"spmatrix":default:return void error("Error in sub(a,B): a is a vector and B is a "+n+".")}else if("matrix"==r)switch(n){case"matrix":return e.m!=t.m||e.n!=t.n?void error("Error in sub(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):subMatrices(e,t);case"spmatrix":return e.m!=t.m||e.n!=t.n?void error("Error in sub(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):subMatrixspMatrix(e,t);case"vector":case"spvector":default:return void error("Error in sub(A,b): A is a matrix and b is a "+n+".")}else if("spvector"==r)switch(n){case"vector":return e.length!=t.length?void error("Error in sub(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):subspVectorVector(e,t);case"spvector":return e.length!=t.length?void error("Error in sub(a,b): a.length = "+e.length+" != "+t.length+" = b.length."):subspVectors(e,t);case"matrix":case"spmatrix":default:return void error("Error in sub(a,B): a is a sparse vector and B is a "+n+".")}else{if("spmatrix"!=r)return;switch(n){case"matrix":return e.m!=t.m||e.n!=t.n?void error("Error in sub(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):subspMatrixMatrix(e,t);case"spmatrix":return e.m!=t.m||e.n!=t.n?void error("Error in sub(A,B): size(A) = ["+e.m+","+e.n+"] != ["+t.m+","+t.n+"] = size(B)."):subspMatrices(e,t);case"vector":case"spvector":default:return void error("Error in sub(A,b): a is a sparse matrix and B is a "+n+".")}}}function pow(e,t){var r;const n=type(e),i=type(t);if("number"==n&&"number"==i)return Math.pow(e,t);if("number"==n){if("vector"==i){var a=zeros(t.length);if(!isZero(e))for(r=0;r<t.length;r++)a[r]=Math.pow(e,t[r]);return a}return new Matrix(t.m,t.n,pow(e,t.val),!0)}if("number"==i){if("vector"==n){for(a=zeros(e.length),r=0;r<e.length;r++)a[r]=Math.pow(e[r],t);return a}return new Matrix(e.m,e.n,pow(e.val,t),!0)}if("vector"==n){if("vector"==i){if(e.length!=t.length)return void error("Error in pow(a,b): a.length = "+e.length+" != "+t.length+" = b.length.");for(a=zeros(e.length),r=0;r<e.length;r++)a[r]=Math.pow(e[r],t[r]);return a}return"undefined"}return"vector"==i?"undefined":a=new Matrix(e.m,e.n,pow(e.val,t.val),!0)}function minus(e){switch(type(e)){case"number":return-e;case"vector":return minusVector(e);case"spvector":return new spVector(e.length,minusVector(e.val),e.ind);case"ComplexVector":return minusComplexVector(e);case"matrix":return new Matrix(e.m,e.n,minusVector(e.val),!0);case"spmatrix":return new spMatrix(e.m,e.n,minusVector(e.val),e.cols,e.rows);case"ComplexMatrix":return minusComplexMatrix(e);default:return}}function minusVector(e){for(var t=new Float64Array(e.length),r=0;r<e.length;r++)t[r]=-e[r];return t}function minusMatrix(e){return new Matrix(e.m,e.n,minusVector(e.val),!0)}function minVector(e){const t=e.length;for(var r=e[0],n=1;n<t;n++)e[n]<r&&(r=e[n]);return r}function minMatrix(e){return minVector(e.val)}function minVectorScalar(e,t){for(var r=e.length,n=new Float64Array(e),i=0;i<r;i++)t<e[i]&&(n[i]=t);return n}function minMatrixScalar(e,t){return new Matrix(e.m,e.n,minVectorScalar(e.val,t),!0)}function minMatrixRows(e){const t=e.m,r=e.n;for(var n,i=new Float64Array(e.val.subarray(0,r)),a=r,o=1;o<t;o++){for(n=0;n<r;n++)e.val[a+n]<i[n]&&(i[n]=e.val[a+n]);a+=r}return new Matrix(1,r,i,!0)}function minMatrixCols(e){for(var t=e.m,r=new Float64Array(t),n=0,i=0;i<t;i++)r[i]=minVector(e.val.subarray(n,n+e.n)),n+=e.n;return r}function minVectorVector(e,t){const r=e.length;for(var n=new Float64Array(e),i=0;i<r;i++)t[i]<e[i]&&(n[i]=t[i]);return n}function minMatrixMatrix(e,t){return new Matrix(e.m,e.n,minVectorVector(e.val,t.val),!0)}function min(e,t){var r=type(e);if(1==arguments.length)switch(r){case"vector":return minVector(e);case"spvector":return(n=minVector(e.val))>0&&e.val.length<e.length?0:n;case"matrix":return minMatrix(e);case"spmatrix":var n;return(n=minVector(e.val))>0&&e.val.length<e.m*e.n?0:n;default:return e}var i=type(t);return"spvector"==r&&(e=fullVector(e),r="vector"),"spmatrix"==r&&(e=fullMatrix(e),r="matrix"),"spvector"==i&&(t=fullVector(t),i="vector"),"spmatrix"==i&&(t=fullMatrix(t),i="matrix"),"number"==r&&"number"==i?Math.min(e,t):"number"==r?"vector"==i?minVectorScalar(t,e):minMatrixScalar(t,e):"number"==i?"vector"==r?minVectorScalar(e,t):1==t?minMatrixRows(e):2==t?minMatrixCols(e):minMatrixScalar(e,t):"vector"==r?"vector"==i?minVectorVector(e,t):"undefined":"matrix"==i?minMatrixMatrix(e,t):"undefined"}function maxVector(e){const t=e.length;for(var r=e[0],n=1;n<t;n++)e[n]>r&&(r=e[n]);return r}function maxMatrix(e){return maxVector(e.val)}function maxVectorScalar(e,t){const r=e.length;for(var n=new Float64Array(e),i=0;i<r;i++)t>e[i]&&(n[i]=t);return n}function maxMatrixScalar(e,t){return maxVectorScalar(e.val,t)}function maxMatrixRows(e){const t=e.m,r=e.n;for(var n,i=new Float64Array(e.val.subarray(0,r)),a=r,o=1;o<t;o++){for(n=0;n<r;n++)e.val[a+n]>i[n]&&(i[n]=e.val[a+n]);a+=r}return new Matrix(1,r,i,!0)}function maxMatrixCols(e){const t=e.m;for(var r=new Float64Array(t),n=0,i=0;i<t;i++)r[i]=maxVector(e.val.subarray(n,n+e.n)),n+=e.n;return r}function maxVectorVector(e,t){for(var r=e.length,n=new Float64Array(e),i=0;i<r;i++)t[i]>e[i]&&(n[i]=t[i]);return n}function maxMatrixMatrix(e,t){return new Matrix(e.m,e.n,maxVectorVector(e.val,t.val),!0)}function max(e,t){var r=type(e);if(1==arguments.length)switch(r){case"vector":return maxVector(e);case"spvector":return(n=maxVector(e.val))<0&&e.val.length<e.length?0:n;case"matrix":return maxMatrix(e);case"spmatrix":var n;return(n=maxVector(e.val))<0&&e.val.length<e.m*e.n?0:n;default:return e}var i=type(t);return"spvector"==r&&(e=fullVector(e),r="vector"),"spmatrix"==r&&(e=fullMatrix(e),r="matrix"),"spvector"==i&&(t=fullVector(t),i="vector"),"spmatrix"==i&&(t=fullMatrix(t),i="matrix"),"number"==r&&"number"==i?Math.max(e,t):"number"==r?"vector"==i?maxVectorScalar(t,e):maxMatrixScalar(t,e):"number"==i?"vector"==r?maxVectorScalar(e,t):1==t?maxMatrixRows(e):2==t?maxMatrixCols(e):maxMatrixScalar(e,t):"vector"==r?"vector"==i?maxVectorVector(e,t):"undefined":"matrix"==i?maxMatrixMatrix(e,t):"undefined"}function transposeMatrix(e){var t,r;const n=e.m,i=e.n;if(n>1){var a=zeros(i,n),o=0;for(r=0;r<n;r++){var s=0;for(t=0;t<i;t++)a.val[s+r]=e.val[o+t],s+=n;o+=i}return a}return e.val}function transposeVector(e){return new Matrix(1,e.length,e)}function transpose(e){switch(type(e)){case"number":return e;case"vector":return new Matrix(1,e.length,e);case"spvector":return transposespVector(e);case"ComplexVector":return new ComplexMatrix(1,e.length,conj(e));case"matrix":return transposeMatrix(e);case"spmatrix":return transposespMatrix(e);case"ComplexMatrix":return transposeComplexMatrix(e);default:return}}function det(e){const t=e.n;if(e.m==t&&void 0!==e.m){if(2==t)return e.val[0]*e.val[3]-e.val[1]*e.val[2];var r,n,i=0;for(r=0;r<t;r++){var a=1;for(n=0;n<t;n++)a*=e.val[(r+n)%t*t+n];i+=a}for(r=0;r<t;r++){for(a=1,n=0;n<t;n++)a*=e.val[(r+t-1-n)%t*t+n];i-=a}return i}}function trace(e){if("matrix"==type(e)){var t=e.length;if(e.m!=t)return"undefined";for(var r=0,n=0;n<t;n++)r+=e.val[n*t+n];return r}}function triu(e){var t,r;const n=e.n,i=e.m;var a=zeros(i,n),o=i;n<i&&(o=n);var s=0;for(t=0;t<o;t++){for(r=t;r<n;r++)a.val[s+r]=e.val[s+r];s+=n}return a}function tril(e){var t,r;const n=e.n,i=e.m;var a=zeros(i,n),o=i;n<i&&(o=n);var s=0;for(t=0;t<o;t++){for(r=0;r<=t;r++)a.val[s+r]=e.val[s+r];s+=n}if(i>o)for(t=o;t<i;t++){for(r=0;r<n;r++)a.val[s+r]=e.val[s+r];s+=n}return a}function issymmetric(e){const t=e.m,r=e.n;if(t!=r)return!1;for(var n=0;n<t;n++)for(var i=0;i<r;i++)if(e.val[n*r+i]!=e.val[i*r+n])return!1;return!0}function mat(e,t){var r,n=!1,i=new Array(e.length);for(r=0;r<e.length;r++)i[r]=type(e[r]),"number"==i[r]&&(n=!0);if(void 0===t){if("vector"==type(e))return new Float64Array(e);for(t=!0,r=0;r<e.length;r++)if((!Array.isArray(e[r])||"vector"==i[r])&&(t=!1,"string"==i[r]))return e}if(0==e.length)return[];var a,o,s,u=0,l=0;if(t){var c=new Array;for(r=0;r<e.length;r++)switch(i[r]){case"matrix":c.push(e[r].val),u+=e[r].m,l=e[r].n;break;case"vector":if(n){for(var f=0;f<e[r].length;f++)c.push(e[r][f]);l=1,u+=e[r].length}else c.push(e[r]),u+=1,l=e[r].length;break;case"number":c.push(e[r]),u+=1,l=1;break;case"spvector":return spmat(e);default:return e}if(1==l)return new Float64Array(c);var p=new Matrix(u,l),m=0;for(r=0;r<c.length;r++)if(c[r].buffer)p.val.set(c[r],m),m+=c[r].length;else{for(o=0;o<c[r].length;o++)p.val[m+o]=c[r][o];m+=c[r].length}return p}for(u=size(e[0],1),r=0;r<e.length;r++)if("matrix"==i[r]?l+=e[r].n:l++,size(e[r],1)!=u)return"undefined";for(c=new Matrix(u,l),a=0;a<u;a++)for(s=0,r=0;r<e.length;r++)switch(i[r]){case"matrix":for(o=0;o<e[r].n;o++)c.val[a*l+o+s]=e[r].val[a*e[r].n+o];s+=e[r].n;break;case"vector":c.val[a*l+s]=e[r][a],s++;break;case"number":c.val[a*l+s]=e[r],s++}return c}function isEqual(e,t){var r,n,i=type(e),a=type(t);if("number"==i&&"number"!=a)return isEqual(t,e);if("number"!=i&&"number"==a)switch(i){case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)isZero(e[r]-t)&&(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isEqual(e.val,t),!0);default:return e==t?1:0}else{if(i!=a)return"undefined";switch(i){case"number":return isZero(e-t)?1:0;case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)isZero(e[r]-t[r])&&(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isEqual(e.val,t.val),!0);default:return e==t?1:0}}}function isNotEqual(e,t){var r,n,i=type(e),a=type(t);if("number"==i&&"number"!=a)return isNotEqual(t,e);if("number"!=i&&"number"==a)switch(i){case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)isZero(e[r]-t)||(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isNotEqual(e.val,t),!0);default:return e!=t?1:0}else{if(i!=a)return"undefined";switch(i){case"number":return isZero(e-t)?0:1;case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)isZero(get(e,r)-get(t,r))||(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isNotEqual(e.val,t.val),!0);default:return e!=t?1:0}}}function isGreater(e,t){var r,n,i=type(e),a=type(t);if("number"==i&&"number"!=a)return isGreater(t,e);if("number"!=i&&"number"==a)switch(i){case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)e[r]-t>EPS&&(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isGreater(e.val,t),!0);default:return e>t?1:0}else{if(i!=a)return"undefined";switch(i){case"number":return e>t?1:0;case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)e[r]-t[r]>EPS&&(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isGreater(e.val,t.val),!0);default:return e>t?1:0}}}function isGreaterOrEqual(e,t){var r,n,i=type(e),a=type(t);if("number"==i&&"number"!=a)return isGreaterOrEqual(t,e);if("number"!=i&&"number"==a)switch(i){case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)e[r]-t>-EPS&&(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isGreaterOrEqual(e.val,t),!0);default:return e>=t?1:0}else{if(i!=a)return"undefined";switch(i){case"number":return e>=t;case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)e[r]-t[r]>-EPS&&(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isGreaterOrEqual(e.val,t.val),!0);default:return e>=t?1:0}}}function isLower(e,t){var r,n,i=type(e),a=type(t);if("number"==i&&"number"!=a)return isLower(t,e);if("number"!=i&&"number"==a)switch(i){case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)t-e[r]>EPS&&(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isLower(e.val,t),!0);default:return e<t?1:0}else{if(i!=a)return"undefined";switch(i){case"number":return e<t?1:0;case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)t[r]-e[r]>EPS&&(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isLower(e.val,t.val),!0);default:return e<t?1:0}}}function isLowerOrEqual(e,t){var r,n,i=type(e),a=type(t);if("number"==i&&"number"!=a)return isLowerOrEqual(t,e);if("number"!=i&&"number"==a)switch(i){case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)t-e[r]>-EPS&&(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isLowerOrEqual(e.val,t),!0);default:return e<=t?1:0}else{if(i!=a)return"undefined";switch(i){case"number":return e<=t?1:0;case"vector":for(n=new Float64Array(e.length),r=0;r<e.length;r++)t[r]-e[r]>-EPS&&(n[r]=1);return n;case"matrix":return new Matrix(e.m,e.n,isLowerOrEqual(e.val,t.val),!0);default:return e<=t?1:0}}}function find(e){var t,r=e.length,n=new Array;for(t=0;t<r;t++)0!=e[t]&&n.push(t);return n}function findmax(e){var t;switch(type(e)){case"number":return 0;case"vector":var r=0,n=e[0];for(t=1;t<e.length;t++)e[t]>n&&(n=e[t],r=t);return r;case"spvector":for(n=e.val[0],r=e.ind[0],t=1;t<e.val.length;t++)e.val[t]>n&&(n=e.val[t],r=e.ind[t]);if(n<0&&e.val.length<e.length)for(r=0;e.ind.indexOf(r)>=0&&r<e.length;)r++;return r;default:return"undefined"}}function findmin(e){var t;switch(type(e)){case"number":return 0;case"vector":var r=0,n=e[0];for(t=1;t<e.length;t++)e[t]<n&&(n=e[t],r=t);return r;case"spvector":for(n=e.val[0],r=e.ind[0],t=1;t<e.val.length;t++)e.val[t]<n&&(n=e.val[t],r=e.ind[t]);if(n>0&&e.val.length<e.length)for(r=0;e.ind.indexOf(r)>=0&&r<e.length;)r++;return r;default:return"undefined"}}function sort(e,t,r){var n,i,a;void 0===t&&(t=!1),void 0===r&&(r=!1);const o=e.length;if(r){var s=range(o);for(n=0;n<o-1;n++)n!=(i=t?findmax(get(e,range(n,o)))+n:findmin(get(e,range(n,o)))+n)&&(a=e[n],e[n]=e[i],e[i]=a,a=s[n],s[n]=s[i],s[i]=a);return s}var u=vectorCopy(e);for(n=0;n<o-1;n++)n!=(i=t?findmax(get(u,range(n,o)))+n:findmin(get(u,range(n,o)))+n)&&(a=u[n],u[n]=u[i],u[i]=a);return u}function sumVector(e){var t;const r=e.length;var n=e[0];for(t=1;t<r;t++)n+=e[t];return n}function sumMatrix(e){return sumVector(e.val)}function sumMatrixRows(e){var t,r;const n=e.m,i=e.n;var a=new Float64Array(i),o=0;for(t=0;t<n;t++){for(r=0;r<i;r++)a[r]+=e.val[o+r];o+=i}return new Matrix(1,i,a,!0)}function sumMatrixCols(e){const t=e.m;for(var r=new Float64Array(t),n=0,i=0;i<t;i++){for(var a=0;a<e.n;a++)r[i]+=e.val[n+a];n+=e.n}return r}function sum(e,t){switch(type(e)){case"vector":return 1==arguments.length||1==t?sumVector(e):vectorCopy(e);case"spvector":return 1==arguments.length||1==t?sumVector(e.val):e.copy();case"matrix":return 1==arguments.length?sumMatrix(e):1==t?sumMatrixRows(e):2==t?sumMatrixCols(e):void 0;case"spmatrix":return 1==arguments.length?sumVector(e.val):1==t?sumspMatrixRows(e):2==t?sumspMatrixCols(e):void 0;default:return e}}function prodVector(e){var t;const r=e.length;var n=e[0];for(t=1;t<r;t++)n*=e[t];return n}function prodMatrix(e){return prodVector(e.val)}function prodMatrixRows(e){var t,r;const n=e.m,i=e.n;var a=new Float64Array(e.row(0)),o=i;for(t=1;t<n;t++){for(r=0;r<i;r++)a[r]*=e.val[o+r];o+=e.n}return new Matrix(1,i,a,!0)}function prodMatrixCols(e){const t=e.m;for(var r=new Float64Array(t),n=0,i=0;i<t;i++){r[i]=e.val[n];for(var a=1;a<e.n;a++)r[i]*=e.val[n+a];n+=e.n}return r}function prod(e,t){switch(type(e)){case"vector":return 1==arguments.length||1==t?prodVector(e):vectorCopy(e);case"spvector":return 1==arguments.length||1==t?e.val.length<e.length?0:prodVector(e.val):e.copy();case"matrix":return 1==arguments.length?prodMatrix(e):1==t?prodMatrixRows(e):2==t?prodMatrixCols(e):void 0;case"spmatrix":return 1==arguments.length?e.val.length<e.m*e.n?0:prodVector(e.val):1==t?prodspMatrixRows(e):2==t?prodspMatrixCols(e):void 0;default:return e}}function mean(e,t){switch(type(e)){case"vector":return 1==arguments.length||1==t?sumVector(e)/e.length:vectorCopy(e);case"spvector":return 1==arguments.length||1==t?sumVector(e.val)/e.length:e.copy();case"matrix":return 1==arguments.length?sumMatrix(e)/(e.m*e.n):1==t?mulScalarMatrix(1/e.m,sumMatrixRows(e)):2==t?mulScalarVector(1/e.n,sumMatrixCols(e)):void 0;case"spmatrix":return 1==arguments.length?sumVector(e.val)/(e.m*e.n):1==t?mulScalarMatrix(1/e.m,sumspMatrixRows(e)):2==t?mulScalarVector(1/e.n,sumspMatrixCols(e)):void 0;default:return e}}function variance(e,t){if(arguments.length>1)var r=mean(e,t);else r=mean(e);switch(type(e)){case"number":return 0;case"vector":return 1==arguments.length||1==t?dot(e,e)/e.length-r*r:zeros(e.length);case"spvector":return 1==arguments.length||1==t?dot(e.val,e.val)/e.length-r*r:zeros(e.length);case"matrix":case"spmatrix":return void 0===t?sum(entrywisemul(e,e))/(e.m*e.n)-r*r:1==t?sub(entrywisediv(sum(entrywisemul(e,e),1),e.length),entrywisemul(r,r)):2==t?sub(entrywisediv(sum(entrywisemul(e,e),2),e.n),entrywisemul(r,r)):void 0;default:return}}function std(e,t){return arguments.length>1?sqrt(variance(e,t)):sqrt(variance(e))}function cov(e){switch(type(e)){case"number":return 0;case"vector":var t=mean(e);return dot(e,e)/e.length-t*t;case"spvector":return t=mean(e),dot(e.val,e.val)/e.length-t*t;case"matrix":return t=mean(e,1).row(0),divMatrixScalar(xtx(subMatrices(e,outerprod(ones(e.m),t))),e.m);case"spmatrix":return t=mean(e,1).row(0),divMatrixScalar(xtx(subspMatrixMatrix(e,outerprod(ones(e.m),t))),e.m);default:return}}function xtx(e){const t=e.m,r=e.n;for(var n=new Matrix(r,r),i=0;i<t;i++)for(var a=e.row(i),o=0;o<r;o++)for(var s=a[o],u=o;u<r;u++)n.val[o*r+u]+=s*a[u];for(o=0;o<r;o++){var l=o*r;for(u=o;u<r;u++)n.val[u*r+o]=n.val[l+u]}return n}function norm(e,t){var r,n;switch(type(e)){case"number":return Math.abs(e);case"vector":return 1==arguments.length||1==t?Math.sqrt(dot(e,e)):abs(e);case"spvector":return 1==arguments.length||1==t?Math.sqrt(dot(e.val,e.val)):abs(e);case"matrix":if(1==arguments.length)return Math.sqrt(dot(e.val,e.val));if(1==t){const t=e.n;var i=zeros(1,t),a=0;for(r=0;r<e.m;r++){for(n=0;n<t;n++)i.val[n]+=e.val[a+n]*e.val[a+n];a+=t}for(n=0;n<t;n++)i.val[n]=Math.sqrt(i.val[n]);return i}if(2==t){for(i=zeros(e.m),a=0,r=0;r<e.m;r++){for(n=0;n<e.n;n++)i[r]+=e.val[a+n]*e.val[a+n];a+=e.n,i[r]=Math.sqrt(i[r])}return i}return"undefined";case"spmatrix":if(1==arguments.length)return Math.sqrt(dot(e.val,e.val));if(1!=t||e.rowmajor){if(2==t&&e.rowmajor){for(i=zeros(e.m),r=0;r<e.m;r++){for(o=e.rows[r+1],s=e.rows[r];s<o;s++)i[r]+=e.val[s]*e.val[s];i[r]=Math.sqrt(i[r])}return i}return"undefined"}{const t=e.n;for(i=zeros(1,t),n=0;n<t;n++){for(var o=e.cols[n+1],s=e.cols[n];s<o;s++)i.val[n]+=e.val[s]*e.val[s];i.val[n]=Math.sqrt(i.val[n])}return i}default:return"undefined"}}function norm1(e,t){return 1==arguments.length?sum(abs(e)):sum(abs(e),t)}function norminf(e,t){return 1==arguments.length?max(abs(e)):max(abs(e),t)}function normp(e,t,r){return 2==arguments.length?Math.pow(sum(pow(abs(e),t)),1/t):pow(sum(pow(abs(e),t),r),1/t)}function normnuc(e){switch(type(e)){case"matrix":return sumVector(svd(e));case"spmatrix":return sumVector(svd(fullMatrix(e)));case"number":return e;case"vector":case"spvector":return 1;default:return}}function norm0(e,t,r){var n,i=EPS;switch(3==arguments.length&&(i=r),type(e)){case"number":return Math.abs(e)>i;case"vector":return 1==arguments.length||1==t?norm0Vector(e,i):isGreater(abs(a),i);case"spvector":return 1==arguments.length||1==t?norm0Vector(e.val,i):isGreater(abs(a),i);case"matrix":if(1==arguments.length)return norm0Vector(e.val,i);if(1==t){var o=zeros(1,e.n);for(u=0;u<e.m;u++)for(n=0;n<e.n;n++)Math.abs(e[u*e.n+n])>i&&o.val[n]++;return o}if(2==t){for(o=zeros(e.m),u=0;u<e.m;u++)for(n=0;n<e.n;n++)Math.abs(e[u*e.n+n])>i&&o[u]++;return o}return;case"spmatrix":if(1==arguments.length)return norm0Vector(e.val,i);if(1==t){if(o=zeros(1,e.n),e.rowmajor)for(var s=0;s<e.val.length;s++)Math.abs(e.val[s])>i&&o.val[e.cols[s]]++;else for(var u=0;u<e.n;u++)o.val[u]=norm0Vector(e.col(u).val,i);return o}if(2==t){if(o=zeros(e.m),e.rowmajor)for(u=0;u<e.m;u++)o[u]=norm0Vector(e.row(u).val,i);else for(s=0;s<e.val.length;s++)Math.abs(e.val[s])>i&&o[e.rows[s]]++;return o}return;default:return}}function norm0Vector(e,t){const r=e.length;for(var n=0,i=0;i<r;i++)Math.abs(e[i])>t&&n++;return n}function solve(e,t){console.log("solving");var r=type(e);if("vector"==r||"spvector"==r||"matrix"==r&&1==e.m){var n=mul(transpose(e),e);return mul(transpose(e),t)/n}return"spmatrix"==r?(console.log("spcgnr"),spcgnr(e,t)):"vector"==type(t)?e.m==e.n?solveGaussianElimination(e,t):solveWithQRcolumnpivoting(e,t):solveWithQRcolumnpivotingMultipleRHS(e,t)}function cholsolve(e,t){var r=forwardsubstitution(e,t);return backsubstitution(transposeMatrix(e),r)}function solveWithQRfactorization(e,t){const r=e.length,n=e.n;var i,a,o,s=qr(e),u=s.R,l=s.beta,c=vectorCopy(t);for(i=0;i<n-1;i++)(a=get(u,range(i,r),i))[0]=1,o=get(c,range(i,r)),set(c,range(i,r),sub(o,mul(l[i]*mul(a,o),a)));return r>n&&((a=get(u,range(i=n-1,r),i))[0]=1,o=get(c,range(i,r)),set(c,range(i,r),sub(o,mul(l[i]*mul(a,o),a)))),backsubstitution(u,get(c,range(n)))}function backsubstitution(e,t){const r=t.length;var n=r-1,i=zeros(r);for(isZero(e.val[n*r+n])||(i[n]=t[n]/e.val[n*r+n]),isZero(e.val[(n=r-2)*r+n])||(i[n]=(t[n]-e.val[n*r+r-1]*i[r-1])/e.val[n*r+n]),n=r-3;n>=0;n--)isZero(e.val[n*r+n])||(i[n]=(t[n]-dot(e.row(n).subarray(n+1,r),i.subarray(n+1,r)))/e.val[n*r+n]);return i}function forwardsubstitution(e,t){const r=t.length;var n,i=zeros(r);for(isZero(e.val[0])||(i[0]=t[0]/e.val[0]),isZero(e.val[r+1])||(i[1]=(t[1]-e.val[r]*i[0])/e.val[r+1]),n=2;n<r;n++)isZero(e.val[n*r+n])||(i[n]=(t[n]-dot(e.row(n).subarray(0,n),i.subarray(0,n)))/e.val[n*r+n]);return i}function solveWithQRcolumnpivoting(e,t){var r,n,i,a,o,s,u;if("matrix"==type(e)){r=e.m,n=e.n;var l=qr(e);i=l.R,a=l.V,o=l.beta,s=l.rank,u=l.piv}else s=e.rank,a=e.V,o=e.beta,u=e.piv,r=(i=e.R).m,n=i.n;var c,f,p=vectorCopy(t);for(c=0;c<s;c++)f=get(p,range(c,r)),set(p,range(c,r),sub(f,mul(o[c]*mul(a[c],f),a[c])));var m=zeros(n);for(s>1?set(m,range(0,s),backsubstitution(i,get(p,range(s)))):m[0]=p[0]/i.val[0],c=s-1;c>=0;c--)if(u[c]!=c){var h=m[c];m[c]=m[u[c]],m[u[c]]=h}return m}function solveWithQRcolumnpivotingMultipleRHS(e,t){var r,n,i,a,o,s,u;if("matrix"==type(e)){r=e.m,n=e.n;var l=qr(e);i=l.R,a=l.V,o=l.beta,s=l.rank,u=l.piv}else s=e.rank,a=e.V,o=e.beta,u=e.piv,r=(i=e.R).m,n=i.n;var c,f,p=matrixCopy(t);for(c=0;c<s;c++)f=get(p,range(c,r),[]),set(p,range(c,r),[],sub(f,mul(mul(o[c],a[c]),mul(transpose(a[c]),f))));var m=zeros(n,r);if(s>1)for(c=0;c<r;c++)set(m,range(0,s),c,backsubstitution(i,get(p,range(s),c)));else set(m,0,[],entrywisediv(get(p,0,[]),i.val[0]));for(c=s-1;c>=0;c--)u[c]!=c&&swaprows(m,c,u[c]);return m}function solveGaussianElimination(e,t){var r,n,i,a=matrixCopy(e).toArrayOfFloat64Array(),o=vectorCopy(t);const s=e.m,u=e.n;if(s==u){for(i=0;i<s;i++){var l=i,c=Math.abs(a[l][i]);for(r=i+1;r<s;r++)(m=Math.abs(a[r][i]))>c&&(l=r,c=m);if(isZero(c))return console.log("** Warning in solve(A,b), A is square but singular, switching from Gaussian elimination to QR method."),solveWithQRcolumnpivoting(a,o);if(l!=i){var f=a[i];a[i]=a[l],a[l]=f;var p=o[i];o[i]=o[l],o[l]=p}var m,h=a[i],d=h[i];for(o[i]/=d,n=i+1;n<u;n++)h[n]/=d;Math.abs(d)<1e-8&&console.log("** Warning in solveGaussianElimination: "+d+" "+i+":"+s);var v=o[i];for(r=0;r<s;r++)if(r!=i){var g=a[r];for(m=g[i],n=i+1;n<u;n++)g[n]-=m*h[n];o[r]-=m*v}}return o}}function inv(e){if("number"==typeof e)return 1/e;var t,r,n;const i=e.length,a=e.n;if(i!=a)return"undefined";var o=matrixCopy(e),s=eye(a);for(n=0;n<i;n++){var u=n*a,l=n,c=Math.abs(o.val[l*a+n]);for(t=n+1;t<i;t++)Math.abs(o.val[t*a+n])>c&&(l=t,c=Math.abs(o.val[t*a+n]));if(Math.abs(c)<1e-12)return"singular";l!=n&&(swaprows(o,n,l),swaprows(s,n,l));var f,p=o.val[u+n];for(r=0;r<a;r++)o.val[u+r]/=p,s.val[u+r]/=p;for(Math.abs(p)<1e-8&&console.log("!! Warning in inv(): "+p+" "+n+":"+i),t=0;t<i;t++)if(t!=n){var m=t*a;if(!isZero(f=o.val[m+n]))for(r=0;r<a;r++)o.val[m+r]-=f*o.val[u+r],s.val[m+r]-=f*s.val[u+r]}}return s}function chol(e){const t=e.m;if(e.n!=t)return void error("Cannot compute the cholesky factorization: the matrix is not square.");const r=t*t,n=e.val;var i,a,o=new Float64Array(r),s=Math.sqrt(n[0]);for(i=0;i<r;i+=t)o[i]=n[i]/s;a=1;for(var u=t;a<t&&!isNaN(s);){for(i=u;i<r;i+=t){for(var l=n[i+a],c=0;c<a;c++)l-=o[u+c]*o[i+c];i==u&&(s=Math.sqrt(l)),o[i+a]=l/s}a++,u+=t}return isNaN(s)?void 0:new Matrix(t,t,o,!0)}function ldlsymmetricpivoting(e){var t=matrixCopy(e),r=t.length;if(t.m==r){var n,i,a=zeros(r);for(u=0;u<r-1;u++){a[u]=findmax(get(diag(t),range(u,r))),swaprows(t,u,a[u]),swapcols(t,u,a[u]),n=t.val[u*r+u],i=getCols(t,[u]).subarray(u+1,r);for(var o=u+1;o<r;o++)t.val[o*r+u]/=n;set(t,range(u+1,r),range(u+1,r),sub(get(t,range(u+1,r),range(u+1,r)),outerprod(i,i,1/n)))}for(var s=0;s<r-1;s++)for(var u=s+1;u<r;u++)t.val[s*r+u]=0;return{L:t,piv:a}}error("Error in ldl(): the matrix is not square.")}function house(e){const t=e.length;var r,n,i,a,o,s=zeros(t),u=e[0],l=dot(e,e);if(isZero(o=l-u*u))i=0,s[0]=1;else for(n=Math.sqrt(l),i=2*(a=u<EPS?u-n:-o/(u+n))*a/(o+a*a),s[0]=1,r=1;r<t;r++)s[r]=e[r]/a;return{v:s,beta:i}}function qroriginal(e,t){var r,n,i=e.length,a=e.n;if(a>i)return"QR factorization unavailable for n > m.";var o,s,u=matrixCopy(e),l=zeros(a),c=new Array;for(r=0;r<a-1;r++)n=house(get(u,range(r,i),r)),o=get(u,range(r,i),range(r,a)),set(u,range(r,i),range(r,a),subMatrices(o,outerprodVectors(n.v,mulMatrixVector(transposeMatrix(o),n.v),n.beta))),c[r]=n.v,l[r]=n.beta;if(i>a&&(n=house(o=get(u,range(r=a-1,i),r)),set(u,range(r,i),a-1,subVectors(o,mulScalarVector(dot(n.v,o)*n.beta,n.v))),c[r]=vectorCopy(n.v),l[r]=n.beta),t){var f,p;"number"==typeof t?s=eye(i,f=t):(s=eye(i),f=i);var m=a-1;for(i<=a&&(m=a-2),m>=f&&(m=f-1),r=m;r>=0;r--)p=get(s,range(r,i),range(r,f)),f>1?r==f-1?set(s,range(r,i),[r],subVectors(p,mulScalarVector(dot(p,c[r])*l[r],c[r]))):set(s,range(r,i),range(r,f),sub(p,outerprod(c[r],mul(transpose(p),c[r]),l[r]))):s=subVectors(p,mulScalarVector(dot(p,c[r])*l[r],c[r]))}return{Q:s,R:u,beta:l}}function qr(e,t){const r=e.m,n=e.n;var i,a,o,s=transpose(e),u=new Array,l=zeros(n),c=zeros(n),f=-1,p=norm(e),m=p,h=1e-5*p;h*=h;var d=0,v=0,g=zeros(n);for(i=0;i<n;i++){var b=s.val.subarray(i*s.n,i*s.n+s.n);g[i]=dot(b,b),g[i]>d&&(d=g[i],v=i)}for(var y=function(e,t,i){var a,o,u,l=r-e;for(a=e;a<n;a++){var c=0,f=a*r+e,p=s.val.subarray(f,f+l);for(u=0;u<l;u++)c+=p[u]*t[u];for(c*=i,o=0;o<l;o++)p[o]-=c*t[o]}},x=function(e){var t;for(t=e+1;t<n;t++){var i=s.val[t*r+e];g[t]-=i*i}for(v=e+1,d=g[e+1],t=e+2;t<n;t++)g[t]>d&&(d=g[t],v=t)},w=function(e){for(var t,i=0,a=e+1,o=a*r;a<n&&i<=h;){for(t=e+1;t<r;t++){var u=s.val[o+t];i+=u*u}a++,o+=r}return i};d>EPS&&f<n-1&&m>h;)c[++f]=v,swaprows(s,f,v),g[v]=g[f],g[f]=d,f<r-1?a=house(s.val.subarray(f*s.n+f,f*s.n+r)):(a.v=[1],a.beta=0),f<n-1?y(f,a.v,a.beta):f<r-1&&y(f,a.v,a.beta),u[f]=vectorCopy(a.v),l[f]=a.beta,f<n-1&&(x(f),m=f<r-1?w(f):0);if(t){var M;o=eye(r);var N=f;for(r>f+1&&(N=f-1),i=N;i>=0;i--)if(i==r-1)o.val[i*r+i]-=l[i]*u[i][0]*u[i][0]*o.val[i*r+i];else{var _=range(i,r);set(o,_,_,subMatrices(M=get(o,_,_),outerprodVectors(u[i],mulMatrixVector(transposeMatrix(M),u[i]),l[i])))}}return{Q:o,R:transpose(s),V:u,beta:l,piv:c,rank:f+1}}function qrRnotTransposed(e,t){var r,n,i,a,o,s=e.m,u=e.n,l=matrixCopy(e),c=new Array,f=zeros(u),p=zeros(u),m=-1,h=norm(e),d=h,v=0,g=0,b=zeros(u);for(n=0;n<u;n++){var y=getCols(e,[n]);b[n]=dot(y,y),b[n]>v&&(v=b[n],g=n)}for(;v>EPS&&m<u-1&&d>1e-6*h;)if(p[++m]=g,swapcols(l,m,g),b[g]=b[m],b[m]=v,m<s-1?(i=house(get(l,range(m,s),m)),o=get(l,range(m,s),range(m,u))):(i.v=[1],i.beta=0,o=l[s-1][s-1]),m<u-1?set(l,range(m,s),range(m,u),subMatrices(o,outerprodVectors(i.v,mulMatrixVector(transposeMatrix(o),i.v),i.beta))):set(l,range(m,s),m,sub(o,mul(i.beta*mul(o,i.v),i.v))),s>m+1&&(c[m]=vectorCopy(i.v)),f[m]=i.beta,m<u-1){for(n=m+1;n<u;n++)b[n]-=l[m][n]*l[m][n];for(g=m+1,v=b[m+1],n=m+2;n<u;n++)b[n]>v&&(v=b[n],g=n);if(m<s-1){for(d=0,r=m+1;r<s;r++)for(n=m+1;n<u;n++)Rij=l[r][n],d+=Rij*Rij;d=Math.sqrt(d)}else d=0}if(t){var x;a=eye(s);var w=m;for(s>m+1&&(w=m-1),n=w;n>=0;n--)n==s-1?a.val[n*s+n]-=f[n]*c[n][0]*c[n][0]*a.val[n*s+n]:(x=get(a,range(n,s),range(n,s)),set(a,range(n,s),range(n,s),subMatrices(x,outerprodVectors(c[n],mulMatrixVector(transposeMatrix(x),c[n]),f[n]))))}return{Q:a,R:l,V:c,beta:f,piv:p,rank:m+1}}function solvecg(e,t){return"spmatrix"==e.type?spsolvecg(e,t):solvecgdense(e,t)}function solvecgdense(e,t){const r=e.n,n=e.m;var i=randn(r),a=subVectors(t,mulMatrixVector(e,i)),o=dot(a,a),s=1e-8*norm(t);s*=s;var u=vectorCopy(a),l=mulMatrixVector(e,u),c=o/dot(u,l);saxpy(c,u,i),saxpy(-c,l,a);var f=o;o=dot(a,a);for(var p=1,m=function(e,t){for(var r=0;r<n;r++)u[r]=t[r]+e*u[r]};o>s&&p<r;)m(o/f,a),l=mulMatrixVector(e,u),saxpy(c=o/dot(u,l),u,i),saxpy(-c,l,a),f=o,o=dot(a,a),p++;return i}function cgnr(e,t){return"spmatrix"==e.type?spcgnr(e,t):cgnrdense(e,t)}function cgnrdense(e,t){const r=e.n,n=e.m;var i=randn(r),a=transposeMatrix(e),o=subVectors(t,mulMatrixVector(e,i)),s=1e-8*norm(t);s*=s;var u=mulMatrixVector(a,o),l=dot(u,u),c=vectorCopy(u),f=mulMatrixVector(e,c),p=l/dot(f,f);saxpy(p,c,i),saxpy(-p,f,o);var m=l;l=dot(u=mulMatrixVector(a,o),u);for(var h=1,d=function(e,t){for(var r=0;r<n;r++)c[r]=t[r]+e*c[r]};l>s&&h<r;)d(l/m,u),saxpy(p=l/dot(f=mulMatrixVector(e,c),f),c,i),saxpy(-p,f,o),m=l,l=dot(u=mulMatrixVector(a,o),u),h++;return i}function lanczos(e,t){const r=EPS*norm(e),n=e.n;var i,a=0,o=vectorCopy(t),s=mulMatrixVector(e,o),u=dot(o,s);for(saxpy(-u,o,s),beta=norm(b);beta>r&&a<300;){for(i=0;i<n;i++){var l=o[i];o[i]=s[i]/beta,s[i]=-beta/l}var c=mulMatrixVector(e,o);for(i=0;i<n;i++)s[i]+=c[i];saxpy(-(u=dot(o,s)),o,s),beta=norm(s),a++}}function tridiagonalize(e,t){var r;const n=e.length;var i,a,o,s,u,l,c;if(t){i=e,a=eye(n);var f=[],p=[]}else i=matrixCopy(e);for(r=0;r<n-2;r++)Tkp1k=get(i,range(r+1,n),r),Tkp1kp1=get(i,range(r+1,n),range(r+1,n)),s=subVectors(o=mulScalarVector((c=house(Tkp1k)).beta,mulMatrixVector(Tkp1kp1,c.v)),mulScalarVector(.5*c.beta*dot(o,c.v),c.v)),(l=zeros(n-r-1))[0]=norm(Tkp1k),set(i,r,range(r+1,n),l),set(i,range(r+1,n),r,l),u=outerprodVectors(c.v,s),set(i,range(r+1,n),range(r+1,n),subMatrices(subMatrices(Tkp1kp1,u),transpose(u))),t&&(p[r]=c.v,f[r]=c.beta);if(t){var m=function(e,t,r){var i,o,s=zeros(n-e),u=n-e;for(i=0;i<u;i++){var l=(i+e)*n+e;for(o=0;o<u;o++)s[o]+=t[i]*a.val[l+o]}for(i=0;i<u;i++){l=(i+e)*n+e;var c=r*t[i];for(o=0;o<u;o++)a.val[l+o]-=c*s[o]}};for(r=n-3;r>=0;r--)m(r+1,p[r],f[r]);return a}return i}function givens(e,t,r,n,i){var a,o,s,u;return 0==t?(a=1,o=0):Math.abs(t)>Math.abs(e)?(s=-e/t,a=(o=1/Math.sqrt(1+s*s))*s):(s=-t/e,o=(a=1/Math.sqrt(1+s*s))*s),5==arguments.length?((u=eye(i)).val[r*i+r]=a,u.val[r*i+n]=o,u.val[n*i+r]=-o,u.val[n*i+n]=a,u):[a,o]}function premulGivens(e,t,r,n,i){const a=i.n;var o;const s=r*a,u=n*a;var l,c;for(o=0;o<a;o++)i.val[s+o]=e*(l=i.val[s+o])-t*(c=i.val[u+o]),i.val[u+o]=t*l+e*c}function postmulGivens(e,t,r,n,i){const a=i.length;var o,s,u,l=0;for(o=0;o<a;o++)i.val[l+r]=e*(s=i.val[l+r])-t*(u=i.val[l+n]),i.val[l+n]=t*s+e*u,l+=i.n}function implicitSymQRWilkinsonShift(e,t){const r=e.length,n=r*(r-1),i=(e.val[r*(r-2)+r-2]-e.val[n+r-1])/2,a=e.val[n+r-2]*e.val[n+r-2],o=e.val[n+r-1]-a/(i+Math.sign(i)*Math.sqrt(i*i+a));var s,u,l=e.val[0]-o,c=e.val[r];if(t)var f=new Array(r-1);for(u=0;u<r-1;u++)if(postmulGivens((s=givens(l,c))[0],s[1],u,u+1,e),premulGivens(s[0],s[1],u,u+1,e),t&&(f[u]=[s[0],s[1]]),u<r-2){var p=r*(u+1)+u;l=e.val[p],c=e.val[p+r]}return t?{T:e,cs:f}:e}function eig(e,t){var r,n,i,a;t?r=tridiagonalize(n=matrixCopy(e),!0):n=tridiagonalize(e);const o=e.length;var s;do{for(s=0;s<o-1;s++)Math.abs(n.val[s*o+s+1])<1e-12*(Math.abs(n.val[s*o+s])+Math.abs(n.val[(s+1)*o+s+1]))&&(n.val[s*o+s+1]=0,n.val[(s+1)*o+s]=0);if(isZero(n.val[(o-1)*o+o-2])&&isZero(n.val[(o-2)*o+o-1])){for(i=1;i<o-1&&isZero(n.val[(o-i-1)*o+o-i-2])&&isZero(n.val[(o-i-2)*o+o-i-1]);)i++;i>=o-1&&(i=o)}else i=0;var u;a=-1;do{for(a++,u=!1,k=a;k<o-i-1&&0==u;)isZero(n.val[(k+1)*o+k])&&(u=!0),k++}while(u&&a+i<o);if(i<o)if(t){var l=implicitSymQRWilkinsonShift(get(n,range(a,o-i),range(a,o-i)),!0);set(n,range(a,o-i),range(a,o-i),l.T);for(var c=0;c<o-i-a-1;c++)postmulGivens(l.cs[c][0],l.cs[c][1],a+c,a+c+1,r)}else set(n,range(a,o-i),range(a,o-i),implicitSymQRWilkinsonShift(get(n,range(a,o-i),range(a,o-i)),!1))}while(i<o);return t?{V:diag(n),U:r}:diag(n)}function eigs(e,t,r){return void 0===t&&(t=1),void 0===r||0==r||"smallest"!=r?1==t?eig_powerIteration(e):eig_orthogonalIteration(e,t):1==t?eig_inverseIteration(e,0):eig_bisect(e,t)}function eig_powerIteration(e,t){var r,n;n=mulScalarVector(1/norm(n=void 0===t?randn(e.length):t),n);var i=1;for(r=0;r<1e3;r++)n=mulScalarVector(1/(i=norm(n=mulMatrixVector(e,n))),n);return{v:i,u:n}}function eig_orthogonalIteration(e,t){if(1==t)return eig_powerIteration(e);var r;const n=e.length;var i,a,o=randn(n,t),s=norm(o,1);for(o=entrywisediv(o,mul(ones(n),s)),r=0;r<1e3&&(i=mulMatrixMatrix(e,o),!(Math.floor(r/50)==r/50&&(a=mulMatrixMatrix(transpose(o),i),norm(subMatrices(i,mulMatrixMatrix(o,diag(diag(a)))))<1e-11)));r++)o=qroriginal(i,t).Q;return{V:diag(a=mulMatrixMatrix(transpose(o),mulMatrixMatrix(e,o))),U:o}}function eig_inverseIteration(e,t){var r,n=1e-4*t;if(void 0===i)var i=100;const a=e.length;for(var o=sub(e,mul(t+n,eye(a))),s=qr(o);s.rank<a;)s=qr(o=sub(e,mul(t+(n*=10),eye(a))));var u,l=sub(mul(2,rand(a)),1);l=mulScalarVector(1/norm(l),l);var c=norminf(e);r=0;do{u=mulMatrixVector(o,l=entrywisediv(l=solveWithQRcolumnpivoting(s,l),norm(l))),r++}while(r<i&&maxVector(absVector(u))<1e-10*c);return l}function eigenvector(e,t){return eig_inverseIteration(e,t,2)}function eig_inverseOrthogonalIteration(e,t){if(1==t)return eig_inverseIteration(e);var r;const n=e.length;var i,a,o=qr(e),s=randn(n,t),u=norm(s,1);for(s=entrywisediv(s,mul(ones(n),u)),r=0;r<1e3&&(i=solveWithQRcolumnpivotingMultipleRHS(o,s),!(Math.floor(r/50)==r/50&&(a=mulMatrixMatrix(transpose(s),i),norm(subMatrices(i,mulMatrixMatrix(s,a)))<1e-11)));r++)s=qroriginal(i,t).Q;return{V:diag(a=mulMatrixMatrix(transpose(s),mulMatrixMatrix(e,s))),U:s,iters:r}}function eig_bisect(e,t){var r,n,i,a=tridiagonalize(e);const o=a.n;var s=diag(a),u=zeros(o);for(f=0;f<o-1;f++)u[f]=a.val[f*o+f+1];for(var l=s[0]-u[0],c=s[0]+u[0],f=1;f<o;f++){var p=s[f]-u[f]-u[f-1],m=s[f]+u[f]+u[f-1];p<l&&(l=p),m>c&&(c=m)}var h,d=function(e,t,r,n){var i,a,o=t[0]-e,s=0;for(o<EPS&&(s=1),a=1;a<n;a++)(i=t[a]-e-r[a-1]*r[a-1]/o)<EPS&&s++,o=Math.abs(i)<EPS?EPS:i;return s},v=zeros(t),g=entrywisemul(c,ones(t));n=l;for(var b=1;b<=t;b++){for(i=g[b-1];Math.abs(i-n)>1e-10*(Math.abs(n)+Math.abs(i));){(h=d(r=(n+i)/2,s,u,o))>=b?i=r:n=r;for(var y=b+1;y<=t;y++)h>=y&&(g[y-1]=r)}v[b-1]=(n+i)/2}var x=eigenvector(e,v[0]),w=mat([x],!1);for(b=1;b<t;b++){var M=10*Math.max(EPS,Math.abs(EPS*v[b-1]));v[b]<v[b-1]+M&&(v[b]=v[b-1]+M),w=qroriginal(w=mat([w,x=eigenvector(e,v[b])],!1),w.n).Q}return{U:w,V:v}}function bidiagonalize(e,t,r,n){var i;const a=e.length,o=e.n;var s,u;if(s=matrixCopy(e),t)if(r)var l=eye(a,o),c=o;else l=eye(a),c=a;if(n)var f=eye(o);var p=function(e,t,r){var n,i,u=zeros(o-e),l=o-e,c=a-e;for(n=0;n<c;n++){var f=(n+e)*o+e;for(i=0;i<l;i++)u[i]+=t[n]*s.val[f+i]}for(n=0;n<c;n++){var p=r*t[n];for(f=(n+e)*o+e,i=0;i<l;i++)s.val[f+i]-=p*u[i]}},m=function(e,t,r){var n,i,u=o-e-1;for(n=e;n<a;n++){var l=n*o+e+1,c=0;for(i=0;i<u;i++)c+=s.val[l+i]*t[i];var f=r*c;for(i=0;i<u;i++)s.val[l+i]-=f*t[i]}};if(n)var h=function(e,t,r){var n,i,a=o-e-1;for(n=0;n<o;n++){var s=n*o+e+1,u=0;for(i=0;i<a;i++)u+=f.val[s+i]*t[i];var l=r*u;for(i=0;i<a;i++)f.val[s+i]-=l*t[i]}};if(t)var d=new Array(o),v=new Array(o);for(i=0;i<o;i++)i<a-1&&(p(i,(u=house(get(s,range(i,a),i))).v,u.beta),t&&(d[i]=vectorCopy(u.v),v[i]=u.beta)),i<o-2&&(m(i,(u=house(s.row(i).subarray(i+1,o))).v,u.beta),n&&h(i,u.v,u.beta));if(t){var g=function(e,t,r){var n,i,o=zeros(c);for(n=e;n<a;n++){var s=n*c,u=n-e;for(i=0;i<c;i++)o[i]+=t[u]*l.val[s+i]}for(n=e;n<a;n++){var f=r*t[n-e];for(s=n*c,i=0;i<c;i++)l.val[s+i]-=f*o[i]}};for(i=Math.min(o-1,a-2);i>=0;i--)g(i,d[i],v[i])}return t&&n?{U:l,V:f,B:s}:n?{V:f,B:s}:t?{U:l,B:s}:s}function GolubKahanSVDstep(e,t,r,n,i,a){if("matrix"!=type(e))return e;if(i<2)return e;const o=(t+i-2)*e.n+r,s=e.val[o+i-2],u=e.val[o+i-1];var l;const c=e.val[(t+i-1)*e.n+r+i-1],f=(s*s+(l=i>2?e.val[(t+i-3)*e.n+r+i-2]:0)*l-c*c-u*u)/2,p=s*u*s*u;var m,h,d=-(c*c+u*u-p/(f+Math.sign(f)*Math.sqrt(f*f+p))),v=0,g=t*e.n+r;for(m=0;m<i;m++)d+=e.val[g]*e.val[g],v+=e.val[g]*e.val[g+1],g+=e.n;var b=function(i,a,o,s){var u,l,c,f=t*e.n+r;for(u=0;u<n;u++)e.val[f+o]=i*(l=e.val[f+o])-a*(c=e.val[f+s]),e.val[f+s]=a*l+i*c,f+=e.n},y=function(n,a,o,s){var u;const l=(t+o)*e.n+r,c=(t+s)*e.n+r;var f,p;for(u=0;u<i;u++)e.val[l+u]=n*(f=e.val[l+u])-a*(p=e.val[c+u]),e.val[c+u]=a*f+n*p};if(a)var x=new Array(i-1),w=new Array(i-1);for(m=0;m<i-1;m++)b((h=givens(d,v))[0],h[1],m,m+1),a&&(w[m]=[h[0],h[1]]),y((h=givens(d=e.val[(t+m)*e.n+r+m],v=e.val[(t+m+1)*e.n+r+m]))[0],h[1],m,m+1),a&&(x[m]=[h[0],h[1]]),m<i-2&&(d=e.val[(t+m)*e.n+r+m+1],v=e.val[(t+m)*e.n+r+m+2]);return a?{csU:x,csV:w}:void 0}function svd(e,t){if("vector"==type(e)||"matrix"==type(e)&&1==e.n)return{U:matrixCopy(e),S:ones(1,1),V:ones(1,1),s:[1]};if(1==e.m)return{U:ones(1,1),S:ones(1,1),V:transpose(e),s:[1]};var r,n=e.length,i=e.n,a=!1;if(i>n){a=!0;var o=transposeMatrix(e);i=n,n=o.length}var s,u,l,c,f=!1,p=!1,m=!1;if(void 0!==t&&!1!==t){var h;if("full"===t?(f=!0,p=!0,m=!1):!0===t||"thin"===t?(f=!0,p=!0,m=!0):"string"==typeof t&&(t.indexOf("U")>=0&&(f=!0),t.indexOf("V")>=0&&(p=!0),t.indexOf("thin")>=0&&(m=!0)),a){var d=f;h=bidiagonalize(o,f=p,m,p=d)}else h=bidiagonalize(e,f,m,p);if(f)var v=transpose(h.U);else v=void 0;if(p)var g=transposeMatrix(b=h.V);else var b=void 0;var y=h.B}else y=bidiagonalize(a?o:matrixCopy(e),!1,!1,!1);const x=1e-11;do{for(r=0;r<i-1;r++)Math.abs(y.val[r*y.n+r+1])<x*(Math.abs(y.val[r*y.n+r])+Math.abs(y.val[(r+1)*y.n+r+1]))&&(y.val[r*y.n+r+1]=0);if(Math.abs(y.val[(i-1)*y.n+i-2])>x||Math.abs(y.val[(i-2)*y.n+i-1])>x)u=0;else{for(u=1;u<i-1&&Math.abs(y.val[(i-u-1)*y.n+i-u-2])<x&&Math.abs(y.val[(i-u-2)*y.n+i-u-1])<x;)u++;u>=i-1&&(u=i)}for(l=i-u-1;l>0&&!isZero(y.val[(l-1)*y.n+l]);)l--;if(u<i){var w=-1;for(c=l;c<i-u-1;c++)if(Math.abs(y.val[c*y.n+c])<x){w=c;break}if(w>=0)if(w<i-u-1)for(j=w+1;j<i;j++)premulGivens((s=givens(-y.val[j*y.n+j],y.val[w*y.n+j]))[0],s[1],w,j,y),f&&premulGivens(s[0],s[1],w,j,v);else for(j=w-1;j>=l;j--)postmulGivens((s=givens(y.val[j*y.n*j],y.val[j*y.n+i-u-1]))[0],s[1],j,i-u-1,y),p&&premulGivens(s[0],s[1],j,i-u-1,g);else if(t)for(var M=GolubKahanSVDstep(y,l,l,i-u-l,i-u-l,!0),N=0;N<i-u-l-1;N++)f&&premulGivens(M.csU[N][0],M.csU[N][1],l+N,l+N+1,v),p&&premulGivens(M.csV[N][0],M.csV[N][1],l+N,l+N+1,g);else GolubKahanSVDstep(y,l,l,i-u-l,i-u-l)}}while(u<i);if(t){p&&(b=transposeMatrix(g));var _=diag(y);for(zeros(i),r=0;r<i;r++)_[r]<0&&(p&&set(b,[],r,minus(get(b,[],r))),_[r]=-_[r]);var A=sort(_,!0,!0);if(p&&(b=get(b,[],A)),f){if(!m)for(r=i;r<n;r++)A.push(r);v=get(v,A,[])}if(m)var E=diag(_);else E=mat([diag(_),zeros(n-i,i)],!0);var S=void 0;return f&&(S=transpose(v)),a?m?{U:b,S:E,V:S,s:_}:{U:b,S:transpose(E),V:S,s:_}:{U:S,S:E,V:b,s:_}}return sort(abs(diag(y)),!0)}function rank(e){const t=svd(e);var r,n=0;for(r=0;r<t.length;r++)t[r]>1e-10&&n++;return n}function nullspace(e){const t=svd(e,"V"),r=e.n;for(var n=0;n<r&&t.s[n]>1e-8;)n++;return n<r?get(t.V,[],range(n,r)):zeros(r)}function orth(e){const t=svd(e,"thinU"),r=e.n;for(var n=0;n<r&&t.s[n]>1e-8;)n++;return get(t.U,[],range(0,n))}function spVector(e,t,r){if(this.length=e,this.size=[e,1],this.type="spvector",arguments.length<=2){if(1==arguments.length)var n=e;else n=t;this.val=new Float64Array(n),this.ind=new Uint32Array(n)}else n=t.length,this.val=new Float64Array(t),this.ind=new Uint32Array(r);this.nnz=n}function spMatrix(e,t,r,n,i){if(this.length=e,this.m=e,this.n=t,this.size=[e,t],this.type="spmatrix",arguments.length<=3){if(2==arguments.length)var a=e*t;else a=r;this.rowmajor=!0,this.val=new Float64Array(a),this.cols=new Uint32Array(a),this.rows=new Uint32Array(e+1)}else i.length==(a=r.length)&&n.length==t+1&&n[n.length-1]==a?(this.rowmajor=!1,this.val=new Float64Array(r),this.cols=new Uint32Array(n),this.rows=new Uint32Array(i)):(this.rowmajor=!0,this.val=new Float64Array(r),this.cols=new Uint32Array(n),this.rows=new Uint32Array(i));this.nnz=a}function spgetRows(e,t){var r=t.length;if(e.rowmajor){if(r>1){for(var n=sort(t),i=new Array(r),a=0,o=0;o<r;o++)i[o]=e.row(n[o]),a+=i[o].val.length;var s=new Float64Array(a),u=new Uint32Array(a),l=new Uint32Array(r+1),c=0;for(o=0;o<r;o++)l[o]=c,s.set(i[o].val,c),u.set(i[o].ind,c),c+=i[o].val.length;return l[o]=c,new spMatrix(r,e.n,s,u,l)}return e.row(t[0])}return getRows(fullMatrix(e),t)}function fullVector(e){var t;const r=e.val.length;var n=new Float64Array(e.length);for(t=0;t<r;t++)n[e.ind[t]]=e.val[t];return n}function fullMatrix(e){const t=e.n;if(e.rowmajor){const s=e.m;for(var r=new Float64Array(s*t),n=0,i=0;i<s;i++){var a=e.rows[i+1];for(o=e.rows[i];o<a;o++)r[n+e.cols[o]]=e.val[o];n+=t}return new Matrix(s,t,r,!0)}r=new Float64Array(e.m*t);for(var o,s=0;s<t;s++)for(a=e.cols[s+1],o=e.cols[s];o<a;o++)r[(i=e.rows[o])*t+s]=e.val[o];return new Matrix(e.m,t,r,!0)}function full(e){switch(type(e)){case"spvector":return fullVector(e);case"spmatrix":return fullMatrix(e);default:return e}}function sparseVector(e){var t;const r=e.length;var n=new Array,i=new Array;for(t=0;t<r;t++)isZero(e[t])||(n.push(e[t]),i.push(t));return new spVector(r,n,i)}function sparseMatrix(e){var t,r;const n=e.m,i=e.n;var a,o=new Array,s=new Array,u=new Uint32Array(i+1);for(r=0;r<i;r++)for(a=r,t=0;t<n;t++)isZero(e.val[a])||(o.push(e.val[a]),s.push(t),u[r+1]++),a+=i;for(r=1;r<i;r++)u[r+1]+=u[r];return new spMatrix(n,i,o,u,s)}function sparseMatrixRowMajor(e){var t,r;const n=e.m,i=e.n;var a=new Array,o=new Array,s=new Uint32Array(n+1),u=0;for(t=0;t<n;t++)for(r=0;r<i;r++)isZero(e.val[u])||(a.push(e.val[u]),s[t+1]++,o.push(r)),u++;for(t=1;t<n;t++)s[t+1]+=s[t];return new spMatrix(n,i,a,o,s)}function sparse(e,t){switch(void 0===t&&(t=!0),type(e)){case"vector":return sparseVector(e);case"matrix":return t?sparseMatrixRowMajor(e):sparseMatrix(e);case"spvector":case"spmatrix":return e.copy();default:return e}}function speye(e,t){if(void 0===t&&(t=e),1==e&&1==t)return 1;var r=e<t?e:t,n=ones(r),i=range(r+1);return new spMatrix(e,t,n,i.slice(0,r),i)}function spdiag(e){var t=e.length,r=range(t+1),n=r.slice(0,t),i=type(e);return"vector"==i?new spMatrix(t,t,e,n,r):void error("Error in spdiag( x ): x is a "+i+" but should be a vector.")}function transposespVector(e){return new Matrix(1,e.length,fullVector(e),!0)}function transposespMatrix(e){return new spMatrix(e.n,e.m,e.val,e.rows,e.cols)}function spmat(e,t){var r,n=new Array(e.length);for(r=0;r<e.length;r++)n[r]=type(e[r]);if(void 0===t&&(t=!0),0==e.length)return[];var i=0,a=0,o=0;if(t){var s=new Array;for(r=0;r<e.length;r++)switch(n[r]){case"vector":var u=sparseVector(e[r]);s.push(u),i+=1,a=e[r].length,o+=u.val.length;break;case"spvector":s.push(e[r]),a=e[r].length,i+=1,o+=e[r].val.length;break;case"spmatrix":for(var l=0;l<e[r].m;l++)s.push(e[r].row(l));s.push(e[r]),a=e[r].length,i+=1,o+=e[r].val.length;break;default:return}var c=new spMatrix(i,a,o),f=0;for(c.rows[0]=0,r=0;r<s.length;r++)s[r].val.length>1?(c.val.set(new Float64Array(s[r].val),f),c.cols.set(new Uint32Array(s[r].ind),f),c.rows[r+1]=c.rows[r]+s[r].val.length,f+=s[r].val.length):1==s[r].val.length&&(c.val[f]=s[r].val[0],c.cols[f]=s[r].ind[0],c.rows[r+1]=c.rows[r]+1,f+=1);return c}return error("spmat(..., false) for columnwise concatenation of sparse vectors not yet implemented"),s}function mulScalarspVector(e,t){const r=t.val.length;for(var n=t.copy(),i=0;i<r;i++)n.val[i]*=e;return n}function mulScalarspMatrix(e,t){const r=t.nnz;for(var n=t.copy(),i=0;i<r;i++)n.val[i]*=e;return n}function spdot(e,t){const r=e.val.length,n=t.val.length;for(var i=0,a=0,o=0;a<r&&o<n;){for(var s=e.ind[a];t.ind[o]<s&&o<n;)o++;t.ind[o]==s&&(i+=e.val[a]*t.val[o]),a++}return i}function dotspVectorVector(e,t){const r=e.val.length;for(var n=0,i=0;i<r;i++)n+=e.val[i]*t[e.ind[i]];return n}function mulMatrixspVector(e,t){const r=e.n,n=t.val.length;for(var i=zeros(e.m),a=0,o=0;o<r;o++){for(var s=0;s<n;s++)i[o]+=e.val[a+t.ind[s]]*t.val[s];a+=r}return i}function mulspMatrixVector(e,t){const r=e.m,n=e.n;var i=zeros(r);if(e.rowmajor)for(var a=0;a<r;a++)for(var o=e.rows[a+1],s=e.rows[a];s<o;s++)i[a]+=e.val[s]*t[e.cols[s]];else for(var u=0;u<n;u++){o=e.cols[u+1];var l=t[u];for(s=e.cols[u];s<o;s++)i[e.rows[s]]+=e.val[s]*l}return i}function mulspMatrixTransVector(e,t){const r=e.m,n=e.n;var i=zeros(n);if(e.rowmajor)for(var a=0;a<r;a++)for(var o=e.rows[a+1],s=t[a],u=e.rows[a];u<o;u++)i[e.cols[u]]+=e.val[u]*s;else for(a=0;a<n;a++)for(o=e.cols[a+1],u=e.cols[a];u<o;u++)i[a]+=e.val[u]*t[e.rows[u]];return i}function mulspMatrixspVector(e,t){const r=e.m;var n=zeros(r);const i=t.val.length;if(e.rowmajor)for(var a=0;a<r;a++)n[a]=spdot(e.row(a),t);else for(var o=0;o<i;o++)for(var s=t.ind[o],u=t.val[o],l=e.cols[s+1],c=e.cols[s];c<l;c++)n[e.rows[c]]+=e.val[c]*u;return n}function mulspMatrixTransspVector(e,t){const r=e.n;var n=zeros(r);const i=t.val.length;if(e.rowmajor)for(var a=0;a<i;a++)for(var o=t.val[a],s=e.rows[(f=t.ind[a])+1],u=e.rows[f];u<s;u++)n[e.cols[u]]+=e.val[u]*o;else for(var l=0;l<r;l++){a=0,s=e.cols[l+1];for(var c=e.cols[l];c<s;c++){for(var f=e.rows[c];t.ind[a]<f&&a<i;)a++;t.ind[a]==l&&(n[l]+=e.val[c]*t.val[a])}}return n}function mulspMatrixspMatrix(e,t){const r=e.m,n=e.n,i=t.n;var a=zeros(r,i);if(e.rowmajor)if(t.rowmajor)for(var o=0;o<r;o++)for(var s=e.rows[o+1],u=e.rows[o];u<s;u++)for(var l=e.val[u],c=t.rows[(d=e.cols[u])+1],f=o*i,p=t.rows[d];p<c;p++)a.val[f+t.cols[p]]+=l*t.val[p];else for(var m=0,h=0;h<r;h++)for(var d=0;d<i;d++)a.val[m]=spdot(e.row(h),t.col(d)),m++;else if(t.rowmajor)for(var v=0;v<n;v++){s=e.cols[v+1];var g=t.rows[v],b=t.rows[v+1];for(u=e.cols[v];u<s;u++){f=e.rows[u]*i;for(var y=e.val[u],x=g;x<b;x++)a.val[f+t.cols[x]]+=y*t.val[x]}}else for(var w=0;w<i;w++)for(b=t.cols[w+1],x=g=t.cols[w];x<b;x++){var M=t.val[x];for(c=e.cols[(d=t.rows[x])+1],p=e.cols[d];p<c;p++)a.val[e.rows[p]*i+w]+=e.val[p]*M}return a}function mulMatrixspMatrix(e,t){const r=e.m,n=e.n,i=t.n;var a=zeros(r,i);if(t.rowmajor)for(var o=0;o<n;o++)for(var s=t.rows[o],u=t.rows[o+1],l=0;l<r;l++)for(var c=l*i,f=e.val[l*n+o],p=s;p<u;p++)a.val[c+t.cols[p]]+=f*t.val[p];else for(var m=0;m<i;m++)for(u=t.cols[m+1],p=s=t.cols[m];p<u;p++){var h=t.rows[p],d=t.val[p];for(l=0;l<r;l++)a.val[l*i+m]+=e.val[l*n+h]*d}return a}function mulspMatrixMatrix(e,t){const r=e.m,n=e.n,i=t.n;var a=zeros(r,i);if(e.rowmajor)for(var o=0;o<r;o++)for(var s=e.rows[o+1],u=e.rows[o];u<s;u++){var l=e.val[u],c=e.cols[u]*i,f=o*i;for(p=0;p<i;p++)a.val[f+p]+=l*t.val[c+p]}else for(var p=0;p<n;p++)for(var m=e.cols[p+1],h=e.cols[p];h<m;h++){o=e.rows[h];for(var d=0;d<i;d++)a.val[o*i+d]+=e.val[h]*t.val[p*i+d]}return a}function entrywisemulspVectors(e,t){const r=e.val.length,n=t.val.length;for(var i=new Array,a=new Array,o=0,s=0;o<r&&s<n;){for(var u=e.ind[o];t.ind[s]<u&&s<n;)s++;if(t.ind[s]==u){var l=e.val[o]*t.val[s];isZero(l)||(i.push(l),a.push(u))}o++}return new spVector(e.length,i,a)}function entrywisemulspVectorVector(e,t){var r=e.copy();const n=e.val.length;for(var i=0;i<n;i++)r.val[i]*=t[e.ind[i]];return r}function entrywisemulspMatrices(e,t){if(e.rowmajor){if(t.rowmajor){var r=new Array,n=new Array,i=new Uint32Array(e.m+1);for(c=0;c<e.m;c++){u=e.rows[c],l=t.rows[c];for(var a=e.rows[c+1],o=t.rows[c+1];u<a&l<o;){for(var s=e.cols[u];t.cols[l]<s&&l<o;)l++;t.cols[l]==s&&(r.push(e.val[u]*t.val[l]),n.push(s),i[c+1]++),u++}}for(c=1;c<e.m;c++)i[c+1]+=i[c];return new spMatrix(e.m,e.n,r,n,i)}return entrywisemulspMatrixMatrix(t,fullMatrix(e))}if(t.rowmajor)return entrywisemulspMatrixMatrix(e,fullMatrix(t));var u,l;for(r=new Array,n=new Uint32Array(e.n+1),i=new Array,s=0;s<e.n;s++)for(u=e.cols[s],l=t.cols[s],a=e.cols[s+1],o=t.cols[s+1];u<a&l<o;){for(var c=e.rows[u];t.rows[l]<c&&l<o;)l++;t.rows[l]==c&&(r.push(e.val[u]*t.val[l]),i.push(c),n[s+1]++),u++}for(s=1;s<e.n;s++)n[s+1]+=n[s];return new spMatrix(e.m,e.n,r,n,i)}function entrywisemulspMatrixMatrix(e,t){var r=e.copy();const n=e.n,a=e.m;if(e.rowmajor)for(i=0;i<a;i++)for(var o=r.rows[i],s=r.rows[i+1],u=i*n,l=o;l<s;l++)r.val[l]*=t.val[u+r.cols[l]];else for(j=0;j<n;j++)for(o=r.cols[j],s=r.cols[j+1],l=o;l<s;l++)r.val[l]*=t.val[r.rows[l]*n+j];return r}function addScalarspVector(e,t){const r=t.val.length,n=t.length;var i,a=zeros(n);for(i=0;i<n;i++)a[i]=e;for(i=0;i<r;i++)a[t.ind[i]]+=t.val[i];return a}function addVectorspVector(e,t){const r=t.val.length;for(var n=new Float64Array(e),i=0;i<r;i++)n[t.ind[i]]+=t.val[i];return n}function addspVectors(e,t){const r=e.val.length,n=t.val.length;var i,a=zeros(e.length);for(i=0;i<r;i++)a[e.ind[i]]=e.val[i];for(i=0;i<n;i++)a[t.ind[i]]+=t.val[i];return sparseVector(a)}function addScalarspMatrix(e,t){const r=t.m,n=t.n,i=r*n;var a,o=zeros(r,n);for(a=0;a<i;a++)o.val[a]=e;if(t.rowmajor){var s=0;for(a=0;a<r;a++){for(var u=t.rows[a+1],l=t.rows[a];l<u;l++)o.val[s+t.cols[l]]+=t.val[l];s+=n}}else for(a=0;a<n;a++)for(u=t.cols[a+1],l=t.cols[a];l<u;l++)o.val[t.rows[l]*n+a]+=t.val[l];return o}function addMatrixspMatrix(e,t){const r=t.m,n=t.n;var i,a=matrixCopy(e);if(t.rowmajor){var o=0;for(i=0;i<r;i++){for(var s=t.rows[i+1],u=t.rows[i];u<s;u++)a.val[o+t.cols[u]]+=t.val[u];o+=n}}else for(i=0;i<n;i++)for(s=t.cols[i+1],u=t.cols[i];u<s;u++)a.val[t.rows[u]*n+i]+=t.val[u];return a}function addspMatrices(e,t){const r=e.m,n=e.n;var i,a=fullMatrix(e);if(t.rowmajor){var o=0;for(i=0;i<r;i++){for(var s=t.rows[i+1],u=t.rows[i];u<s;u++)a.val[o+t.cols[u]]+=t.val[u];o+=n}}else for(i=0;i<n;i++)for(s=t.cols[i+1],u=t.cols[i];u<s;u++)a.val[t.rows[u]*n+i]+=t.val[u];return sparseMatrixRowMajor(a)}function spsaxpy(e,t,r){const n=t.val.length;for(var i=0;i<n;i++)r[t.ind[i]]+=e*t.val[i]}function subScalarspVector(e,t){const r=t.val.length,n=t.length;var i,a=zeros(n);for(i=0;i<n;i++)a[i]=e;for(i=0;i<r;i++)a[t.ind[i]]-=t.val[i];return a}function subVectorspVector(e,t){const r=t.val.length;for(var n=new Float64Array(e),i=0;i<r;i++)n[t.ind[i]]-=t.val[i];return n}function subspVectorVector(e,t){return subVectors(fullVector(e),t)}function subspVectors(e,t){const r=e.val.length,n=t.val.length;var i,a=zeros(e.length);for(i=0;i<r;i++)a[e.ind[i]]=e.val[i];for(i=0;i<n;i++)a[t.ind[i]]-=t.val[i];return sparseVector(a)}function subScalarspMatrix(e,t){const r=t.m,n=t.n,i=r*n;var a,o=zeros(r,n);for(a=0;a<i;a++)o.val[a]=e;if(t.rowmajor){var s=0;for(a=0;a<r;a++){for(var u=t.rows[a+1],l=t.rows[a];l<u;l++)o.val[s+t.cols[l]]-=t.val[l];s+=n}}else for(a=0;a<n;a++)for(u=t.cols[a+1],l=t.cols[a];l<u;l++)o.val[t.rows[l]*n+a]-=t.val[l];return o}function subspMatrixMatrix(e,t){return subMatrices(fullMatrix(e),t)}function subMatrixspMatrix(e,t){const r=t.m,n=t.n;var i,a=matrixCopy(e);if(t.rowmajor){var o=0;for(i=0;i<r;i++){for(var s=t.rows[i+1],u=t.rows[i];u<s;u++)a.val[o+t.cols[u]]-=t.val[u];o+=n}}else for(i=0;i<n;i++)for(s=t.cols[i+1],u=t.cols[i];u<s;u++)a.val[t.rows[u]*n+i]-=t.val[u];return a}function subspMatrices(e,t){const r=e.m,n=e.n;var i,a=fullMatrix(e);if(t.rowmajor){var o=0;for(i=0;i<r;i++){for(var s=t.rows[i+1],u=t.rows[i];u<s;u++)a.val[o+t.cols[u]]-=t.val[u];o+=n}}else for(i=0;i<n;i++)for(s=t.cols[i+1],u=t.cols[i];u<s;u++)a.val[t.rows[u]*n+i]-=t.val[u];return sparseMatrixRowMajor(a)}function applyspVector(e,t){const r=t.val.length,n=t.length;var i,a=new Float64Array(n);const o=e(0);for(i=0;i<n;i++)a[i]=o;for(i=0;i<r;i++)a[t.ind[i]]=e(t.val[i]);return a}function applyspMatrix(e,t){const r=t.m,n=t.n,i=r*n,a=e(0);var o,s=zeros(r,n);if(!isZero(a))for(o=0;o<i;o++)s.val[o]=a;if(t.rowmajor){var u=0;for(o=0;o<r;o++){for(var l=t.rows[o+1],c=t.rows[o];c<l;c++)s.val[u+t.cols[c]]=e(t.val[c]);u+=n}}else for(o=0;o<n;o++)for(l=t.cols[o+1],c=t.cols[o];c<l;c++)s.val[t.rows[c]*n+o]+=e(t.val[c]);return s}function sumspVector(e){return sumVector(e.val)}function sumspMatrix(e){return sumVector(e.val)}function sumspMatrixRows(e){var t=zeros(e.n);if(e.rowmajor)for(var r=0;r<e.val.length;r++)t[e.cols[r]]+=e.val[r];else for(var n=0;n<e.n;n++)t[n]=sumspVector(e.col(n));return new Matrix(1,e.n,t,!0)}function sumspMatrixCols(e){var t=zeros(e.m);if(e.rowmajor)for(var r=0;r<e.m;r++)t[r]=sumspVector(e.row(r));else for(var n=0;n<e.val.length;n++)t[e.rows[n]]+=e.val[n];return t}function prodspMatrixRows(e){if(e.rowmajor)for(var t=ones(e.n),r=0;r<e.m;r++){for(var n=e.rows[r],i=e.rows[r+1],a=0;a<e.n;a++)e.cols.subarray(n,i).indexOf(a)<0&&(t[a]=0);for(var o=n;o<i;o++)t[e.cols[o]]*=e.val[o]}else for(t=zeros(e.n),r=0;r<e.n;r++){var s=e.col(r);s.val.length==s.length&&(t[r]=prodVector(s.val))}return new Matrix(1,e.n,t,!0)}function prodspMatrixCols(e){if(e.rowmajor)for(var t=zeros(e.m),r=0;r<e.m;r++){var n=e.row(r);n.val.length==n.length&&(t[r]=prodVector(n.val))}else{t=ones(e.m);for(var i=0;i<e.n;i++){var a=e.cols[i],o=e.cols[i+1];for(r=0;r<e.m;r++)e.rows.subarray(a,o).indexOf(r)<0&&(t[r]=0);for(var s=a;s<o;s++)t[e.rows[s]]*=e.val[s]}}return t}function spsolvecg(e,t){const r=e.n,n=e.m;var i=randn(r),a=subVectors(t,mulspMatrixVector(e,i)),o=dot(a,a),s=1e-8*norm(t);s*=s;var u=vectorCopy(a),l=mulspMatrixVector(e,u),c=o/dot(u,l);saxpy(c,u,i),saxpy(-c,l,a);var f=o;o=dot(a,a);for(var p=1,m=function(e,t){for(var r=0;r<n;r++)u[r]=t[r]+e*u[r]};o>s&&p<r;)m(o/f,a),l=mulspMatrixVector(e,u),saxpy(c=o/dot(u,l),u,i),saxpy(-c,l,a),f=o,o=dot(a,a),p++;return i}function spcgnr(e,t){const r=e.n,n=e.m;var i=randn(r),a=subVectors(t,mulspMatrixVector(e,i)),o=1e-8*norm(t);o*=o;var s=mulspMatrixTransVector(e,a),u=dot(s,s),l=vectorCopy(s),c=mulspMatrixVector(e,l),f=u/dot(c,c);saxpy(f,l,i),saxpy(-f,c,a);var p=u;u=dot(s=mulspMatrixTransVector(e,a),s);for(var m=1,h=function(e,t){for(var r=0;r<n;r++)l[r]=t[r]+e*l[r]};u>o&&m<r*r;)h(u/p,s),saxpy(f=u/dot(c=mulspMatrixVector(e,l),c),l,i),saxpy(-f,c,a),p=u,u=dot(s=mulspMatrixTransVector(e,a),s),m++;return i}function glp(e,t,r,n,i,a,o,s,u){var l,c,f,p,m=glp_create_prob();glp_set_obj_dir(m,GLP_MIN),void 0===n&&(n=[]),glp_add_cols(m,e.length),t.length+n.length>0&&glp_add_rows(m,t.length+n.length);var h,d=e.length;if(a){var v=vectorCopy(a);for(l=0;l<v.length;l++)isFinite(v[l])||(v[l]=NaN)}else v=[];if(o){var g=vectorCopy(o);for(l=0;l<g.length;l++)isFinite(g[l])||(v[l]=NaN)}else g=[];for(l=0;l<e.length;l++){var b=NaN,y=NaN;v.length>0&&(b=v[l]),g.length>0&&(y=g[l]),isNaN(b)||isNaN(y)?isNaN(b)?isNaN(y)?glp_set_col_bnds(m,l+1,GLP_FR):glp_set_col_bnds(m,l+1,GLP_UP,0,y):glp_set_col_bnds(m,l+1,GLP_LO,b):glp_set_col_bnds(m,l+1,GLP_DB,b,y),glp_set_obj_coef(m,l+1,e[l])}if(s)for(l=0;l<s.length;l++)glp_set_col_kind(m,s[l]+1,GLP_IV);for(1==t.length&&"number"==typeof r&&(r=[r]),l=0;l<t.length;l++){for(glp_set_row_bnds(m,l+1,GLP_UP,0,r[l]),f=new Array,p=new Array,f.push(0),p.push(0),c=0;c<d;c++)isZero(t.val[l*d+c])||(f.push(c+1),p.push(t.val[l*d+c]));glp_set_mat_row(m,l+1,f.length-1,f,p)}for(1==n.length&&"number"==typeof i&&(i=[i]),l=0;l<n.length;l++){for(glp_set_row_bnds(m,t.length+l+1,GLP_FX,i[l]),f=new Array,p=new Array,f.push(0),p.push(0),c=0;c<d;c++)isZero(n.val[l*d+c])||(f.push(c+1),p.push(n.val[l*d+c]));glp_set_mat_row(m,t.length+l+1,f.length-1,f,p)}if(s&&s.length>0){var x=new IOCP({presolve:GLP_ON});if(glp_scale_prob(m,GLP_SF_AUTO),0==(h=glp_intopt(m,x))){var w=zeros(d);for(l=0;l<d;l++)w[l]=glp_mip_col_val(m,l+1);if(u){var M=glp_mip_obj_val(m);console.log("Status : "+glp_mip_status(m)),console.log("Obj : "+M)}return w}return"Status : "+glp_get_prim_stat(m)}var N=new SMCP({presolve:GLP_ON});if(glp_scale_prob(m,GLP_SF_AUTO),0==(h=glp_simplex(m,N))){for(w=zeros(d),l=0;l<d;l++)w[l]=glp_get_col_prim(m,l+1);return u&&(M=glp_get_obj_val(m),console.log("Status : "+glp_get_status(m)+"(OPT="+GLP_OPT+",FEAS="+GLP_FEAS+",INFEAS="+GLP_INFEAS+",NOFEAS="+GLP_NOFEAS+",UNBND="+GLP_UNBND+",UNDEF="+GLP_UNDEF+")"),console.log("Obj : "+M)),w}return GLPLASTLP="",glp_write_lp(m,void 0,function(e){GLPLASTLP+=e+"<br>"}),"RC="+h+" ; Status : "+glp_get_status(m)+"(OPT="+GLP_OPT+",FEAS="+GLP_FEAS+",INFEAS="+GLP_INFEAS+",NOFEAS="+GLP_NOFEAS+",UNBND="+GLP_UNBND+",UNDEF="+GLP_UNDEF+")"}function minl1(e,t){const r=e.n;var n,i=zeros(2*r,2*r);for(n=0;n<r;n++)i.val[n*i.n+n]=1,i.val[n*i.n+r+n]=-1,i.val[(r+n)*i.n+n]=-1,i.val[(r+n)*i.n+r+n]=-1;var a=zeros(2*r),o=zeros(e.length,2*r);set(o,[],range(0,r),e);var s=zeros(2*r);set(s,range(r,2*r),ones(r));var u=zeros(2*r);return set(u,range(r),mulScalarVector(-1/0,ones(r))),get(glp(s,i,a,o,t,u),range(r))}function minl0(e,t,r){void 0===r&&(r=10);var n,i=e.n,a=zeros(2*i,2*i);for(n=0;n<i;n++)a.val[n*a.n+n]=1,a.val[n*a.n+i+n]=-r,a.val[(i+n)*a.n+n]=-1,a.val[(i+n)*a.n+i+n]=-r;var o=zeros(2*i),s=zeros(e.length,2*i);set(s,[],range(0,i),e);var u=zeros(2*i);set(u,range(i,2*i),ones(i));var l=zeros(2*i);set(l,range(i),mulScalarVector(-r,ones(i)));var c=ones(2*i);set(c,range(i),mulScalarVector(r,ones(i)));var f=glp(u,a,o,s,t,l,c,range(i,2*i));return entrywisemulVector(getSubVector(f,range(i)),getSubVector(f,range(i,2*i)))}function qp(e,t,r,n,i,a,o,s,u,l){var c,f,p,m,h,d;if(void 0===l&&(l=.001),void 0===u){if("string"==typeof(d=glp(zeros(t.length),r,n,i,a,o,s,[],!1)))return"infeasible"}else d=vectorCopy(u);var v=0;do{f=norm(p=add(mul(e,d),t)),h=sub(glp(p,r,n,i,a,o,s,[],!1),d),numerator=-mul(h,p),denominator=mul(h,mul(e,h)),(m=Math.abs(denominator)>1e-8&&denominator>0?numerator/denominator:0)>1&&(m=1),m>0?(d=add(d,mul(m,h)),c=m*norm(h)):c=0,v++}while(c>l&&f>l&&v<1e4);return d}function minimize(e,t,r){var n,i=1;return 3==arguments.length?"number"==typeof r?r>0&&Math.floor(r)==r?n=sub(mul(20,rand(i=r)),10):(i=1,n=r):(i=r.length,n=r):(i=1,n=20*Math.random()-10),1==i?secant(e,t,n):i>500?steepestdescent(e,t,n):bfgs(e,t,n)}function secant(e,t,r){var n,i=r,a=t(i),o=-.01*a;i+=o;do{n=a,i+=o*=-(a=t(i))/(a-n)}while(Math.abs(o)>1e-6);return i}function steepestdescent(e,t,r){var n,i=r,a=e(i),o=t(i),s=norm(o),u=0;do{var l=armijo(e,i,a,o,s);n=vectorCopy(i),prevobj=a,a=l.obj,s=norm(o=t(i=l.x)),u++}while(s>1e-4&&prevobj-a>1e-8&&norm(subVectors(i,n))>1e-6);return console.log(" OBJ: "+a+", norm(grad): "+s,"prevobj - obj",prevobj-a,"iter: ",u),i}function bfgs(e,t,r){const n=r.length;var i,a,o,s,u,l,c=r,f=e(c),p=eye(n),m=0;do{u=norm(a=t(c));var h=armijodir(e,c,f,a,minusVector(mulMatrixVector(p,a)));i=vectorCopy(c),prevobj=f,f=h.obj,o=subVectors(c=h.x,i),l=mulMatrixVector(p,s=subVectors(t(c),a));var d=dot(o,s),v=mulScalarVector(1/d,o),g=outerprodVectors(v,l);p=add(p,subMatrices(outerprodVectors(v,o,1+dot(s,l)/d),addMatrices(g,transposeMatrix(g)))),m++}while(u>1e-4&&prevobj-f>1e-8&&norm(subVectors(c,i))>1e-6);return console.log(" OBJ: "+f+", norm(grad): "+u,"prevobj - obj",prevobj-f,"iters: ",m),c}function mincubic(e,t,r,n,i,a,o,s){const u=r*r,l=i*i;var c=solve(new Matrix(2,2,[u,r*u,l,i*l]),new Float64Array([n-e-t*r,a-e-t*i])),f=(-c[0]+Math.sqrt(c[0]*c[0]-3*c[1]*t))/(3*c[1]);return Math.min(s,Math.max(o,f))}function minquadratic(e,t,r,n,i,a){return Math.min(a,Math.max(i,-t/(2*n*(r-e-t))))}function armijo(e,t,r,n,i){const a=i*i;var o=Math.min(1,100/(1+i)),s=r-1e-4*o*a,u=o,l=subVectors(t,mulScalarVector(o,n)),c=r,f=e(l),p=1,m=(c=f,u);for(u=o=minquadratic(r,-a,u,f,.1*u,.5*u),p++;f>s&&p<=10;)o=mincubic(r,-a,u,f,m,c,.1*u,.5*u),m=u,u=o,c=f,f=e(l=subVectors(t,mulScalarVector(o,n))),s=r-1e-4*o*a,p++;return{lambda:o,x:l,obj:f}}function armijodir(e,t,r,n,i){const a=dot(n,i);var o=Math.min(1,100/(1+norm(n))),s=r+1e-4*o*a,u=o,l=addVectors(t,mulScalarVector(o,i)),c=r,f=e(l),p=1,m=(c=f,u);for(u=o=minquadratic(r,a,u,f,.1*u,.5*u),p++;f>s&&p<=10;)o=mincubic(r,a,u,f,m,c,.1*u,.5*u),m=u,u=o,c=f,f=e(l=addVectors(t,mulScalarVector(o,i))),s=r+1e-4*o*a,p++;return{lambda:o,x:l,obj:f}}function nchoosek(e,t){if(t>e||t<0||e<0)return 0;var r,n=1;for(r=e-t+1;r<=e;r++)n*=r;for(r=2;r<=t;r++)n/=r;return n}function mvnrnd(e,t,r){arguments.length<3&&(r=1);var n=randn(r,e.length);if(issymmetric(t))var i=chol(t);else i=t;return add(mul(ones(r),transpose(e)),mul(n,transpose(i)))}function Distribution(distrib,arg1,arg2){arguments.length<1?error("Error in new Distribution(name): name is undefined."):("string"==typeof distrib&&(distrib=eval(distrib)),this.type="Distribution:"+distrib.name,this.distribution=distrib.name,this.construct=distrib.prototype.construct,this.estimate=distrib.prototype.estimate,this.sample=distrib.prototype.sample,this.pdf=distrib.prototype.pdf,distrib.prototype.pmf&&(this.pmf=distrib.prototype.pmf),this.logpdf=distrib.prototype.logpdf?distrib.prototype.logpdf:function(e){return log(this.pdf(e))},this.construct(arg1,arg2))}function Uniform(e){return new Distribution(Uniform,e)}function Gaussian(e){return new Distribution(Gaussian,e)}function mvGaussian(e){return new Distribution(mvGaussian,e)}function Bernoulli(e){return new Distribution(Bernoulli,e)}function Poisson(e){return new Distribution(Poisson,e)}argmax=findmax,argmin=findmin,spVector.prototype.get=function(e){var t=this.ind.indexOf(e);return t<0?0:this.val[t]},spVector.prototype.set=function(e,t){if(!(e>this.n)){var r=this.ind.indexOf(e);if(r<0){var n=new Uint32Array(this.nnz+1),i=new Float64Array(this.nnz+1);for(r=0;this.ind[r]<e;)n[r]=this.ind[r],i[r]=this.val.ind[r],r++;n[r]=e,i[r]=t,n.set(this.ind.subarray(r),r+1),i.set(this.val.subarray(r),r+1),this.nnz++}else this.val[r]=t;return t}error("Error in spVector.set(i,value): i > this.length)")},spVector.prototype.copy=function(){return new spVector(this.n,this.val,this.ind)},spMatrix.prototype.copy=function(){return new spMatrix(this.m,this.n,this.val,this.cols,this.rows)},spMatrix.prototype.toRowmajor=function(){return this.rowmajor?this.copy():sparseMatrixRowMajor(fullMatrix(this))},spMatrix.prototype.row=function(e){return this.rowmajor?new spVector(this.n,this.val.subarray(this.rows[e],this.rows[e+1]),this.cols.subarray(this.rows[e],this.rows[e+1])):void error("Cannot extract sparse column from a sparse matrix in row major format.")},spMatrix.prototype.col=function(e){return this.rowmajor?void error("Cannot extract sparse column from a sparse matrix in row major format."):new spVector(this.m,this.val.subarray(this.cols[e],this.cols[e+1]),this.rows.subarray(this.cols[e],this.cols[e+1]))},spMatrix.prototype.get=function(e,t){var r;return this.rowmajor?(r=this.cols.subarray(this.rows[e],this.rows[e+1]).indexOf(t))<0?0:this.val[this.rows[e]+r]:(r=this.rows.subarray(this.cols[t],this.cols[t+1]).indexOf(e))<0?0:this.val[this.cols[t]+r]},"undefined"==typeof lp&&(lp=glp,linprog=glp),quadprog=qp,function(e){var t=Number.MAX_VALUE,r=Number.MIN_VALUE;function n(e){throw Error(e)}function i(){}function a(e,t){for(var r in t)e[r]=t[r]}function o(e,t,r,n,i){for(;0<i;t++,n++,i--)e[t]=r[n]}function s(e,t,r,n){for(;0<n;t++,n--)e[t]=r}function u(e,t,r){for(;0<r;t++,r--)e[t]={}}function l(){return(new Date).getTime()}function c(e){return(l()-e)/1e3}function f(e,t,r){var n=Array(t);o(n,0,e,1,t),n.sort(r),o(e,1,n,0,t)}e.glp_get_print_func=function(){return i},e.glp_set_print_func=function(e){i=e};var p={},m=e.glp_version=function(){return Ht+"."+Yt};function h(e){return 0<=(e="string"==typeof e?e.charCodeAt(0):-1)&&31>=e||127==e}function d(e){return 65<=(e="string"==typeof e?e.charCodeAt(0):-1)&&90>=e||97<=e&&122>=e}function v(e){return 65<=(e="string"==typeof e?e.charCodeAt(0):-1)&&90>=e||97<=e&&122>=e||48<=e&&57>=e}function g(e){return 48<=(e="string"==typeof e?e.charCodeAt(0):-1)&&57>=e}function b(){function e(e,n,i,a,o,s,u){return e>>>=0,t(e=(i=i&&e&&{2:"0b",8:"0",16:"0x"}[n]||"")+r(e.toString(n),s||0,"0",!1),i,a,o,u)}function t(e,t,n,i,a,o){var s=i-e.length;return 0<s&&(e=n||!a?r(e,i,o,n):e.slice(0,t.length)+r("",s,"0",!0)+e.slice(t.length)),e}function r(e,t,r,n){return r||(r=" "),t=e.length>=t?"":Array(1+t-e.length>>>0).join(r),n?e+t:t+e}var n=arguments,i=0;return n[i++].replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(a,o,s,u,l,c,f){var p,m;if("%%"==a)return"%";var h=!1;m="";var d=l=!1;p=" ";for(var v=s.length,g=0;s&&g<v;g++)switch(s.charAt(g)){case" ":m=" ";break;case"+":m="+";break;case"-":h=!0;break;case"'":p=s.charAt(g+1);break;case"0":l=!0;break;case"#":d=!0}if(0>(u=u?"*"==u?+n[i++]:"*"==u.charAt(0)?+n[u.slice(1,-1)]:+u:0)&&(u=-u,h=!0),!isFinite(u))throw Error("sprintf: (minimum-)width must be finite");switch(c=c?"*"==c?+n[i++]:"*"==c.charAt(0)?+n[c.slice(1,-1)]:+c:-1<"fFeE".indexOf(f)?6:"d"==f?0:void 0,o=o?n[o.slice(0,-1)]:n[i++],f){case"s":return f=String(o),null!=c&&(f=f.slice(0,c)),t(f,"",h,u,l,p);case"c":return f=String.fromCharCode(+o),null!=c&&(f=f.slice(0,c)),t(f,"",h,u,l,void 0);case"b":return e(o,2,d,h,u,c,l);case"o":return e(o,8,d,h,u,c,l);case"x":return e(o,16,d,h,u,c,l);case"X":return e(o,16,d,h,u,c,l).toUpperCase();case"u":return e(o,10,d,h,u,c,l);case"i":case"d":return p=+o||0,t(o=(a=0>(p=Math.round(p-p%1))?"-":m)+r(String(Math.abs(p)),c,"0",!1),a,h,u,l);case"e":case"E":case"f":case"F":case"g":case"G":return a=0>(p=+o)?"-":m,m=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],f=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],t(o=a+Math.abs(p)[m](c),a,h,u,l)[f]();default:return a}})}function y(e){e.Dd=3621377730,e.ke=null,e.V=null,e.name=null,e.eb=null,e.dir=Zt,e.ha=0,e.hb=100,e.K=200,e.g=e.i=0,e.L=0,e.n=Array(1+e.hb),e.f=Array(1+e.K),e.fc={},e.Lc={},e.valid=0,e.head=new Int32Array(1+e.hb),e.Qd=null,e.U=null,e.na=e.sa=gr,e.aa=0,e.$=0,e.some=0,e.df=gr,e.ae=0,e.za=gr,e.ta=0}var x=e.glp_create_prob=function(){var e={};return y(e),e},w=e.glp_set_prob_name=function(e,t){var r=e.V;null!=r&&0!=r.reason&&n("glp_set_prob_name: operation not allowed"),e.name=t},M=e.glp_set_obj_name=function(e,t){var r=e.V;null!=r&&0!=r.reason&&n("glp_set_obj_name: operation not allowed"),e.eb=t},N=e.glp_set_obj_dir=function(e,t){var r=e.V;null!=r&&0!=r.reason&&n("glp_set_obj_dir: operation not allowed"),t!=Zt&&t!=Jt&&n("glp_set_obj_dir: dir = "+t+"; invalid direction flag"),e.dir=t},_=e.glp_add_rows=function(e,t){var r,i=e.V;1>t&&n("glp_add_rows: nrs = "+t+"; invalid number of rows"),t>1e8-e.g&&n("glp_add_rows: nrs = "+t+"; too many rows");var a=e.g+t;if(e.hb<a){for(;e.hb<a;)e.hb+=e.hb;e.n.length=1+e.hb,e.head=new Int32Array(1+e.hb)}for(var o=e.g+1;o<=a;o++){if(e.n[o]=r={},r.ea=o,r.name=null,r.rb=null,r.La=0,r.origin=0,r.qc=0,null!=i)switch(i.reason){case an:r.La=i.N.La,r.origin=Kr;break;case un:r.La=i.N.La,r.origin=Wr}r.type=$t,r.c=r.d=0,r.k=null,r.ma=1,r.m=ir,r.bind=0,r.r=r.J=0,r.dc=r.mc=0,r.Sa=0}return e.g=a,e.valid=0,null!=i&&0!=i.reason&&(i.pe=1),a-t+1},A=e.glp_add_cols=function(e,t){var r=e.V;null!=r&&0!=r.reason&&n("glp_add_cols: operation not allowed"),1>t&&n("glp_add_cols: ncs = "+t+"; invalid number of columns"),t>1e8-e.i&&n("glp_add_cols: ncs = "+t+"; too many columns");var i=e.i+t;if(e.K<i){for(;e.K<i;)e.K+=e.K;e.f.length=1+e.K}for(var a=e.i+1;a<=i;a++)e.f[a]=r={},r.C=a,r.name=null,r.rb=null,r.kind=Kt,r.type=nr,r.c=r.d=0,r.u=0,r.k=null,r.va=1,r.m=ur,r.bind=0,r.r=r.J=0,r.dc=r.mc=0,r.Sa=0;return e.i=i,i-t+1},E=e.glp_set_row_name=function(e,t,r){1<=t&&t<=e.g||n("glp_set_row_name: i = "+t+"; row number out of range"),null!=(t=e.n[t]).name&&(delete e.fc[t.name],t.name=null),null!=r&&(t.name=r,e.fc[t.name]=t)},S=e.glp_set_col_name=function(e,t,r){var i=e.V;null!=i&&0!=i.reason&&n("glp_set_col_name: operation not allowed"),1<=t&&t<=e.i||n("glp_set_col_name: j = "+t+"; column number out of range"),null!=(t=e.f[t]).name&&(delete e.Lc[t.name],t.name=null),null!=r&&(t.name=r,e.Lc[t.name]=t)},k=e.glp_set_row_bnds=function(e,t,r,i,a){switch(1<=t&&t<=e.g||n("glp_set_row_bnds: i = "+t+"; row number out of range"),(e=e.n[t]).type=r,r){case $t:e.c=e.d=0,e.m!=ir&&(e.m=sr);break;case er:e.c=i,e.d=0,e.m!=ir&&(e.m=ar);break;case tr:e.c=0,e.d=a,e.m!=ir&&(e.m=or);break;case rr:e.c=i,e.d=a,e.m!=ir&&e.m!=ar&&e.m!=or&&(e.m=Math.abs(i)<=Math.abs(a)?ar:or);break;case nr:e.c=e.d=i,e.m!=ir&&(e.m=ur);break;default:n("glp_set_row_bnds: i = "+t+"; type = "+r+"; invalid row type")}},O=e.glp_set_col_bnds=function(e,t,r,i,a){switch(1<=t&&t<=e.i||n("glp_set_col_bnds: j = "+t+"; column number out of range"),(e=e.f[t]).type=r,r){case $t:e.c=e.d=0,e.m!=ir&&(e.m=sr);break;case er:e.c=i,e.d=0,e.m!=ir&&(e.m=ar);break;case tr:e.c=0,e.d=a,e.m!=ir&&(e.m=or);break;case rr:e.c=i,e.d=a,e.m!=ir&&e.m!=ar&&e.m!=or&&(e.m=Math.abs(i)<=Math.abs(a)?ar:or);break;case nr:e.c=e.d=i,e.m!=ir&&(e.m=ur);break;default:n("glp_set_col_bnds: j = "+t+"; type = "+r+"; invalid column type")}},C=e.glp_set_obj_coef=function(e,t,r){var i=e.V;null!=i&&0!=i.reason&&n("glp_set_obj_coef: operation not allowed"),0<=t&&t<=e.i||n("glp_set_obj_coef: j = "+t+"; column number out of range"),0==t?e.ha=r:e.f[t].u=r},L=e.glp_set_mat_row=function(e,t,r,i,a){var o,s,u;1<=t&&t<=e.g||n("glp_set_mat_row: i = "+t+"; row number out of range");for(var l=e.n[t];null!=l.k;)l.k=(s=l.k).B,o=s.f,null==s.ra?o.k=s.I:s.ra.I=s.I,null!=s.I&&(s.I.ra=s.ra),e.L--,o.m==ir&&(e.valid=0);for(0<=r&&r<=e.i||n("glp_set_mat_row: i = "+t+"; len = "+r+"; invalid row length "),r>5e8-e.L&&n("glp_set_mat_row: i = "+t+"; len = "+r+"; too many constraint coefficients"),u=1;u<=r;u++)1<=(s=i[u])&&s<=e.i||n("glp_set_mat_row: i = "+t+"; ind["+u+"] = "+s+"; column index out of range"),null!=(o=e.f[s]).k&&o.k.n.ea==t&&n("glp_set_mat_row: i = "+t+"; ind["+u+"] = "+s+"; duplicate column indices not allowed"),s={},e.L++,s.n=l,s.f=o,s.j=a[u],s.ua=null,s.B=l.k,s.ra=null,s.I=o.k,null!=s.B&&(s.B.ua=s),null!=s.I&&(s.I.ra=s),l.k=o.k=s,o.m==ir&&0!=s.j&&(e.valid=0);for(s=l.k;null!=s;s=t)t=s.B,0==s.j&&(null==s.ua?l.k=t:s.ua.B=t,null!=t&&(t.ua=s.ua),s.f.k=s.I,null!=s.I&&(s.I.ra=null),e.L--)},T=e.glp_set_mat_col=function(e,t,r,i,a){var o,s,u,l=e.V;for(null!=l&&0!=l.reason&&n("glp_set_mat_col: operation not allowed"),1<=t&&t<=e.i||n("glp_set_mat_col: j = "+t+"; column number out of range"),l=e.f[t];null!=l.k;)l.k=(s=l.k).I,o=s.n,null==s.ua?o.k=s.B:s.ua.B=s.B,null!=s.B&&(s.B.ua=s.ua),e.L--;for(0<=r&&r<=e.g||n("glp_set_mat_col: j = "+t+"; len = "+r+"; invalid column length"),r>5e8-e.L&&n("glp_set_mat_col: j = "+t+"; len = "+r+"; too many constraint coefficients"),u=1;u<=r;u++)1<=(s=i[u])&&s<=e.g||n("glp_set_mat_col: j = "+t+"; ind["+u+"] = "+s+"; row index out of range"),null!=(o=e.n[s]).k&&o.k.f.C==t&&n("glp_set_mat_col: j = "+t+"; ind["+u+"] = "+s+"; duplicate row indices not allowed"),s={},e.L++,s.n=o,s.f=l,s.j=a[u],s.ua=null,s.B=o.k,s.ra=null,s.I=l.k,null!=s.B&&(s.B.ua=s),null!=s.I&&(s.I.ra=s),o.k=l.k=s;for(s=l.k;null!=s;s=t)t=s.I,0==s.j&&(s.n.k=s.B,null!=s.B&&(s.B.ua=null),null==s.ra?l.k=t:s.ra.I=t,null!=t&&(t.ra=s.ra),e.L--);l.m==ir&&(e.valid=0)};e.glp_load_matrix=function(e,t,r,i,a){var o,s,u,l,c=e.V;for(null!=c&&0!=c.reason&&n("glp_load_matrix: operation not allowed"),u=1;u<=e.g;u++)for(c=e.n[u];null!=c.k;)c.k=(s=c.k).B,e.L--;for(s=1;s<=e.i;s++)e.f[s].k=null;for(0>t&&n("glp_load_matrix: ne = "+t+"; invalid number of constraint coefficients"),5e8<t&&n("glp_load_matrix: ne = "+t+"; too many constraint coefficients"),l=1;l<=t;l++)s=i[l],1<=(u=r[l])&&u<=e.g||n("glp_load_matrix: ia["+l+"] = "+u+"; row index out of range"),c=e.n[u],1<=s&&s<=e.i||n("glp_load_matrix: ja["+l+"] = "+s+"; column index out of range"),o=e.f[s],s={},e.L++,s.n=c,s.f=o,s.j=a[l],s.ua=null,s.B=c.k,null!=s.B&&(s.B.ua=s),c.k=s;for(u=1;u<=e.g;u++)for(s=e.n[u].k;null!=s;s=s.B){if(null!=(o=s.f).k&&o.k.n.ea==u){for(l=1;l<=t&&(r[l]!=u||i[l]!=o.C);l++);n("glp_load_mat: ia["+l+"] = "+u+"; ja["+l+"] = "+o.C+"; duplicate indices not allowed")}s.ra=null,s.I=o.k,null!=s.I&&(s.I.ra=s),o.k=s}for(u=1;u<=e.g;u++)for(s=(c=e.n[u]).k;null!=s;s=t)t=s.B,0==s.j&&(null==s.ua?c.k=t:s.ua.B=t,null!=t&&(t.ua=s.ua),null==s.ra?s.f.k=s.I:s.ra.I=s.I,null!=s.I&&(s.I.ra=s.ra),e.L--);e.valid=0},e.glp_check_dup=function(e,t,r,i,a){var o,s,u,l,c;for(0>e&&n("glp_check_dup: m = %d; invalid parameter"),0>t&&n("glp_check_dup: n = %d; invalid parameter"),0>r&&n("glp_check_dup: ne = %d; invalid parameter"),0<r&&null==i&&n("glp_check_dup: ia = "+i+"; invalid parameter"),0<r&&null==a&&n("glp_check_dup: ja = "+a+"; invalid parameter"),u=1;u<=r;u++)if(s=a[u],!(1<=(o=i[u])&&o<=e&&1<=s&&s<=t))return-u;if(0==e||0==t)return 0;for(l=new Int32Array(1+e),c=new Int32Array(1+r),t=new Int8Array(1+t),u=1;u<=r;u++)c[u]=l[o=i[u]],l[o]=u;for(o=1;o<=e;o++){for(u=l[o];0!=u;u=c[u]){if(t[s=a[u]]){for(u=1;u<=r&&(i[u]!=o||a[u]!=s);u++);for(u++;u<=r&&(i[u]!=o||a[u]!=s);u++);return+u}t[s]=1}for(u=l[o];0!=u;u=c[u])t[a[u]]=0}return 0};var P=e.glp_sort_matrix=function(e){var t,r,i;for(null!=e&&3621377730==e.Dd||n("glp_sort_matrix: P = "+e+"; invalid problem object"),r=e.g;1<=r;r--)e.n[r].k=null;for(i=e.i;1<=i;i--)for(t=e.f[i].k;null!=t;t=t.I)r=t.n.ea,t.ua=null,t.B=e.n[r].k,null!=t.B&&(t.B.ua=t),e.n[r].k=t;for(i=e.i;1<=i;i--)e.f[i].k=null;for(r=e.g;1<=r;r--)for(t=e.n[r].k;null!=t;t=t.B)i=t.f.C,t.ra=null,t.I=e.f[i].k,null!=t.I&&(t.I.ra=t),e.f[i].k=t},I=e.glp_del_rows=function(e,t,r){var i,a,o,s=e.V;for(1<=t&&t<=e.g||n("glp_del_rows: nrs = "+t+"; invalid number of rows"),o=1;o<=t;o++)1<=(a=r[o])&&a<=e.g||n("glp_del_rows: num["+o+"] = "+a+"; row number out of range"),i=e.n[a],null!=s&&0!=s.reason&&(s.reason!=an&&s.reason!=un&&n("glp_del_rows: operation not allowed"),i.La!=s.N.La&&n("glp_del_rows: num["+o+"] = "+a+"; invalid attempt to delete row created not in current subproblem"),i.m!=ir&&n("glp_del_rows: num["+o+"] = "+a+"; invalid attempt to delete active row (constraint)"),s.tf=1),0==i.ea&&n("glp_del_rows: num["+o+"] = "+a+"; duplicate row numbers not allowed"),E(e,a,null),L(e,a,0,null,null),i.ea=0;for(t=0,a=1;a<=e.g;a++)0!=(i=e.n[a]).ea&&(i.ea=++t,e.n[i.ea]=i);e.g=t,e.valid=0};e.glp_del_cols=function(e,t,r){var i,a,o=e.V;for(null!=o&&0!=o.reason&&n("glp_del_cols: operation not allowed"),1<=t&&t<=e.i||n("glp_del_cols: ncs = "+t+"; invalid number of columns"),a=1;a<=t;a++)1<=(o=r[a])&&o<=e.i||n("glp_del_cols: num["+a+"] = "+o+"; column number out of range"),0==(i=e.f[o]).C&&n("glp_del_cols: num["+a+"] = "+o+"; duplicate column numbers not allowed"),S(e,o,null),T(e,o,0,null,null),i.C=0,i.m==ir&&(e.valid=0);for(t=0,o=1;o<=e.i;o++)0!=(i=e.f[o]).C&&(i.C=++t,e.f[i.C]=i);if(e.i=t,e.valid)for(r=e.g,i=e.head,o=1;o<=t;o++)0!=(a=e.f[o].bind)&&(i[a]=r+o)};var z=e.glp_copy_prob=function(e,t,r){var i,a,o,s,u=e.V,l={};for(null!=u&&0!=u.reason&&n("glp_copy_prob: operation not allowed"),e==t&&n("glp_copy_prob: copying problem object to itself not allowed"),r!=rn&&r!=nn&&n("glp_copy_prob: names = "+r+"; invalid parameter"),B(e),r&&null!=t.name&&w(e,t.name),r&&null!=t.eb&&M(e,t.eb),e.dir=t.dir,e.ha=t.ha,0<t.g&&_(e,t.g),0<t.i&&A(e,t.i),Ce(t,l),Te(e,l),e.na=t.na,e.sa=t.sa,e.aa=t.aa,e.some=t.some,e.df=t.df,e.ae=t.ae,e.za=t.za,e.ta=t.ta,i=1;i<=t.g;i++)u=e.n[i],l=t.n[i],r&&null!=l.name&&E(e,i,l.name),u.type=l.type,u.c=l.c,u.d=l.d,u.ma=l.ma,u.m=l.m,u.r=l.r,u.J=l.J,u.dc=l.dc,u.mc=l.mc,u.Sa=l.Sa;for(o=new Int32Array(1+t.g),s=new Float64Array(1+t.g),i=1;i<=t.i;i++)u=e.f[i],l=t.f[i],r&&null!=l.name&&S(e,i,l.name),u.kind=l.kind,u.type=l.type,u.c=l.c,u.d=l.d,u.u=l.u,a=K(t,i,o,s),T(e,i,a,o,s),u.va=l.va,u.m=l.m,u.r=l.r,u.J=l.J,u.dc=l.dc,u.mc=l.mc,u.Sa=l.Sa},B=e.glp_erase_prob=function(e){var t=e.V;null!=t&&0!=t.reason&&n("glp_erase_prob: operation not allowed"),e.Dd=1061109567,e.ke=null,e.n=null,e.f=null,e.fc=null,e.Lc=null,e.head=null,e.Qd=null,e.U=null,y(e)};e.glp_get_prob_name=function(e){return e.name};var j=e.glp_get_obj_name=function(e){return e.eb},F=e.glp_get_obj_dir=function(e){return e.dir},R=e.glp_get_num_rows=function(e){return e.g},D=e.glp_get_num_cols=function(e){return e.i},q=e.glp_get_row_name=function(e,t){return 1<=t&&t<=e.g||n("glp_get_row_name: i = "+t+"; row number out of range"),e.n[t].name},V=e.glp_get_col_name=function(e,t){return 1<=t&&t<=e.i||n("glp_get_col_name: j = "+t+"; column number out of range"),e.f[t].name},X=e.glp_get_row_type=function(e,t){return 1<=t&&t<=e.g||n("glp_get_row_type: i = "+t+"; row number out of range"),e.n[t].type},U=e.glp_get_row_lb=function(e,r){var i;switch(1<=r&&r<=e.g||n("glp_get_row_lb: i = "+r+"; row number out of range"),e.n[r].type){case $t:case tr:i=-t;break;case er:case rr:case nr:i=e.n[r].c}return i},G=e.glp_get_row_ub=function(e,r){var i;switch(1<=r&&r<=e.g||n("glp_get_row_ub: i = "+r+"; row number out of range"),e.n[r].type){case $t:case er:i=+t;break;case tr:case rr:case nr:i=e.n[r].d}return i},H=e.glp_get_col_type=function(e,t){return 1<=t&&t<=e.i||n("glp_get_col_type: j = "+t+"; column number out of range"),e.f[t].type},Y=e.glp_get_col_lb=function(e,r){var i;switch(1<=r&&r<=e.i||n("glp_get_col_lb: j = "+r+"; column number out of range"),e.f[r].type){case $t:case tr:i=-t;break;case er:case rr:case nr:i=e.f[r].c}return i},Z=e.glp_get_col_ub=function(e,r){var i;switch(1<=r&&r<=e.i||n("glp_get_col_ub: j = "+r+"; column number out of range"),e.f[r].type){case $t:case er:i=+t;break;case tr:case rr:case nr:i=e.f[r].d}return i};e.glp_get_obj_coef=function(e,t){return 0<=t&&t<=e.i||n("glp_get_obj_coef: j = "+t+"; column number out of range"),0==t?e.ha:e.f[t].u},e.glp_get_num_nz=function(e){return e.L};var J=e.glp_get_mat_row=function(e,t,r,i){var a;for(1<=t&&t<=e.g||n("glp_get_mat_row: i = "+t+"; row number out of range"),a=0,e=e.n[t].k;null!=e;e=e.B)a++,null!=r&&(r[a]=e.f.C),null!=i&&(i[a]=e.j);return a},K=e.glp_get_mat_col=function(e,t,r,i){var a;for(1<=t&&t<=e.i||n("glp_get_mat_col: j = "+t+"; column number out of range"),a=0,e=e.f[t].k;null!=e;e=e.I)a++,null!=r&&(r[a]=e.n.ea),null!=i&&(i[a]=e.j);return a},W=e.glp_create_index=function(e){var t,r;if(null==e.fc)for(e.fc={},r=1;r<=e.g;r++)null!=(t=e.n[r]).name&&(e.fc[t.name]=t);if(null==e.Lc)for(e.Lc={},r=1;r<=e.i;r++)null!=(t=e.f[r]).name&&(e.Lc[t.name]=t)},Q=e.glp_find_row=function(e,t){var r=0;null==e.fc&&n("glp_find_row: row name index does not exist");var i=e.fc[t];return i&&(r=i.ea),r},$=e.glp_find_col=function(e,t){var r=0;null==e.Lc&&n("glp_find_col: column name index does not exist");var i=e.Lc[t];return i&&(r=i.C),r},ee=e.glp_delete_index=function(e){e.fc=null,e.fc=null},te=e.glp_set_rii=function(e,t,r){if(1<=t&&t<=e.g||n("glp_set_rii: i = "+t+"; row number out of range"),0>=r&&n("glp_set_rii: i = "+t+"; rii = "+r+"; invalid scale factor"),e.valid&&e.n[t].ma!=r)for(var i=e.n[t].k;null!=i;i=i.B)if(i.f.m==ir){e.valid=0;break}e.n[t].ma=r},re=e.glp_set_sjj=function(e,t,r){1<=t&&t<=e.i||n("glp_set_sjj: j = "+t+"; column number out of range"),0>=r&&n("glp_set_sjj: j = "+t+"; sjj = "+r+"; invalid scale factor"),e.valid&&e.f[t].va!=r&&e.f[t].m==ir&&(e.valid=0),e.f[t].va=r},ne=e.glp_get_rii=function(e,t){return 1<=t&&t<=e.g||n("glp_get_rii: i = "+t+"; row number out of range"),e.n[t].ma},ie=e.glp_get_sjj=function(e,t){return 1<=t&&t<=e.i||n("glp_get_sjj: j = "+t+"; column number out of range"),e.f[t].va},ae=e.glp_unscale_prob=function(e){var t,r=R(e),n=D(e);for(t=1;t<=r;t++)te(e,t,1);for(r=1;r<=n;r++)re(e,r,1)},oe=e.glp_set_row_stat=function(e,t,r){if(1<=t&&t<=e.g||n("glp_set_row_stat: i = "+t+"; row number out of range"),r!=ir&&r!=ar&&r!=or&&r!=sr&&r!=ur&&n("glp_set_row_stat: i = "+t+"; stat = "+r+"; invalid status"),t=e.n[t],r!=ir)switch(t.type){case $t:r=sr;break;case er:r=ar;break;case tr:r=or;break;case rr:r!=or&&(r=ar);break;case nr:r=ur}(t.m==ir&&r!=ir||t.m!=ir&&r==ir)&&(e.valid=0),t.m=r},se=e.glp_set_col_stat=function(e,t,r){if(1<=t&&t<=e.i||n("glp_set_col_stat: j = "+t+"; column number out of range"),r!=ir&&r!=ar&&r!=or&&r!=sr&&r!=ur&&n("glp_set_col_stat: j = "+t+"; stat = "+r+"; invalid status"),t=e.f[t],r!=ir)switch(t.type){case $t:r=sr;break;case er:r=ar;break;case tr:r=or;break;case rr:r!=or&&(r=ar);break;case nr:r=ur}(t.m==ir&&r!=ir||t.m!=ir&&r==ir)&&(e.valid=0),t.m=r},ue=e.glp_std_basis=function(e){var t;for(t=1;t<=e.g;t++)oe(e,t,ir);for(t=1;t<=e.i;t++){var r=e.f[t];r.type==rr&&Math.abs(r.c)>Math.abs(r.d)?se(e,t,or):se(e,t,ar)}},le=e.glp_simplex=function(e,t){function r(e,t){var r;return ke(e)||(0!=(r=Oe(e))&&(r==dn?t.o>=Sr&&i("glp_simplex: initial basis is invalid"):r==vn?t.o>=Sr&&i("glp_simplex: initial basis is singular"):r==gn&&t.o>=Sr&&i("glp_simplex: initial basis is ill-conditioned")),0==r)?(t.cb==Lr?r=Ap(e,t):t.cb==Tr?(r=Ep(e,t))==yn&&e.valid&&(r=Ap(e,t)):t.cb==Pr&&(r=Ep(e,t)),r):r}var a;for(null!=e&&3621377730==e.Dd||n("glp_simplex: P = "+e+"; invalid problem object"),null!=e.V&&0!=e.V.reason&&n("glp_simplex: operation not allowed"),null==t&&(t=new ce),t.o!=Er&&t.o!=Sr&&t.o!=kr&&t.o!=Or&&t.o!=Cr&&n("glp_simplex: msg_lev = "+t.o+"; invalid parameter"),t.cb!=Lr&&t.cb!=Tr&&t.cb!=Pr&&n("glp_simplex: meth = "+t.cb+"; invalid parameter"),t.fd!=Ir&&t.fd!=zr&&n("glp_simplex: pricing = "+t.fd+"; invalid parameter"),t.ne!=Br&&t.ne!=jr&&n("glp_simplex: r_test = "+t.ne+"; invalid parameter"),0<t.Gb&&1>t.Gb||n("glp_simplex: tol_bnd = "+t.Gb+"; invalid parameter"),0<t.tb&&1>t.tb||n("glp_simplex: tol_dj = "+t.tb+"; invalid parameter"),0<t.xe&&1>t.xe||n("glp_simplex: tol_piv = "+t.xe+"; invalid parameter"),0>t.oc&&n("glp_simplex: it_lim = "+t.oc+"; invalid parameter"),0>t.sb&&n("glp_simplex: tm_lim = "+t.sb+"; invalid parameter"),1>t.bc&&n("glp_simplex: out_frq = "+t.bc+"; invalid parameter"),0>t.fb&&n("glp_simplex: out_dly = "+t.fb+"; invalid parameter"),t.yc!=rn&&t.yc!=nn&&n("glp_simplex: presolve = "+t.yc+"; invalid parameter"),e.na=e.sa=gr,e.aa=0,e.some=0,a=1;a<=e.g;a++){var o=e.n[a];if(o.type==rr&&o.c>=o.d)return t.o>=Sr&&i("glp_simplex: row "+a+": lb = "+o.c+", ub = "+o.d+"; incorrect bounds"),bn}for(a=1;a<=e.i;a++)if((o=e.f[a]).type==rr&&o.c>=o.d)return t.o>=Sr&&i("glp_simplex: column "+a+": lb = "+o.c+", ub = "+o.d+"; incorrect bounds"),bn;return t.o>=Or&&(i("GLPK Simplex Optimizer, v"+m()),i(e.g+" row"+(1==e.g?"":"s")+", "+e.i+" column"+(1==e.i?"":"s")+", "+e.L+" non-zero"+(1==e.L?"":"s"))),0==e.L?(function(e,t){function r(){o.m=ar,o.r=o.c}function n(){o.m=or,o.r=o.d}var a,o,s,u,l;for(e.valid=0,e.na=e.sa=br,e.aa=e.ha,u=l=e.some=0,s=1;s<=e.g;s++)(a=e.n[s]).m=ir,a.r=a.J=0,a.type!=er&&a.type!=rr&&a.type!=nr||(a.c>+t.Gb&&(e.na=xr,0==e.some&&t.cb!=Lr&&(e.some=s)),u<+a.c&&(u=+a.c)),a.type!=tr&&a.type!=rr&&a.type!=nr||(a.d<-t.Gb&&(e.na=xr,0==e.some&&t.cb!=Lr&&(e.some=s)),u<-a.d&&(u=-a.d));for(a=s=1;a<=e.i;a++)o=e.f[a],s<Math.abs(o.u)&&(s=Math.abs(o.u));for(s=(e.dir==Zt?1:-1)/s,a=1;a<=e.i;a++)(o=e.f[a]).type==$t?(o.m=sr,o.r=0):o.type==er?r():o.type==tr?n():o.type==rr?0<s*o.u?r():0>s*o.u?n():Math.abs(o.c)<=Math.abs(o.d)?r():n():o.type==nr&&(o.m=ur,o.r=o.c),o.J=o.u,e.aa+=o.u*o.r,o.type!=$t&&o.type!=er||(s*o.J<-t.tb&&(e.sa=xr,0==e.some&&t.cb==Lr&&(e.some=e.g+a)),l<-s*o.J&&(l=-s*o.J)),o.type!=$t&&o.type!=tr||(s*o.J>+t.tb&&(e.sa=xr,0==e.some&&t.cb==Lr&&(e.some=e.g+a)),l<+s*o.J&&(l=+s*o.J));t.o>=kr&&0==t.fb&&i("~"+e.$+": obj = "+e.aa+"  infeas = "+(t.cb==Lr?u:l)),t.o>=Or&&0==t.fb&&i(e.na==br&&e.sa==br?"OPTIMAL SOLUTION FOUND":e.na==xr?"PROBLEM HAS NO FEASIBLE SOLUTION":t.cb==Lr?"PROBLEM HAS UNBOUNDED SOLUTION":"PROBLEM HAS NO DUAL FEASIBLE SOLUTION")}(e,t),a=0):a=t.yc?function(e,t){function n(){return Vf(a,s),s=null,Xf(a,e),o=0}var a,o,s=null,u={};if(t.o>=Or&&i("Preprocessing..."),Df(a=Ef(),e,hr),0!=(o=lp(a,0))&&(o==_n?t.o>=Or&&i("PROBLEM HAS NO PRIMAL FEASIBLE SOLUTION"):o==An&&t.o>=Or&&i("PROBLEM HAS NO DUAL FEASIBLE SOLUTION")),0!=o)return o;if(s=x(),qf(a,s),0==s.g&&0==s.i)return s.na=s.sa=br,s.aa=s.ha,t.o>=kr&&0==t.fb&&i(e.$+": obj = "+s.aa+"  infeas = 0.0"),t.o>=Or&&i("OPTIMAL SOLUTION FOUND BY LP PREPROCESSOR"),n();t.o>=Or&&i(s.g+" row"+(1==s.g?"":"s")+", "+s.i+" column"+(1==s.i?"":"s")+", "+s.L+" non-zero"+(1==s.L?"":"s")),Ce(e,u),Te(s,u);var l=(u=p).Fb;return u.Fb=!l||t.o<Or?nn:rn,_p(s,mr),u.Fb=l,(u=p).Fb=!(l=u.Fb)||t.o<Or?nn:rn,dt(s),u.Fb=l,s.$=e.$,o=r(s,t),e.$=s.$,0!=o||s.na!=br||s.sa!=br?(t.o>=Sr&&i("glp_simplex: unable to recover undefined or non-optimal solution"),0==o&&(s.na==xr?o=_n:s.sa==xr&&(o=An)),o):n()}(e,t):r(e,t),a},ce=e.SMCP=function(e){this.o=(e=e||{}).msg_lev||Or,this.cb=e.meth||Lr,this.fd=e.pricing||zr,this.ne=e.r_test||jr,this.Gb=e.tol_bnd||1e-7,this.tb=e.tol_dj||1e-7,this.xe=e.tol_piv||1e-10,this.hf=e.obj_ll||-t,this.jf=e.obj_ul||+t,this.oc=e.it_lim||2147483647,this.sb=e.tm_lim||2147483647,this.bc=e.out_frq||500,this.fb=e.out_dly||0,this.yc=e.presolve||nn},fe=e.glp_get_status=function(e){var t;switch(t=pe(e)){case br:switch(me(e)){case br:t=wr;break;case xr:t=Mr}}return t},pe=e.glp_get_prim_stat=function(e){return e.na},me=e.glp_get_dual_stat=function(e){return e.sa},he=e.glp_get_obj_val=function(e){return e.aa},de=e.glp_get_row_stat=function(e,t){return 1<=t&&t<=e.g||n("glp_get_row_stat: i = "+t+"; row number out of range"),e.n[t].m},ve=e.glp_get_row_prim=function(e,t){return 1<=t&&t<=e.g||n("glp_get_row_prim: i = "+t+"; row number out of range"),e.n[t].r},ge=e.glp_get_row_dual=function(e,t){return 1<=t&&t<=e.g||n("glp_get_row_dual: i = "+t+"; row number out of range"),e.n[t].J},be=e.glp_get_col_stat=function(e,t){return 1<=t&&t<=e.i||n("glp_get_col_stat: j = "+t+"; column number out of range"),e.f[t].m},ye=e.glp_get_col_prim=function(e,t){return 1<=t&&t<=e.i||n("glp_get_col_prim: j = "+t+"; column number out of range"),e.f[t].r},xe=e.glp_get_col_dual=function(e,t){return 1<=t&&t<=e.i||n("glp_get_col_dual: j = "+t+"; column number out of range"),e.f[t].J};e.glp_get_unbnd_ray=function(e){var t=e.some;return t>e.g+e.i&&(t=0),t};var we=e.glp_set_col_kind=function(e,t,r){1<=t&&t<=e.i||n("glp_set_col_kind: j = "+t+"; column number out of range");var i=e.f[t];switch(r){case Kt:i.kind=Kt;break;case Wt:i.kind=Wt;break;case Qt:i.kind=Wt,i.type==rr&&0==i.c&&1==i.d||O(e,t,rr,0,1);break;default:n("glp_set_col_kind: j = "+t+"; kind = "+r+"; invalid column kind")}},Me=e.glp_get_col_kind=function(e,t){1<=t&&t<=e.i||n("glp_get_col_kind: j = "+t+"; column number out of range");var r=e.f[t],i=r.kind;switch(i){case Wt:r.type==rr&&0==r.c&&1==r.d&&(i=Qt)}return i},Ne=e.glp_get_num_int=function(e){for(var t=0,r=1;r<=e.i;r++)e.f[r].kind==Wt&&t++;return t},_e=e.glp_get_num_bin=function(e){for(var t,r=0,n=1;n<=e.i;n++)(t=e.f[n]).kind==Wt&&t.type==rr&&0==t.c&&1==t.d&&r++;return r};e.glp_intopt=function(e,r){function a(e,r){var a;if(fe(e)!=wr)return r.o>=Sr&&i("glp_intopt: optimal basis to initial LP relaxation not provided"),En;r.o>=Or&&i("Integer optimization begins...");var o,u,p=e.g;for(a=e.i,e.V=o={},o.i=a,o.wc=p,o.ac=new Int8Array(1+p+a),o.bd=new Float64Array(1+p+a),o.cd=new Float64Array(1+p+a),o.mf=new Int8Array(1+p+a),o.lf=new Float64Array(1+p+a),o.kf=new Float64Array(1+p+a),u=1;u<=p;u++){var m=e.n[u];o.ac[u]=m.type,o.bd[u]=m.c,o.cd[u]=m.d,o.mf[u]=m.m,o.lf[u]=m.r,o.kf[u]=m.J}for(u=1;u<=a;u++)o.ac[p+u]=(m=e.f[u]).type,o.bd[p+u]=m.c,o.cd[p+u]=m.d,o.mf[p+u]=m.m,o.lf[p+u]=m.r,o.kf[p+u]=m.J;if(o.ih=e.aa,o.fe=0,o.Sc=0,o.ya=null,o.head=o.Xa=null,o.Pd=o.Zf=o.Jg=0,o.Ig=0,o.se=null,o.qe=o.te=null,o.re=null,o.N=null,o.A=e,o.ad=new Int8Array(1+a),o.Fg=o.Gg=0,o.qf=null,o.of=o.rf=null,o.pf=null,(p={size:0}).head=p.Xa=null,p.fh=0,p.N=null,o.Bd=p,o.Xf=null,o.Ne=null,o.Fd=null,o.Bg=new Int32Array(1+a),o.Tg=new Float64Array(1+a),o.p=r,o.hc=l(),o.Lg=0,o.qh=0,o.reason=0,o.pe=0,o.tf=0,o.Tc=0,o.Jf=0,o.ud=0,o.gf=0,o.stop=0,vt(o,null),a=function(e){function r(e,r){var n,a,o,s;a=e.A.za==br?String(e.A.ta):"not found yet",o=0==(n=Mt(e))?"tree is empty":(n=e.ya[n].rb.bound)==-t?"-inf":n==+t?"+inf":n,e.A.dir==Zt?s=">=":e.A.dir==Jt&&(s="<="),n=Nt(e),i("+"+e.A.$+": "+(r?">>>>>":"mip =")+" "+a+" "+s+" "+o+" "+(0==n?"  0.0%":.001>n?" < 0.1%":9.999>=n?"  "+Number(100*n).toFixed(1)+"%":"")+" ("+e.Pd+"; "+(e.Jg-e.Zf)+")"),e.Lg=l()}function a(e,t){return wt(e,e.ya[t].rb.bound)}function o(e){var t,r,n,a,o,s,u,l=e.A,c=0,f=0;for(t=1;t<=l.i;t++)if(o=l.f[t],e.ad[t]=0,o.kind==Wt&&o.m==ir){if(r=o.type,n=o.c,a=o.d,o=o.r,r==er||r==rr||r==nr){if(u=n+e.p.Ub,(s=n-e.p.Ub)<=o&&o<=u)continue;if(o<n)continue}if(r==tr||r==rr||r==nr){if(u=a+e.p.Ub,(s=a-e.p.Ub)<=o&&o<=u)continue;if(o>a)continue}s=Math.floor(o+.5)-e.p.Ub,u=Math.floor(o+.5)+e.p.Ub,s<=o&&o<=u||(e.ad[t]=1,c++,f+=(s=o-Math.floor(o))<=(u=Math.ceil(o)-o)?s:u)}e.N.Ag=c,e.N.Zc=f,e.p.o>=Cr&&i(0==c?"There are no fractional columns":1==c?"There is one fractional column, integer infeasibility is "+f:"There are "+c+" fractional columns, integer infeasibility is "+f)}function u(e){var t,r=e.A;for(r.za=br,r.ta=r.aa,t=1;t<=r.g;t++){var n=r.n[t];n.Sa=n.r}for(t=1;t<=r.i;t++)(n=r.f[t]).kind==Kt?n.Sa=n.r:n.kind==Wt&&(n.Sa=Math.floor(n.r+.5));e.qh++}function p(e,r,n){var a,o,s,u,l,c,f,p,m,h,d,v=e.A,g=v.g,b=Array(3),y=null,x=null;switch(o=v.f[r].type,f=v.f[r].c,p=v.f[r].d,a=v.f[r].r,m=Math.floor(a),h=Math.ceil(a),o){case $t:s=tr,u=er;break;case er:s=f==m?nr:rr,u=er;break;case tr:s=tr,u=h==p?nr:rr;break;case rr:s=f==m?nr:rr,u=h==p?nr:rr}return function(e,r,n){var i,a,o,s,u,l,c=e.A,f=c.g,p=e.Bg,m=e.Tg;for(fe(c),ke(c),e=c.f[r].r,r=Fe(c,f+r,p,m),i=-1;1>=i;i+=2)if(0==(a=0==(a=Ve(c,r,o=p,m,i,1e-9))?0:o[a]))c.dir==Zt?0>i?u=+t:l=+t:c.dir==Jt&&(0>i?u=-t:l=-t);else{for(o=1;o<=r&&p[o]!=a;o++);o=m[o],a<=f?(s=c.n[a].m,a=c.n[a].J):(s=c.f[a-f].m,a=c.f[a-f].J),c.dir==Zt?(s==ar&&0>a||s==or&&0<a||s==sr)&&(a=0):c.dir==Jt&&(s==ar&&0<a||s==or&&0>a||s==sr)&&(a=0),s=(0>i?Math.floor(e):Math.ceil(e))-e,o=a*(s/=o),0>i?u=c.aa+o:l=c.aa+o}y=u,x=l}(e,r),o=xt(e,y),d=xt(e,x),l=!wt(e,o),c=!wt(e,d),l&&c?(e.p.o>=Cr&&i("Both down- and up-branches are hopeless"),2):c?(e.p.o>=Cr&&i("Up-branch is hopeless"),O(v,r,s,f,m),e.N.rc=y,v.dir==Zt?e.N.bound<o&&(e.N.bound=o):v.dir==Jt&&e.N.bound>o&&(e.N.bound=o),1):l?(e.p.o>=Cr&&i("Down-branch is hopeless"),O(v,r,u,h,p),e.N.rc=x,v.dir==Zt?e.N.bound<d&&(e.N.bound=d):v.dir==Jt&&e.N.bound>d&&(e.N.bound=d),1):(e.p.o>=Cr&&i("Branching on column "+r+", primal value is "+a),l=e.N.s,e.N.Tc=r,e.N.tg=a,bt(e),function(e,t,r){var n;for(null==(t=e.ya[t].rb).ca?e.head=t.e:t.ca.e=t.e,null==t.e?e.Xa=t.ca:t.e.ca=t.ca,t.ca=t.e=null,e.Pd--,n=1;2>=n;n++)r[n]=vt(e,t).s}(e,l,b),e.p.o>=Cr&&i("Node "+b[1]+" begins down branch, node "+b[2]+" begins up branch "),(a=e.ya[b[1]].rb).Na={},a.Na.pc=g+r,a.Na.type=s,a.Na.c=f,a.Na.d=m,a.Na.e=null,a.rc=y,v.dir==Zt?a.bound<o&&(a.bound=o):v.dir==Jt&&a.bound>o&&(a.bound=o),(a=e.ya[b[2]].rb).Na={},a.Na.pc=g+r,a.Na.type=u,a.Na.c=h,a.Na.d=p,a.Na.e=null,a.rc=x,v.dir==Zt?a.bound<d&&(a.bound=d):v.dir==Jt&&a.bound>d&&(a.bound=d),n==pn?e.ud=0:n==mn?e.ud=b[1]:n==hn&&(e.ud=b[2]),0)}function m(e){var t,r,n,a,o,s,u=e.A,l=0;for(n=u.aa,t=1;t<=u.i;t++)if((s=u.f[t]).kind==Wt)switch(a=s.c,o=s.d,r=s.m,s=s.J,u.dir){case Zt:r==ar?(0>s&&(s=0),n+s>=u.ta&&(O(u,t,nr,a,a),l++)):r==or&&(0<s&&(s=0),n-s>=u.ta&&(O(u,t,nr,o,o),l++));break;case Jt:r==ar?(0<s&&(s=0),n+s<=u.ta&&(O(u,t,nr,a,a),l++)):r==or&&(0>s&&(s=0),n-s<=u.ta&&(O(u,t,nr,o,o),l++))}e.p.o>=Cr&&0!=l&&i(1==l?"One column has been fixed by reduced cost":l+" columns have been fixed by reduced costs")}function h(e){var t,r=0,n=null;for(t=e.wc+1;t<=e.A.g;t++)e.A.n[t].origin==Wr&&e.A.n[t].La==e.N.La&&e.A.n[t].m==ir&&(null==n&&(n=new Int32Array(1+e.A.g)),n[++r]=t);0<r&&(I(e.A,r,n),Oe(e.A))}function d(e){var t,r=e.A,n=0,a=0,o=0,s=0,u=0;for(t=r.g;0<t;t--){var l=r.n[t];l.origin==Wr&&(l.qc==Qr?n++:l.qc==$r?a++:l.qc==en?o++:l.qc==tn?s++:u++)}0<n+a+o+s+u&&(i("Cuts on level "+e.N.La+":"),0<n&&i(" gmi = "+n+";"),0<a&&i(" mir = "+a+";"),0<o&&i(" cov = "+o+";"),0<s&&i(" clq = "+s+";"),0<u&&i(" app = "+u+";"),i(""))}function v(e){if(e.p.Ed==rn||e.p.Ad==rn||e.p.xd==rn||e.p.vd==rn){var r,a,o;for(1e3>(a=e.i)&&(a=1e3),o=0,r=e.wc+1;r<=e.A.g;r++)e.A.n[r].origin==Wr&&o++;if(!(o>=a)){if(e.p.Ad==rn&&5>e.N.Rd&&function(e){function t(e){return e-Math.floor(e)}function r(e,r,n){var i,a,o,s,u,l,c,f,p,m,h,d=e.A,v=d.g,g=d.i,b=r.Z,y=r.j;for(r=r.kh,a=Fe(d,v+n,b,y),f=d.f[n].r,i=1;i<=v+g;i++)r[i]=0;for(h=t(f),n=1;n<=a;n++){if((i=b[n])<=v?(s=d.n[i],o=Kt):o=(s=d.f[i-v]).kind,u=s.c,l=s.d,s=s.m,p=y[n],1e5<Math.abs(p))return;if(!(1e-10>Math.abs(p))){switch(s){case sr:return;case ar:c=-p;break;case or:c=+p;break;case ur:continue}switch(o){case Wt:if(1e-10>Math.abs(c-Math.floor(c+.5)))continue;m=t(c)<=t(f)?t(c):t(f)/(1-t(f))*(1-t(c));break;case Kt:m=0<=c?+c:t(f)/(1-t(f))*-c}switch(s){case ar:r[i]=+m,h+=m*u;break;case or:r[i]=-m,h-=m*l}}}for(n=1;n<=v;n++)if(!(1e-10>Math.abs(r[n])))for(c=(s=d.n[n]).k;null!=c;c=c.B)r[v+c.f.C]+=r[n]*c.j;for(a=0,n=1;n<=g;n++)1e-10>Math.abs(r[v+n])||((s=d.f[n]).type==nr?h-=r[v+n]*s.c:(b[++a]=n,y[a]=r[v+n]));for(1e-12>Math.abs(h)&&(h=0),i=1;i<=a;i++)if(.001>Math.abs(y[i])||1e3<Math.abs(y[i]))return;Ge(e,Qr,a,b,y,er,h)}var n,i,a=e.A,o=a.g,s=a.i,u={};for(n=Array(1+s),u.Z=new Int32Array(1+s),u.j=new Float64Array(1+s),u.kh=new Float64Array(1+o+s),o=0,i=1;i<=s;i++){var l=a.f[i];l.kind==Wt&&l.type!=nr&&l.m==ir&&.05<=(l=t(l.r))&&.95>=l&&(n[++o].C=i,n[o].Nb=l)}for(f(n,o,function(e,t){return e.Nb>t.Nb?-1:e.Nb<t.Nb?1:0}),s=Ue(e),a=1;a<=o&&!(50<=Ue(e)-s);a++)r(e,u,n[a].C)}(e),e.p.Ed==rn&&function(e,r){function n(e,t,r){var n=e.A;for(e=t.g,t.Eb[r]=2,t.Je=1,t.Ef[1]=r,Ot(t.Ya),kt(t.Ya,r,1),r=n.n[r].k;null!=r;r=r.B)kt(t.Ya,e+r.f.C,-r.j);t.Df=0}function i(e){var t,r;for(t=1;t<=e.Ya.L;t++)0==e.Yb[r=e.Ya.Z[t]]&&0==e.zb[r]&&e.c[r]==e.d[r]&&(e.Df-=e.Ya.j[t]*e.c[r],e.Ya.j[t]=0);Ct(e.Ya,2220446049250313e-31)}function a(e){var r,n,i;for(r=1;r<=e.Ya.L;r++)e.ab[n=e.Ya.Z[r]]||(e.lb[n]=(0==(i=e.Yb[n])?e.c[n]==-t?t:e.x[n]-e.c[n]:e.x[n]-e.c[n]*e.x[i])<=(i=0==(i=e.zb[n])?e.zb[n]==+t?t:e.d[n]-e.x[n]:e.d[n]*e.x[i]-e.x[n])?zt:Bt)}function o(e){var t,r,n,i;for(Lt(e.oa,e.Ya),e.tc=e.Df,t=e.oa.L;1<=t;t--)e.ab[n=e.oa.Z[t]]||(e.lb[n]==zt?0==(i=e.Yb[n])?e.tc-=e.oa.j[t]*e.c[n]:(0==(r=e.oa.Ja[i])&&(kt(e.oa,i,1),e.oa.j[r=e.oa.Ja[i]]=0),e.oa.j[r]+=e.oa.j[t]*e.c[n]):e.lb[n]==Bt&&(0==(i=e.zb[n])?e.tc-=e.oa.j[t]*e.d[n]:(0==(r=e.oa.Ja[i])&&(kt(e.oa,i,1),e.oa.j[r=e.oa.Ja[i]]=0),e.oa.j[r]+=e.oa.j[t]*e.d[n]),e.oa.j[t]=-e.oa.j[t]));for(t=1;t<=e.oa.L;t++)e.ab[n=e.oa.Z[t]]&&(Math.abs(e.c[n])<=Math.abs(e.d[n])?(e.lb[n]=zt,e.tc-=e.oa.j[t]*e.c[n]):(e.lb[n]=Bt,e.tc-=e.oa.j[t]*e.d[n],e.oa.j[t]=-e.oa.j[t]))}function u(e){var t,r,n,i,a,o,s,u=e.g,l=e.i;for(a=0,Lt(e.G,e.oa),e.Lb=e.tc,Ct(e.G,2220446049250313e-31),t=1;t<=e.G.L;t++)!e.ab[r=e.G.Z[t]]&&0<e.G.j[t]&&(e.G.j[t]=0);for(Ct(e.G,0),i=0,t=1;t<=e.G.L;t++)e.ab[r=e.G.Z[t]]&&(n=e.G.Z[++i],e.G.Ja[r]=i,e.G.Ja[n]=t,e.G.Z[i]=r,e.G.Z[t]=n,r=e.G.j[i],e.G.j[i]=e.G.j[t],e.G.j[t]=r);if(0==i)return a;for(o=new Float64Array(1+i),n=new Float64Array(1+i),s=new Float64Array(1+i),t=1;t<=i;t++)o[t]=e.d[r=e.G.Z[t]]-e.c[r],e.lb[r]==zt?n[t]=e.x[r]-e.c[r]:e.lb[r]==Bt&&(n[t]=e.d[r]-e.x[r]),0>n[t]&&(n[t]=0);for(a=0,t=i+1;t<=e.G.L;t++)e.lb[r=e.G.Z[t]]==zt?n=0==(n=e.Yb[r])?e.x[r]-e.c[r]:e.x[r]-e.c[r]*e.x[n]:e.lb[r]==Bt&&(n=0==(n=e.zb[r])?e.d[r]-e.x[r]:e.d[r]*e.x[n]-e.x[r]),0>n&&(n=0),a-=e.G.j[t]*n;if(0==(a=function(e,t,r,n,i,a,o){function s(e,t,r,n,i,a,o){var s,u;for(s=r,r=1;r<=e;r++)o[r]=t[r]/a,i[r]&&(o[r]=-o[r]),s-=t[r]*n[r];if(t=s/a,.01>Math.abs(t-Math.floor(t+.5)))t=1;else{for(s=t-Math.floor(t),r=1;r<=e;r++)u=o[r]-Math.floor(o[r])-s,o[r]=0>=u?Math.floor(o[r]):Math.floor(o[r])+u/(1-s);h=Math.floor(t),d=1/(1-s),t=0}if(t)return 1;for(r=1;r<=e;r++)i[r]&&(o[r]=-o[r],h+=o[r]*n[r]);return d/=a,0}var u,l,c,p,m,v,g,b,y;for(c=Array(4),b=new Int8Array(1+e),y=Array(1+e),l=1;l<=e;l++)b[l]=i[l]>=.5*n[l];for(g=m=0,l=1;l<=e;l++)if(u=1e-9*(1+Math.abs(n[l])),!(i[l]<u||i[l]>n[l]-u||(u=s(e,t,r,n,b,Math.abs(t[l]),o),u))){for(v=-h-d*a,u=1;u<=e;u++)v+=o[u]*i[u];g<v&&(g=v,m=Math.abs(t[l]))}if(.001>g&&(g=0),0==g)return g;for(c[1]=m/2,c[2]=m/4,c[3]=m/8,l=1;3>=l;l++)if(!(u=s(e,t,r,n,b,c[l],o))){for(v=-h-d*a,u=1;u<=e;u++)v+=o[u]*i[u];g<v&&(g=v,m=c[l])}for(c=0,l=1;l<=e;l++)u=1e-9*(1+Math.abs(n[l])),i[l]<u||i[l]>n[l]-u||(y[++c].C=l,y[c].xf=Math.abs(i[l]-.5*n[l]));for(f(y,c,function(e,t){return e.xf<t.xf?-1:e.xf>t.xf?1:0}),p=1;p<=c;p++)if(b[l=y[p].C]=!b[l],u=s(e,t,r,n,b,m,o),b[l]=!b[l],!u){for(v=-h-d*a,u=1;u<=e;u++)v+=o[u]*i[u];g<v&&(g=v,b[l]=!b[l])}return u=s(e,t,r,n,b,m,o),g}(i,e.G.j,e.Lb,o,n,a,s)))return a;for(t=1;t<=i;t++)e.G.j[t]=s[t];for(t=i+1;t<=e.G.L;t++)(r=e.G.Z[t])<=u+l&&(e.G.j[t]*=0);return e.Lb=null,a}function l(e){var t,r,n,i;for(t=1;t<=e.G.L;t++)e.ab[n=e.G.Z[t]]&&(e.lb[n]==zt?e.Lb+=e.G.j[t]*e.c[n]:e.lb[n]==Bt&&(e.Lb-=e.G.j[t]*e.d[n],e.G.j[t]=-e.G.j[t]));for(t=1;t<=e.G.L;t++)e.ab[n=e.G.Z[t]]||(e.lb[n]==zt?0==(i=e.Yb[n])?e.Lb+=e.G.j[t]*e.c[n]:(0==(r=e.G.Ja[i])&&(kt(e.G,i,1),e.G.j[r=e.G.Ja[i]]=0),e.G.j[r]-=e.G.j[t]*e.c[n]):e.lb[n]==Bt&&(0==(i=e.zb[n])?e.Lb-=e.G.j[t]*e.d[n]:(0==(r=e.G.Ja[i])&&(kt(e.G,i,1),e.G.j[r=e.G.Ja[i]]=0),e.G.j[r]+=e.G.j[t]*e.d[n]),e.G.j[t]=-e.G.j[t]))}function c(e,t){var r,n,i,a,o=e.A,s=t.g;for(n=t.G.L;1<=n;n--)if(!((r=t.G.Z[n])>s)){for(r=o.n[r].k;null!=r;r=r.B)0==(a=t.G.Ja[i=s+r.f.C])&&(kt(t.G,i,1),t.G.j[a=t.G.Ja[i]]=0),t.G.j[a]+=t.G.j[n]*r.j;t.G.j[n]=0}Ct(t.G,0)}function p(e,t){var r,n=t.g,i=t.i,a=new Int32Array(1+i),o=new Float64Array(1+i);for(r=0,i=t.G.L;1<=i;i--)a[++r]=t.G.Z[i]-n,o[r]=t.G.j[i];Ge(e,$r,r,a,o,tr,t.Lb)}function m(e,r){var n,i,a,o,s=e.A,u=r.g,l=r.i,c=0,f=0;for(n=1;n<=r.Ya.L;n++)(i=r.Ya.Z[n])<=u||r.ab[i]||.001>Math.abs(r.Ya.j[n])||!(.001>(o=(o=0==(a=r.Yb[i])?r.c[i]==-t?t:r.x[i]-r.c[i]:r.x[i]-r.c[i]*r.x[a])<=(a=0==(a=r.zb[i])?r.zb[i]==+t?t:r.d[i]-r.x[i]:r.d[i]*r.x[a]-r.x[i])?o:a))&&f<o&&(f=o,c=i);if(0==c)return 1;for(i=1;i<=u;i++)if(!r.Eb[i]){for(n=s.n[i].k;null!=n&&n.f.C!=c-u;n=n.B);if(null!=n&&.001<=Math.abs(n.j))break}if(i>u)return 2;for(r.Je++,r.Ef[r.Je]=i,r.Eb[i]=2,kt(l=St(u+l),i,1),n=s.n[i].k;null!=n;n=n.B)kt(l,u+n.f.C,-n.j);for(s=r.Ya,u=-r.Ya.j[n=r.Ya.Ja[c]]/l.j[l.Ja[c]],i=1;i<=l.L;i++)f=void 0,kt(s,n=l.Z[i],(f=0==(f=s.Ja[n])?0:s.j[f])+u*(o=l.j[i]));return kt(r.Ya,c,0),0}var h,d,v,g,b,y=r.g,x=r.i;for(function(e,t){var r,n=e.A,i=t.g,a=t.i;for(r=1;r<=i;r++)t.x[r]=n.n[r].r;for(r=i+1;r<=i+a;r++)t.x[r]=n.f[r-i].r}(e,r),s(r.lb,1,It,y+x),v=1;v<=y;v++)if(!r.Eb[v]){for(n(e,r,v);;){if(i(r),Tt)for(g=1;g<=y+x;g++);a(r),o(r),0<(b=u(r))&&(l(r),c(e,r),p(e,r));for(var w=1;w<=r.oa.L;w++)r.lb[g=r.oa.Z[w]]=It;if(!(0==b&&r.Je<Pt&&0==m(e,r)))break}for(g=1;g<=r.Je;g++)r.Eb[b=r.Ef[g]]=0}}(e,e.Xf),e.p.xd==rn){a=R(r=e.A);var u,p,m,h,d,v=D(r);for(fe(r),o=new Int32Array(1+v),h=new Float64Array(1+v),d=new Float64Array(1+v),v=1;v<=a;v++)for(m=1;2>=m;m++){if(p=X(r,v)-$t+Rn,1==m){if(p!=qn&&p!=Vn)continue;p=J(r,v,o,h),h[0]=yi(r,v)}else{if(p!=Dn&&p!=Vn)continue;for(p=J(r,v,o,h),u=1;u<=p;u++)h[u]=-h[u];h[0]=-bi(r,v)}e:{var g=r;u=o;var b=h,y=d,x=null,w=null,M=Array(5),N=void 0,_=void 0,A=void 0,E=A=void 0,S=void 0,k=E=E=void 0;for(A=0,_=1;_<=p;_++)H(g,N=u[_])-$t+Rn==Xn?b[0]-=b[_]*wi(g,N):(u[++A]=u[_],b[A]=b[_]);for(p=A,A=0,_=1;_<=p;_++)(Me(g,N=u[_])==Kt?Jn:Kn)==Kn&&H(g,N)-$t+Rn==Vn&&0==wi(g,N)&&1==Mi(g,N)&&(S=u[++A],E=b[A],u[A]=u[_],b[A]=b[_],u[_]=S,b[_]=E);if(2>A)p=0;else{for(S=E=0,_=A+1;_<=p;_++){if(H(g,N=u[_])-$t+Rn!=Vn){p=0;break e}0<b[_]?(S+=b[_]*wi(g,N),E+=b[_]*Mi(g,N)):(S+=b[_]*Mi(g,N),E+=b[_]*wi(g,N))}for(E-=S,k=0,_=A+1;_<=p;_++)k+=b[_]*ye(g,N=u[_]);for(0>(k-=S)&&(k=0),k>E&&(k=E),b[0]-=S,_=1;_<=A;_++)y[_]=ye(g,N=u[_]),0>y[_]&&(y[_]=0),1<y[_]&&(y[_]=1);for(_=1;_<=A;_++)0>b[_]&&(u[_]=-u[_],b[_]=-b[_],b[0]+=b[_],y[_]=1-y[_]);for(g=A,_=b[0],N=k,k=void 0,k=1;k<=g;k++);for(k=1;k<=g;k++);k=void 0;t:{var O=k=void 0,C=0,L=0,T=void 0,P=void 0,I=.001;for(T=.001*(1+Math.abs(_)),k=1;k<=g;k++)for(O=k+1;O<=g;O++){if(1e3<++C){k=L;break t}b[k]+b[O]+N>_+T&&I<(P=y[k]+y[O]+(x=1/((P=b[k]+b[O]-_)+E))*N-(w=2-x*P))&&(I=P,M[1]=k,M[2]=O,L=1)}k=L}if(O=void 0,k)O=2;else{k=k=void 0;t:{C=O=k=void 0,T=L=0,I=P=void 0;var z=.001;for(P=.001*(1+Math.abs(_)),k=1;k<=g;k++)for(O=k+1;O<=g;O++)for(C=O+1;C<=g;C++){if(1e3<++L){k=T;break t}b[k]+b[O]+b[C]+N>_+P&&z<(I=y[k]+y[O]+y[C]+(x=1/((I=b[k]+b[O]+b[C]-_)+E))*N-(w=3-x*I))&&(z=I,M[1]=k,M[2]=O,M[3]=C,T=1)}k=T}if(k)k=3;else{k=void 0;t:{L=C=O=k=void 0,P=T=0,z=I=void 0;var B=.001;for(I=.001*(1+Math.abs(_)),k=1;k<=g;k++)for(O=k+1;O<=g;O++)for(C=O+1;C<=g;C++)for(L=C+1;L<=g;L++){if(1e3<++T){k=P;break t}b[k]+b[O]+b[C]+b[L]+N>_+I&&B<(z=y[k]+y[O]+y[C]+y[L]+(x=1/((z=b[k]+b[O]+b[C]+b[L]-_)+E))*N-(w=4-x*z))&&(B=z,M[1]=k,M[2]=O,M[3]=C,M[4]=L,P=1)}k=P}k=k?4:0}O=k}if(0==(E=O))p=0;else{for(u[0]=0,b[0]=w,N=1;N<=E;N++)M[N]=u[M[N]];for(_=1;_<=E;_++)0<M[_]?(u[_]=+M[_],b[_]=1):(u[_]=-M[_],b[_]=-1,b[0]-=1);for(_=A+1;_<=p;_++)u[++E]=u[_],b[E]=x*b[_];b[0]+=x*S,p=E}}}if(0!=p){for(b=p,y=o,x=h,w=D(u=r),A=M=void 0,S=0,0>b&&n("lpx_eval_row: len = "+b+"; invalid row length"),A=1;A<=b;A++)1<=(M=y[A])&&M<=w||n("lpx_eval_row: j = "+M+"; column number out of range"),S+=x[A]*ye(u,M);.001>(u=S-h[0])||Ge(e,en,p,o,h,tr,h[0])}}}e.p.vd==rn&&null!=e.Ne&&(0==e.N.La&&50>e.N.Rd||0<e.N.La&&5>e.N.Rd)&&(a=e.Ne,o=D(e.A),r=new Int32Array(1+o),o=new Float64Array(1+o),0<(a=function(e,t,r,n){function a(e,t,r){return t==r?0:function(e,t){return e.Jc[t/1]&1<<0-t%1}(e,t>r?t*(t-1)/2+r:r*(r-1)/2+t)}function o(e,t,r,n,i,s){var u,l,c,f,p,m,h,d;if(d=new Int32Array(e.i),0>=t){if(0==t&&(e.set[n++]=r[0],i+=s),i>e.gd)for(e.gd=i,e.bg=n,u=0;u<n;u++)e.oh[u+1]=e.set[u]}else for(u=t;!(!(0<=u)||0==n&&u<t||(c=r[u],0<n&&e.wg[c]<=e.gd-i)||(e.set[n]=c,(s-=e.Ic[c+1])<=e.gd-(f=i+e.Ic[c+1])));u--){for(p=h=m=0;h<r+u;)l=r[h],h++,a(e,l,c)&&(d[m]=l,m++,p+=e.Ic[l+1]);p<=e.gd-f||o(e,m-1,d,n+1,f,p)}}var s,u,f,p,m,h,d=D(e),v=0;for(f=new Int32Array(1+2*t.Cb),p=new Int32Array(1+2*t.Cb),h=new Float64Array(1+d),u=1;u<=t.Cb;u++)0>(s=100*(s=ye(e,s=t.ge[u]))+.5|0)&&(s=0),100<s&&(s=100),f[u]=s,f[t.Cb+u]=100-s;for(f=function(e,t,r,n){var s,u,f,p,m,h,d={};for(d.i=e,d.Ic=t,d.Jc=r,d.gd=0,d.bg=0,d.oh=n,d.wg=new Int32Array(d.i),d.set=new Int32Array(d.i),m=new Int32Array(d.i),h=new Int32Array(d.i),t=new Int32Array(d.i),r=l(),e=0;e<d.i;e++)for(s=h[e]=0;s<d.i;s++)a(d,e,s)&&(h[e]+=d.Ic[s+1]);for(e=0;e<d.i;e++)m[e]=0;for(e=d.i-1;0<=e;e--){for(p=f=-1,s=0;s<d.i;s++)!m[s]&&(d.Ic[s+1]>f||d.Ic[s+1]==f&&h[s]>p)&&(f=d.Ic[s+1],p=h[s],u=s);for(t[e]=u,m[u]=1,s=0;s<d.i;s++)!m[s]&&s!=u&&a(d,u,s)&&(h[s]-=d.Ic[u+1])}for(e=u=0;e<d.i;e++)o(d,e,t,0,0,u+=d.Ic[t[e]+1]),d.wg[t[e]]=d.gd,4.999<=c(r)&&(i("level = "+e+"1 ("+d.i+"); best = "+d.gd),r=l());for(e=1;e<=d.bg;e++)n[e]++;return d.bg}(2*t.Cb,f,t.Jc,p),m=0,u=1;u<=f;u++)(s=p[u])<=t.Cb?m+=s=ye(e,s=t.ge[s]):m+=1-(s=ye(e,s=t.ge[s-t.Cb]));if(1.01<=m){for(u=e=1;u<=f;u++)(s=p[u])<=t.Cb?h[s=t.ge[s]]+=1:(h[s=t.ge[s-t.Cb]]-=1,e-=1);for(s=1;s<=d;s++)0!=h[s]&&(r[++v]=s,n[v]=h[s]);r[0]=0,n[0]=e}return v}(e.A,a,r,o))&&Ge(e,tn,a,r,o,tr,o[0]))}}}function g(e){var t,r,n=0;for(t=e.head;null!=t;t=r)r=t.e,a(e,t.s)||(yt(e,t.s),n++);e.p.o>=Cr&&(1==n?i("One hopeless branch has been pruned"):1<n&&i(n+" hopeless branches have been pruned"))}var b,y,x,w,M=0,N=e.hc;for(y=0;;){switch(x=null,y){case 0:if(null==e.head){e.p.o>=Cr&&i("Active list is empty!"),w=0,x=3;break}if(null!=e.p.ob&&(e.reason=cn,e.p.ob(e,e.p.Uc),e.reason=0,e.stop)){w=Sn,x=3;break}0==e.gf&&(e.gf=1==e.Pd?e.head.s:0!=e.ud?e.ud:Gt(e)),gt(e,e.gf),e.gf=e.ud=0,null!=e.N.R&&e.N.R.s!=M&&(M=0),b=e.N.s,e.p.o>=Cr&&(i("------------------------------------------------------------------------"),i("Processing node "+b+" at level "+e.N.La)),1==b&&(e.p.Ad==rn&&e.p.o>=Or&&i("Gomory's cuts enabled"),e.p.Ed==rn&&(e.p.o>=Or&&i("MIR cuts enabled"),e.Xf=jt(e)),e.p.xd==rn&&e.p.o>=Or&&i("Cover cuts enabled"),e.p.vd==rn&&(e.p.o>=Or&&i("Clique cuts enabled"),e.Ne=Ft(e.A)));case 1:if((e.p.o>=Cr||e.p.o>=kr&&e.p.bc-1<=1e3*c(e.Lg))&&r(e,0),e.p.o>=Or&&60<=c(N)&&(i("Time used: "+c(e.hc)+" secs"),N=l()),0<e.p.ce&&Nt(e)<=e.p.ce){e.p.o>=Cr&&i("Relative gap tolerance reached; search terminated "),w=kn,x=3;break}if(2147483647>e.p.sb&&e.p.sb-1<=1e3*c(e.hc)){e.p.o>=Cr&&i("Time limit exhausted; search terminated"),w=Nn,x=3;break}if(null!=e.p.ob&&(e.reason=fn,e.p.ob(e,e.p.Uc),e.reason=0,e.stop)){w=Sn,x=3;break}if(e.p.ed!=Yr)if(e.p.ed==Zr){if(0==e.N.La&&Et(e,100)){x=2;break}}else if(e.p.ed==Jr&&Et(e,0==e.N.La?100:10)){x=2;break}if(!a(e,b)){i("*** not tested yet ***"),x=2;break}if(e.p.o>=Cr&&i("Solving LP relaxation..."),0!=(w=_t(e))&&w!=xn&&w!=wn){e.p.o>=Sr&&i("ios_driver: unable to solve current LP relaxation; glp_simplex returned "+w),w=yn,x=3;break}if(x=e.A.sa,(y=e.A.na)==br&&x==br)e.p.o>=Cr&&i("Found optimal solution to LP relaxation");else{if(x==xr){e.p.o>=Sr&&i("ios_driver: current LP relaxation has no dual feasible solution"),w=yn,x=3;break}if(y==yr&&x==br){e.p.o>=Cr&&i("LP relaxation has no solution better than incumbent objective value"),x=2;break}if(y==xr){e.p.o>=Cr&&i("LP relaxation has no feasible solution"),x=2;break}}if(y=e.N.rc=e.A.aa,y=xt(e,y),e.A.dir==Zt?e.N.bound<y&&(e.N.bound=y):e.A.dir==Jt&&e.N.bound>y&&(e.N.bound=y),e.p.o>=Cr&&i("Local bound is "+y),!a(e,b)){e.p.o>=Cr&&i("Current branch is hopeless and can be pruned"),x=2;break}if(null!=e.p.ob){if(e.reason=an,e.p.ob(e,e.p.Uc),e.reason=0,e.stop){w=Sn,x=3;break}if(e.pe){e.pe=e.tf=0,x=1;break}e.tf&&(e.tf=0,Oe(e.A))}if(o(e),0==e.N.Ag){if(e.p.o>=Cr&&i("New integer feasible solution found"),e.p.o>=Or&&d(e),u(e),e.p.o>=kr&&r(e,1),null!=e.p.ob&&(e.reason=on,e.p.ob(e,e.p.Uc),e.reason=0,e.stop)){w=Sn,x=3;break}x=2;break}if(e.A.za==br&&m(e),null!=e.p.ob){if(e.reason=sn,e.p.ob(e,e.p.Uc),e.reason=0,e.stop){w=Sn,x=3;break}if(!a(e,b)){e.p.o>=Cr&&i("Current branch became hopeless and can be pruned"),x=2;break}}if(e.p.Xe&&(e.reason=sn,Xt(e),e.reason=0,!a(e,b))){e.p.o>=Cr&&i("Current branch became hopeless and can be pruned"),x=2;break}if(null!=e.p.ob&&(e.reason=un,e.p.ob(e,e.p.Uc),e.reason=0,e.stop)){w=Sn,x=3;break}if(0!=e.N.La&&0!=M||(e.reason=un,v(e),e.reason=0),0<e.Bd.size&&(e.reason=un,Ut(e),e.reason=0),At(e.Bd),e.pe){e.pe=0,e.N.Rd++,x=1;break}if(h(e),e.p.o>=Or&&0==e.N.La&&d(e),null!=e.Fd&&Vt(e),null!=e.p.ob&&(e.reason=ln,e.p.ob(e,e.p.Uc),e.reason=0,e.stop)){w=Sn,x=3;break}if(0==e.Tc&&(e.Tc=Dt(e,function(t){e.Jf=t})),y=e.N.s,w=p(e,e.Tc,e.Jf),e.Tc=e.Jf=0,0==w){M=y,x=0;break}if(1==w){e.N.eg=e.N.Rd=0,x=1;break}if(2==w){x=2;break}case 2:e.p.o>=Cr&&i("Node "+b+" fathomed"),bt(e),yt(e,b),e.A.za==br&&g(e),x=M=0;break;case 3:return e.p.o>=kr&&r(e,0),e.Xf=null,e.Ne=null,w}if(null==x)break;y=x}}(o),u=(p=o.A).i,(d=p.g)!=o.wc){var h,d=d-o.wc;for(h=new Int32Array(1+d),m=1;m<=d;m++)h[m]=o.wc+m;I(p,d,h)}for(d=o.wc,m=1;m<=d;m++)k(p,m,o.ac[m],o.bd[m],o.cd[m]),oe(p,m,o.mf[m]),p.n[m].r=o.lf[m],p.n[m].J=o.kf[m];for(m=1;m<=u;m++)O(p,m,o.ac[d+m],o.bd[d+m],o.cd[d+m]),se(p,m,o.mf[d+m]),p.f[m].r=o.lf[d+m],p.f[m].J=o.kf[d+m];return p.na=p.sa=br,p.aa=o.ih,At(o.Bd),p.V=null,0==a?e.za==br?(r.o>=Or&&i("INTEGER OPTIMAL SOLUTION FOUND"),e.za=wr):(r.o>=Or&&i("PROBLEM HAS NO INTEGER FEASIBLE SOLUTION"),e.za=xr):a==kn?r.o>=Or&&i("RELATIVE MIP GAP TOLERANCE REACHED; SEARCH TERMINATED"):a==Nn?r.o>=Or&&i("TIME LIMIT EXCEEDED; SEARCH TERMINATED"):a==yn?r.o>=Sr&&i("glp_intopt: cannot solve current LP relaxation"):a==Sn&&r.o>=Or&&i("SEARCH TERMINATED BY APPLICATION"),a}var o,u;for(null!=e&&3621377730==e.Dd||n("glp_intopt: P = "+e+"; invalid problem object"),null!=e.V&&n("glp_intopt: operation not allowed"),null==r&&(r=new Ae),r.o!=Er&&r.o!=Sr&&r.o!=kr&&r.o!=Or&&r.o!=Cr&&n("glp_intopt: msg_lev = "+r.o+"; invalid parameter"),r.Jb!=Fr&&r.Jb!=Rr&&r.Jb!=Dr&&r.Jb!=qr&&r.Jb!=Vr&&n("glp_intopt: br_tech = "+r.Jb+"; invalid parameter"),r.kc!=Xr&&r.kc!=Ur&&r.kc!=Gr&&r.kc!=Hr&&n("glp_intopt: bt_tech = "+r.kc+"; invalid parameter"),0<r.Ub&&1>r.Ub||n("glp_intopt: tol_int = "+r.Ub+"; invalid parameter"),0<r.we&&1>r.we||n("glp_intopt: tol_obj = "+r.we+"; invalid parameter"),0>r.sb&&n("glp_intopt: tm_lim = "+r.sb+"; invalid parameter"),0>r.bc&&n("glp_intopt: out_frq = "+r.bc+"; invalid parameter"),0>r.fb&&n("glp_intopt: out_dly = "+r.fb+"; invalid parameter"),0<=r.Me&&256>=r.Me||n("glp_intopt: cb_size = "+r.Me+"; invalid parameter"),r.ed!=Yr&&r.ed!=Zr&&r.ed!=Jr&&n("glp_intopt: pp_tech = "+r.ed+"; invalid parameter"),0>r.ce&&n("glp_intopt: mip_gap = "+r.ce+"; invalid parameter"),r.Ed!=rn&&r.Ed!=nn&&n("glp_intopt: mir_cuts = "+r.Ed+"; invalid parameter"),r.Ad!=rn&&r.Ad!=nn&&n("glp_intopt: gmi_cuts = "+r.Ad+"; invalid parameter"),r.xd!=rn&&r.xd!=nn&&n("glp_intopt: cov_cuts = "+r.xd+"; invalid parameter"),r.vd!=rn&&r.vd!=nn&&n("glp_intopt: clq_cuts = "+r.vd+"; invalid parameter"),r.yc!=rn&&r.yc!=nn&&n("glp_intopt: presolve = "+r.yc+"; invalid parameter"),r.sd!=rn&&r.sd!=nn&&n("glp_intopt: binarize = "+r.sd+"; invalid parameter"),r.Xe!=rn&&r.Xe!=nn&&n("glp_intopt: fp_heur = "+r.Xe+"; invalid parameter"),e.za=gr,e.ta=0,o=1;o<=e.g;o++)if((u=e.n[o]).type==rr&&u.c>=u.d)return r.o>=Sr&&i("glp_intopt: row "+o+": lb = "+u.c+", ub = "+u.d+"; incorrect bounds"),bn;for(o=1;o<=e.i;o++)if((u=e.f[o]).type==rr&&u.c>=u.d)return r.o>=Sr&&i("glp_intopt: column "+o+": lb = "+u.c+", ub = "+u.d+"; incorrect bounds"),bn;for(o=1;o<=e.i;o++)if((u=e.f[o]).kind==Wt){if((u.type==er||u.type==rr)&&u.c!=Math.floor(u.c))return r.o>=Sr&&i("glp_intopt: integer column "+o+" has non-integer lower bound "+u.c),bn;if((u.type==tr||u.type==rr)&&u.d!=Math.floor(u.d))return r.o>=Sr&&i("glp_intopt: integer column "+o+" has non-integer upper bound "+u.d),bn;if(u.type==nr&&u.c!=Math.floor(u.c))return r.o>=Sr&&i("glp_intopt: integer column "+o+" has non-integer fixed value "+u.c),bn}return r.o>=Or&&(o=Ne(e),u=_e(e),i("GLPK Integer Optimizer, v"+m()),i(e.g+" row"+(1==e.g?"":"s")+", "+e.i+" column"+(1==e.i?"":"s")+", "+e.L+" non-zero"+(1==e.L?"":"s")),i(o+" integer variable"+(1==o?"":"s")+", "+(0==u?"none of":1==o&&1==u?"":1==u?"one of":u==o?"all of":u+" of")+" which "+(1==u?"is":"are")+" binary")),r.yc?function(e,r){function n(){return Vf(o,c),c=null,Xf(o,e),s}var o,s,u=p,l=u.Fb,c=null,f={};if(r.o>=Or&&i("Preprocessing..."),Df(o=Ef(),e,vr),u.Fb=!l||r.o<Or?nn:rn,s=function(e,r){var n,a,o,s,u;if(0!=(n=lp(e,1)))return n;for(r.sd&&function(e){var r,n,a,o,s,u,l,c,f,p,m;for(c=f=p=m=0,a=e.td;null!=a;a=a.ca)if(a.Ra&&a.c!=a.d&&(0!=a.c||1!=a.d))if(-1e6>a.c||1e6<a.d||4095<a.d-a.c)c++;else if(f++,0!=a.c&&Gf(e,a),1!=(o=0|a.d)){for(u=2,n=4;o>=n;)u++,n+=n;for(p+=u,(r=Bf(e,function(e,t){var r,n,i=e.Pa[t.F];for(r=1,n=2;r<t.i;r++,n+=n)i+=n*e.Pa[t.C+(r-1)];return e.Pa[t.F]=i,0})).F=a.C,r.C=0,r.i=u,o<n-1?(m++,(n=Pf(e)).c=-t,n.d=o):n=null,a.d=1,null!=n&&zf(n,a,1),l=1,n=2;l<u;l++,n+=n)for((o=If(e)).Ra=1,o.c=0,o.d=1,o.u=n*a.u,0==r.C&&(r.C=o.C),s=a.k;null!=s;s=s.I)zf(s.n,o,n*s.j)}0<f&&i(f+" integer variable(s) were replaced by "+p+" binary ones"),0<m&&i(m+" row(s) were added due to binarization"),0<c&&i("Binarization failed for "+c+" integer variable(s)")}(e),u=0,n=e.Pc;null!=n;n=a)if(a=n.ca,(n.c!=-t||n.d!=+t)&&n.c!=n.d&&null!=n.k&&null!=n.k.B){for(s=n.k;null!=s&&(o=s.f).Ra&&0==o.c&&1==o.d;s=s.B);null==s&&(u+=tp(e,n))}for(0<u&&i(u+" hidden packing inequaliti(es) were detected"),u=0,n=e.Pc;null!=n;n=a)if(a=n.ca,(n.c!=-t||n.d!=+t)&&n.c!=n.d&&null!=n.k&&null!=n.k.B&&null!=n.k.B.B){for(s=n.k;null!=s&&(o=s.f).Ra&&0==o.c&&1==o.d;s=s.B);null==s&&(u+=np(e,n))}for(0<u&&i(u+" hidden covering inequaliti(es) were detected"),u=0,n=e.Pc;null!=n;n=a)a=n.ca,n.c!=n.d&&(u+=ap(e,n));return 0<u&&i(u+" constraint coefficient(s) were reduced"),0}(o,r),u.Fb=l,0!=s&&(s==_n?r.o>=Or&&i("PROBLEM HAS NO PRIMAL FEASIBLE SOLUTION"):s==An&&r.o>=Or&&i("LP RELAXATION HAS NO DUAL FEASIBLE SOLUTION")),0!=s)return s;if(c=x(),qf(o,c),0==c.g&&0==c.i)return c.za=wr,c.ta=c.ha,r.o>=Or&&(i("Objective value = "+c.ta),i("INTEGER OPTIMAL SOLUTION FOUND BY MIP PREPROCESSOR")),n();if(r.o>=Or){var m=Ne(c),h=_e(c);i(c.g+" row"+(1==c.g?"":"s")+", "+c.i+" column"+(1==c.i?"":"s")+", "+c.L+" non-zero"+(1==c.L?"":"s")),i(m+" integer variable"+(1==m?"":"s")+", "+(0==h?"none of":1==m&&1==h?"":1==h?"one of":h==m?"all of":h+" of")+" which "+(1==h?"is":"are")+" binary")}return Ce(e,f),Te(c,f),u.Fb=!l||r.o<Or?nn:rn,_p(c,lr|cr|fr|pr),u.Fb=l,u.Fb=!l||r.o<Or?nn:rn,dt(c),u.Fb=l,r.o>=Or&&i("Solving LP relaxation..."),(u=new ce).o=r.o,c.$=e.$,s=le(c,u),e.$=c.$,0!=s?(r.o>=Sr&&i("glp_intopt: cannot solve LP relaxation"),s=yn):((s=fe(c))==wr?s=0:s==xr?s=_n:s==Mr&&(s=An),0!=s?s:(c.$=e.$,s=a(c,r),e.$=c.$,c.za!=wr&&c.za!=br?(e.za=c.za,s):n()))}(e,r):a(e,r)};var Ae=e.IOCP=function(e){this.o=(e=e||{}).msg_lev||Or,this.Jb=e.br_tech||qr,this.kc=e.bt_tech||Gr,this.Ub=e.tol_int||1e-5,this.we=e.tol_obj||1e-7,this.sb=e.tm_lim||2147483647,this.bc=e.out_frq||5e3,this.fb=e.out_dly||1e4,this.ob=e.cb_func||null,this.Uc=e.cb_info||null,this.Me=e.cb_size||0,this.ed=e.pp_tech||Jr,this.ce=e.mip_gap||0,this.Ed=e.mir_cuts||nn,this.Ad=e.gmi_cuts||nn,this.xd=e.cov_cuts||nn,this.vd=e.clq_cuts||nn,this.yc=e.presolve||nn,this.sd=e.binarize||nn,this.Xe=e.fp_heur||nn};e.glp_mip_status=function(e){return e.za},e.glp_mip_obj_val=function(e){return e.ta};var Ee=e.glp_mip_row_val=function(e,t){return 1<=t&&t<=e.g||n("glp_mip_row_val: i = "+t+"; row number out of range"),e.n[t].Sa},Se=e.glp_mip_col_val=function(e,t){return 1<=t&&t<=e.i||n("glp_mip_col_val: j = "+t+"; column number out of range"),e.f[t].Sa},ke=e.glp_bf_exists=function(e){return 0==e.g||e.valid},Oe=e.glp_factorize=function(e){var t,r,n,i=e.g,a=e.i,o=e.n,s=e.f,u=e.head;for(t=e.valid=0,r=1;r<=i+a;r++)if(r<=i?(n=o[r].m,o[r].bind=0):(n=s[r-i].m,s[r-i].bind=0),n==ir){if(++t>i)return dn;u[t]=r,r<=i?o[r].bind=t:s[r-i].bind=t}if(t<i)return dn;if(0<i){switch(null==e.U&&(e.U={valid:0,type:Nr,gb:null,Za:null,Cd:0,cc:.1,xc:4,gc:1,Mb:1e-15,sc:1e10,$c:100,ic:1e-6,vc:100,kd:1e3,Ch:-1,hg:0},Le(e)),nt(e.U,i,function(e,t,r,n){var i,a=e.g;if((i=e.head[t])<=a)t=1,r[1]=i,n[1]=1;else for(t=0,e=e.f[i-a].k;null!=e;e=e.I)r[++t]=e.n.ea,n[t]=-e.n.ma*e.j*e.f.va;return t},e)){case Qe:return vn;case $e:return gn}e.valid=1}return 0};e.glp_bf_updated=function(e){return 0==e.g||e.valid||n("glp_bf_update: basis factorization does not exist"),0==e.g?0:e.U.hg};var Ce=e.glp_get_bfcp=function(e,t){var r=e.Qd;null==r?(t.type=Nr,t.Cd=0,t.cc=.1,t.xc=4,t.gc=rn,t.Mb=1e-15,t.sc=1e10,t.$c=100,t.ic=1e-6,t.vc=100,t.kd=0):a(t,r)};function Le(e){var t={};Ce(e,t),(e=e.U).type=t.type,e.Cd=t.Cd,e.cc=t.cc,e.xc=t.xc,e.gc=t.gc,e.Mb=t.Mb,e.sc=t.sc,e.$c=t.$c,e.ic=t.ic,e.vc=t.vc,e.kd=t.kd}var Te=e.glp_set_bfcp=function(e,t){var r=e.Qd;null==t?null!=r&&(e.Qd=null):(null==r&&(r=e.Qd={}),a(r,t),r.type!=Nr&&r.type!=_r&&r.type!=Ar&&n("glp_set_bfcp: type = "+r.type+"; invalid parameter"),0>r.Cd&&n("glp_set_bfcp: lu_size = "+r.Cd+"; invalid parameter"),0<r.cc&&1>r.cc||n("glp_set_bfcp: piv_tol = "+r.cc+"; invalid parameter"),1>r.xc&&n("glp_set_bfcp: piv_lim = "+r.xc+"; invalid parameter"),r.gc!=rn&&r.gc!=nn&&n("glp_set_bfcp: suhl = "+r.gc+"; invalid parameter"),0<=r.Mb&&1e-6>=r.Mb||n("glp_set_bfcp: eps_tol = "+r.Mb+"; invalid parameter"),1>r.sc&&n("glp_set_bfcp: max_gro = "+r.sc+"; invalid parameter"),1<=r.$c&&32767>=r.$c||n("glp_set_bfcp: nfs_max = "+r.$c+"; invalid parameter"),0<r.ic&&1>r.ic||n("glp_set_bfcp: upd_tol = "+r.ic+"; invalid parameter"),1<=r.vc&&32767>=r.vc||n("glp_set_bfcp: nrs_max = "+r.vc+"; invalid parameter"),0>r.kd&&n("glp_set_bfcp: rs_size = "+r.vc+"; invalid parameter"),0==r.kd&&(r.kd=20*r.vc)),null!=e.U&&Le(e)},Pe=e.glp_get_bhead=function(e,t){return 0==e.g||e.valid||n("glp_get_bhead: basis factorization does not exist"),1<=t&&t<=e.g||n("glp_get_bhead: k = "+t+"; index out of range"),e.head[t]},Ie=e.glp_get_row_bind=function(e,t){return 0==e.g||e.valid||n("glp_get_row_bind: basis factorization does not exist"),1<=t&&t<=e.g||n("glp_get_row_bind: i = "+t+"; row number out of range"),e.n[t].bind},ze=e.glp_get_col_bind=function(e,t){return 0==e.g||e.valid||n("glp_get_col_bind: basis factorization does not exist"),1<=t&&t<=e.i||n("glp_get_col_bind: j = "+t+"; column number out of range"),e.f[t].bind},Be=e.glp_ftran=function(e,t){var r,i,a=e.g,o=e.n,s=e.f;for(0==a||e.valid||n("glp_ftran: basis factorization does not exist"),r=1;r<=a;r++)t[r]*=o[r].ma;for(0<a&&it(e.U,t),r=1;r<=a;r++)t[r]=(i=e.head[r])<=a?t[r]/o[i].ma:t[r]*s[i-a].va},je=e.glp_btran=function(e,t){var r,i,a=e.g,o=e.n,s=e.f;for(0==a||e.valid||n("glp_btran: basis factorization does not exist"),r=1;r<=a;r++)t[r]=(i=e.head[r])<=a?t[r]/o[i].ma:t[r]*s[i-a].va;for(0<a&&at(e.U,t),r=1;r<=a;r++)t[r]*=o[r].ma};e.glp_warm_up=function(e){var t,r,n,i,a;for(e.na=e.sa=gr,e.aa=0,e.some=0,n=1;n<=e.g;n++)(t=e.n[n]).r=t.J=0;for(n=1;n<=e.i;n++)(t=e.f[n]).r=t.J=0;if(!ke(e)&&0!=(i=Oe(e)))return i;for(i=new Float64Array(1+e.g),n=1;n<=e.g;n++)(t=e.n[n]).m!=ir&&(t.m==ar?t.r=t.c:t.m==or?t.r=t.d:t.m==sr?t.r=0:t.m==ur&&(t.r=t.c),i[n]-=t.r);for(n=1;n<=e.i;n++)if((t=e.f[n]).m!=ir&&(t.m==ar?t.r=t.c:t.m==or?t.r=t.d:t.m==sr?t.r=0:t.m==ur&&(t.r=t.c),0!=t.r))for(r=t.k;null!=r;r=r.I)i[r.n.ea]+=r.j*t.r;for(Be(e,i),e.na=br,n=1;n<=e.g;n++)(t=e.n[n]).m==ir&&(t.r=i[t.bind],(r=t.type)!=er&&r!=rr&&r!=nr||(a=1e-6+1e-9*Math.abs(t.c),t.r<t.c-a&&(e.na=yr)),r!=tr&&r!=rr&&r!=nr||(a=1e-6+1e-9*Math.abs(t.d),t.r>t.d+a&&(e.na=yr)));for(n=1;n<=e.i;n++)(t=e.f[n]).m==ir&&(t.r=i[t.bind],(r=t.type)!=er&&r!=rr&&r!=nr||(a=1e-6+1e-9*Math.abs(t.c),t.r<t.c-a&&(e.na=yr)),r!=tr&&r!=rr&&r!=nr||(a=1e-6+1e-9*Math.abs(t.d),t.r>t.d+a&&(e.na=yr)));for(e.aa=e.ha,n=1;n<=e.i;n++)e.aa+=(t=e.f[n]).u*t.r;for(n=1;n<=e.g;n++)i[n]=0;for(n=1;n<=e.i;n++)(t=e.f[n]).m==ir&&(i[t.bind]=t.u);for(je(e,i),e.sa=br,n=1;n<=e.g;n++)(t=e.n[n]).m==ir?t.J=0:(t.J=-i[n],r=t.m,t=e.dir==Zt?+t.J:-t.J,((r==sr||r==ar)&&-1e-5>t||(r==sr||r==or)&&1e-5<t)&&(e.sa=yr));for(n=1;n<=e.i;n++)if((t=e.f[n]).m==ir)t.J=0;else{for(t.J=t.u,r=t.k;null!=r;r=r.I)t.J+=r.j*i[r.n.ea];r=t.m,t=e.dir==Zt?+t.J:-t.J,((r==sr||r==ar)&&-1e-5>t||(r==sr||r==or)&&1e-5<t)&&(e.sa=yr)}return 0};var Fe=e.glp_eval_tab_row=function(e,t,r,i){var a,o,s,u,l,c,f,p=e.g,m=e.i;for(0==p||e.valid||n("glp_eval_tab_row: basis factorization does not exist"),1<=t&&t<=p+m||n("glp_eval_tab_row: k = "+t+"; variable number out of range"),0==(a=t<=p?Ie(e,t):ze(e,t-p))&&n("glp_eval_tab_row: k = "+t+"; variable must be basic"),c=new Float64Array(1+p),u=new Int32Array(1+p),f=new Float64Array(1+p),c[a]=1,je(e,c),o=0,t=1;t<=p+m;t++){if(t<=p){if(de(e,t)==ir)continue;l=-c[t]}else{if(be(e,t-p)==ir)continue;for(s=K(e,t-p,u,f),l=0,a=1;a<=s;a++)l+=c[u[a]]*f[a]}0!=l&&(r[++o]=t,i[o]=l)}return o},Re=e.glp_eval_tab_col=function(e,t,r,i){var a,o=e.g,s=e.i;if(0==o||e.valid||n("glp_eval_tab_col: basis factorization does not exist"),1<=t&&t<=o+s||n("glp_eval_tab_col: k = "+t+"; variable number out of range"),(t<=o?de(e,t):be(e,t-o))==ir&&n("glp_eval_tab_col: k = "+t+"; variable must be non-basic"),s=new Float64Array(1+o),t<=o)s[t]=-1;else for(a=K(e,t-o,r,i),t=1;t<=a;t++)s[r[t]]=i[t];for(Be(e,s),a=0,t=1;t<=o;t++)0!=s[t]&&(r[++a]=Pe(e,t),i[a]=s[t]);return a},De=e.glp_transform_row=function(e,t,r,i){var a,o,s,u,l,c,f,p,m,h;for(ke(e)||n("glp_transform_row: basis factorization does not exist "),o=R(e),s=D(e),p=new Float64Array(1+s),0<=t&&t<=s||n("glp_transform_row: len = "+t+"; invalid row length"),u=1;u<=t;u++)1<=(a=r[u])&&a<=s||n("glp_transform_row: ind["+u+"] = "+a+"; column index out of range"),0==i[u]&&n("glp_transform_row: val["+u+"] = 0; zero coefficient not allowed"),0!=p[a]&&n("glp_transform_row: ind["+u+"] = "+a+"; duplicate column indices not allowed"),p[a]=i[u];for(m=new Float64Array(1+o),a=1;a<=o;a++)t=Pe(e,a),m[a]=t<=o?0:p[t-o];for(je(e,m),t=0,a=1;a<=o;a++)de(e,a)!=ir&&0!=(f=-m[a])&&(r[++t]=a,i[t]=f);for(c=new Int32Array(1+o),h=new Float64Array(1+o),a=1;a<=s;a++)if(be(e,a)!=ir){for(f=p[a],l=K(e,a,c,h),u=1;u<=l;u++)f+=h[u]*m[c[u]];0!=f&&(r[++t]=o+a,i[t]=f)}return t};e.glp_transform_col=function(e,t,r,i){var a,o,s,u;for(ke(e)||n("glp_transform_col: basis factorization does not exist "),o=R(e),u=new Float64Array(1+o),0<=t&&t<=o||n("glp_transform_col: len = "+t+"; invalid column length"),s=1;s<=t;s++)1<=(a=r[s])&&a<=o||n("glp_transform_col: ind["+s+"] = "+a+"; row index out of range"),0==i[s]&&n("glp_transform_col: val["+s+"] = 0; zero coefficient not allowed"),0!=u[a]&&n("glp_transform_col: ind["+s+"] = "+a+"; duplicate row indices not allowed"),u[a]=i[s];for(Be(e,u),t=0,a=1;a<=o;a++)0!=u[a]&&(r[++t]=Pe(e,a),i[t]=u[a]);return t};var qe=e.glp_prim_rtest=function(e,r,i,a,o,s){var u,l,c,f,p,m,h,d,v,g,b,y,x;for(pe(e)!=br&&n("glp_prim_rtest: basic solution is not primal feasible "),1!=o&&-1!=o&&n("glp_prim_rtest: dir = "+o+"; invalid parameter"),0<s&&1>s||n("glp_prim_rtest: eps = "+s+"; invalid parameter"),l=R(e),c=D(e),f=0,x=t,d=0,p=1;p<=r;p++)if(1<=(u=i[p])&&u<=l+c||n("glp_prim_rtest: ind["+p+"] = "+u+"; variable number out of range"),u<=l?(m=X(e,u),g=U(e,u),b=G(e,u),h=de(e,u),v=ve(e,u)):(m=H(e,u-l),g=Y(e,u-l),b=Z(e,u-l),h=be(e,u-l),v=ye(e,u-l)),h!=ir&&n("glp_prim_rtest: ind["+p+"] = "+u+"; non-basic variable not allowed"),u=0<o?+a[p]:-a[p],m!=$t){if(m==er){if(u>-s)continue;y=(g-v)/u}else if(m==tr){if(u<+s)continue;y=(b-v)/u}else if(m==rr)if(0>u){if(u>-s)continue;y=(g-v)/u}else{if(u<+s)continue;y=(b-v)/u}else if(m==nr){if(-s<u&&u<+s)continue;y=0}0>y&&(y=0),(x>y||x==y&&d<Math.abs(u))&&(f=p,x=y,d=Math.abs(u))}return f},Ve=e.glp_dual_rtest=function(e,r,i,a,o,s){var u,l,c,f,p,m,h,d,v,g,b;for(me(e)!=br&&n("glp_dual_rtest: basic solution is not dual feasible"),1!=o&&-1!=o&&n("glp_dual_rtest: dir = "+o+"; invalid parameter"),0<s&&1>s||n("glp_dual_rtest: eps = "+s+"; invalid parameter"),l=R(e),c=D(e),v=F(e)==Zt?1:-1,f=0,b=t,h=0,p=1;p<=r;p++){if(1<=(u=i[p])&&u<=l+c||n("glp_dual_rtest: ind["+p+"] = "+u+"; variable number out of range"),u<=l?(m=de(e,u),d=ge(e,u)):(m=be(e,u-l),d=xe(e,u-l)),m==ir&&n("glp_dual_rtest: ind["+p+"] = "+u+"; basic variable not allowed"),u=0<o?+a[p]:-a[p],m==ar){if(u<+s)continue;g=v*d/u}else if(m==or){if(u>-s)continue;g=v*d/u}else if(m==sr){if(-s<u&&u<+s)continue;g=0}else if(m==ur)continue;0>g&&(g=0),(b>g||b==g&&h<Math.abs(u))&&(f=p,b=g,h=Math.abs(u))}return f};function Xe(e,t,r,i,a,o,s){var u,l,c,f,p;for(e.na==gr&&n("glp_analyze_row: primal basic solution components are undefined"),e.sa!=br&&n("glp_analyze_row: basic solution is not dual feasible"),0<=t&&t<=e.i||n("glp_analyze_row: len = "+t+"; invalid row length"),p=0,u=1;u<=t;u++)1<=(l=r[u])&&l<=e.g+e.i||n("glp_analyze_row: ind["+u+"] = "+l+"; row/column index out of range"),l<=e.g?(e.n[l].m==ir&&n("glp_analyze_row: ind["+u+"] = "+l+"; basic auxiliary variable is not allowed"),f=e.n[l].r):(e.f[l-e.g].m==ir&&n("glp_analyze_row: ind["+u+"] = "+l+"; basic structural variable is not allowed"),f=e.f[l-e.g].r),p+=i[u]*f;if(a==er){if(p>=o)return 1;c=1}else if(a==tr){if(p<=o)return 1;c=-1}else n("glp_analyze_row: type = "+a+"; invalid parameter");return a=o-p,0==(t=Ve(e,t,r,i,c,1e-9))?2:(s(t,f=(l=r[t])<=e.g?e.n[l].r:e.f[l-e.g].r,r=a/i[t],p,a,l<=e.g?e.n[l].J*r:e.f[l-e.g].J*r),0)}function Ue(e){return e.reason!=un&&n("glp_ios_pool_size: operation not allowed"),e.Bd.size}function Ge(e,t,r,i,a,o,s){e.reason!=un&&n("glp_ios_add_row: operation not allowed");var u,l,c=e.Bd;for(u={name:null},0<=t&&255>=t||n("glp_ios_add_row: klass = "+t+"; invalid cut class"),u.qc=t,u.k=null,0<=r&&r<=e.i||n("glp_ios_add_row: len = "+r+"; invalid cut length"),l=1;l<=r;l++)t={},1<=i[l]&&i[l]<=e.i||n("glp_ios_add_row: ind["+l+"] = "+i[l]+"; column index out of range"),t.C=i[l],t.j=a[l],t.e=u.k,u.k=t;o!=er&&o!=tr&&o!=nr&&n("glp_ios_add_row: type = "+o+"; invalid cut type"),u.type=o,u.cg=s,u.ca=c.Xa,u.e=null,null==u.ca?c.head=u:u.ca.e=u,c.Xa=u,c.size++}function He(e,t){return 1<=t&&t<=e.A.i||n("glp_ios_can_branch: j = "+t+"; column number out of range"),e.ad[t]}function Ye(e,t){var r,n,a=e.A,o=e.wc,s=e.i;for(n=a.ha,r=1;r<=s;r++){var u=a.f[r];if(u.kind==Wt&&t[r]!=Math.floor(t[r]))return 1;n+=u.u*t[r]}if(a.za==br)switch(a.dir){case Zt:if(n>=e.A.ta)return 1;break;case Jt:if(n<=e.A.ta)return 1}for(e.p.o>=kr&&i("Solution found by heuristic: "+n),a.za=br,a.ta=n,r=1;r<=s;r++)a.f[r].Sa=t[r];for(s=1;s<=o;s++)for((r=a.n[s]).Sa=0,n=r.k;null!=n;n=n.B)r.Sa+=n.j*n.f.Sa;return 0}e.glp_analyze_bound=function(e,r,i){var a,o,s,u,l,c,f,p,m,h,d,v,g,b;for(d=v=g=b=null,null!=e&&3621377730==e.Dd||n("glp_analyze_bound: P = "+e+"; invalid problem object"),o=e.g,s=e.i,e.na==br&&e.sa==br||n("glp_analyze_bound: optimal basic solution required"),0==o||e.valid||n("glp_analyze_bound: basis factorization required"),1<=r&&r<=o+s||n("glp_analyze_bound: k = "+r+"; variable number out of range"),s=(a=r<=o?e.n[r]:e.f[r-o]).r,a.m==ir&&n("glp_analyze_bound: k = "+r+"; basic variable not allowed "),u=new Int32Array(1+o),h=new Float64Array(1+o),c=Re(e,r,u,h),r=-1;1>=r;r+=2)0==(f=qe(e,c,u,h,r,1e-9))?(l=0,f=0>r?-t:+t):((l=u[f])<=o?(p=U(e,(a=e.n[l]).ea),m=G(e,a.ea)):(p=Y(e,(a=e.f[l-o]).C),m=Z(e,a.C)),a=a.r,f=s+(a=0>r&&0<h[f]||0<r&&0>h[f]?p-a:m-a)/h[f]),0>r?(d=f,v=l):(g=f,b=l);i(d,v,g,b)},e.glp_analyze_coef=function(e,r,i){var a,o,s,u,l,c,f,p,m,h,d,v,g,b,y,x,w,M,N,_,A=null,E=null,S=null,k=null,O=null,C=null;for(null!=e&&3621377730==e.Dd||n("glp_analyze_coef: P = "+e+"; invalid problem object"),o=e.g,s=e.i,e.na==br&&e.sa==br||n("glp_analyze_coef: optimal basic solution required"),0==o||e.valid||n("glp_analyze_coef: basis factorization required"),1<=r&&r<=o+s||n("glp_analyze_coef: k = "+r+"; variable number out of range"),r<=o?(u=(a=e.n[r]).type,v=a.c,g=a.d,b=0):(u=(a=e.f[r-o]).type,v=a.c,g=a.d,b=a.u),y=a.r,a.m!=ir&&n("glp_analyze_coef: k = "+r+"; non-basic variable not allowed"),l=new Int32Array(1+o),_=new Float64Array(1+o),d=new Int32Array(1+s),N=new Float64Array(1+s),m=Fe(e,r,d,N),s=-1;1>=s;s+=2)e.dir==Zt?f=-s:e.dir==Jt&&(f=+s),0==(h=Ve(e,m,d,N,f,1e-9))?(x=0>s?-t:+t,c=0,h=y):(x=b+(a=-(f=(a=(c=d[h])<=o?e.n[c]:e.f[c-o]).J)/N[h]),f=0>s&&0<N[h]||0<s&&0>N[h]?1:-1,e.dir==Jt&&(f=-f),p=Re(e,c,l,_),(a=r<=o?e.n[r]:e.f[r-o]).type=$t,a.c=a.d=0,p=qe(e,p,l,_,f,1e-9),(a=r<=o?e.n[r]:e.f[r-o]).type=u,a.c=v,a.d=g,0==p?h=0>f&&0<N[h]||0<f&&0>N[h]?-t:+t:((a=l[p])<=o?(w=U(e,(a=e.n[a]).ea),M=G(e,a.ea)):(w=Y(e,(a=e.f[a-o]).C),M=Z(e,a.C)),a=a.r,h=y+N[h]/_[p]*(a=0>f&&0<_[p]||0<f&&0>_[p]?w-a:M-a))),0>s?(A=x,E=c,S=h):(k=x,O=c,C=h);i(A,E,S,k,O,C)},e.glp_ios_reason=function(e){return e.reason},e.glp_ios_get_prob=function(e){return e.A},e.glp_mpl_alloc_wksp=function(){return Hc()},e._glp_mpl_init_rand=function(e,t){0!=e.D&&n("glp_mpl_init_rand: invalid call sequence\n"),pp(e.Gd,t)};var Ze=e.glp_mpl_read_model=function(e,t,r,i){return 0!=e.D&&n("glp_mpl_read_model: invalid call sequence"),1==(e=Yc(e,t,r,i))||2==e?e=0:4==e&&(e=1),e};e.glp_mpl_read_model_from_string=function(e,t,r,n){var i=0;return Ze(e,t,function(){return i<r.length?r[i++]:-1},n)};var Je=e.glp_mpl_read_data=function(e,t,r){return 1!=e.D&&2!=e.D&&n("glp_mpl_read_data: invalid call sequence"),2==(e=Zc(e,t,r))?e=0:4==e&&(e=1),e};function Ke(e,t){var r,n,i;for(r=null,n=e.root;null!=n;)0>=e.yg(e.info,t,(r=n).key)?(i=0,n=r.left,r.pa++):(i=1,n=r.right);for((n={}).key=t,n.type=0,n.link=null,n.pa=1,n.R=r,n.ba=null==r?0:i,n.wa=0,n.left=null,n.right=null,e.size++,null==r?e.root=n:0==i?r.left=n:r.right=n;null!=r;){if(0==i){if(0<r.wa){r.wa=0;break}if(0>r.wa){We(e,r);break}r.wa=-1}else{if(0>r.wa){r.wa=0;break}if(0<r.wa){We(e,r);break}r.wa=1}i=r.ba,r=r.R}return null==r&&e.height++,n}function We(e,t){var r,n,i,a,o;0>t.wa?(r=t.R,i=(n=t.left).right,0>=n.wa?(null==r?e.root=n:0==t.ba?r.left=n:r.right=n,t.pa-=n.pa,n.R=r,n.ba=t.ba,n.wa++,n.right=t,t.R=n,t.ba=1,t.wa=-n.wa,t.left=i,null!=i&&(i.R=t,i.ba=0)):(a=i.left,o=i.right,null==r?e.root=i:0==t.ba?r.left=i:r.right=i,t.pa-=n.pa+i.pa,i.pa+=n.pa,t.wa=0<=i.wa?0:1,n.wa=0>=i.wa?0:-1,i.R=r,i.ba=t.ba,i.wa=0,i.left=n,i.right=t,t.R=i,t.ba=1,t.left=o,n.R=i,n.ba=0,n.right=a,null!=a&&(a.R=n,a.ba=1),null!=o&&(o.R=t,o.ba=0))):(r=t.R,i=(n=t.right).left,0<=n.wa?(null==r?e.root=n:0==t.ba?r.left=n:r.right=n,n.pa+=t.pa,n.R=r,n.ba=t.ba,n.wa--,n.left=t,t.R=n,t.ba=0,t.wa=-n.wa,t.right=i,null!=i&&(i.R=t,i.ba=1)):(a=i.left,o=i.right,null==r?e.root=i:0==t.ba?r.left=i:r.right=i,n.pa-=i.pa,i.pa+=t.pa,t.wa=0>=i.wa?0:-1,n.wa=0<=i.wa?0:1,i.R=r,i.ba=t.ba,i.wa=0,i.left=t,i.right=n,t.R=i,t.ba=0,t.right=a,n.R=i,n.ba=1,n.left=o,null!=a&&(a.R=t,a.ba=1),null!=o&&(o.R=n,o.ba=0)))}e.glp_mpl_read_data_from_string=function(e,t,r){var n=0;return Je(e,t,function(){return n<r.length?r[n++]:-1})},e.glp_mpl_generate=function(e,t,r,i){return 1!=e.D&&2!=e.D&&n("glp_mpl_generate: invalid call sequence\n"),3==(e=Jc(e,t,r,i))?e=0:4==e&&(e=1),e},e.glp_mpl_build_prob=function(e,t){var r,a,o,s,u,l,c;for(3!=e.D&&n("glp_mpl_build_prob: invalid call sequence\n"),B(t),w(t,Kc(e)),0<(r=Wc(e))&&_(t,r),a=1;a<=r;a++){switch(E(t,a,$c(e,a)),u=tf(e,a,function(e,t){l=e,c=t})){case Gs:u=$t;break;case Hs:u=er;break;case Ys:u=tr;break;case Zs:u=rr;break;case Js:u=nr}u==rr&&Math.abs(l-c)<1e-9*(1+Math.abs(l))&&(u=nr,Math.abs(l)<=Math.abs(c)?c=l:l=c),k(t,a,u,l,c),0!=nf(e,a)&&i("glp_mpl_build_prob: row "+$c(e,a)+"; constant term "+nf(e,a)+" ignored")}for(0<(a=Qc(e))&&A(t,a),o=1;o<=a;o++){switch(S(t,o,af(e,o)),s=of(e,o)){case Qs:case $s:we(t,o,Wt)}switch(u=sf(e,o,function(e,t){l=e,c=t})){case Gs:u=$t;break;case Hs:u=er;break;case Ys:u=tr;break;case Zs:u=rr;break;case Js:u=nr}s==$s&&((u==$t||u==tr||0>l)&&(l=0),(u==$t||u==er||1<c)&&(c=1),u=rr),u==rr&&Math.abs(l-c)<1e-9*(1+Math.abs(l))&&(u=nr,Math.abs(l)<=Math.abs(c)?c=l:l=c),O(t,o,u,l,c)}for(u=new Int32Array(1+a),o=new Float64Array(1+a),a=1;a<=r;a++)s=rf(e,a,u,o),L(t,a,s,u,o);for(a=1;a<=r;a++)if((s=ef(e,a))==Ks||s==Ws){for(M(t,$c(e,a)),N(t,s==Ks?Zt:Jt),C(t,0,nf(e,a)),s=rf(e,a,u,o),r=1;r<=s;r++)C(t,u[r],o[r]);break}},e.glp_mpl_postsolve=function(e,t,r){var i,a,o,s,u,l;if((3!=e.D||e.Of)&&n("glp_mpl_postsolve: invalid call sequence"),r!=hr&&r!=dr&&r!=vr&&n("glp_mpl_postsolve: sol = "+r+"; invalid parameter"),a=Wc(e),o=Qc(e),a==R(t)&&o==D(t)||n("glp_mpl_postsolve: wrong problem object\n"),!uf(e))return 0;for(i=1;i<=a;i++)r==hr?(s=de(t,i),u=ve(t,i),l=ge(t,i)):r==dr?(s=0,u=glp_ipt_row_prim(t,i),l=glp_ipt_row_dual(t,i)):r==vr&&(s=0,u=Ee(t,i),l=0),1e-9>Math.abs(u)&&(u=0),1e-9>Math.abs(l)&&(l=0),lf(e,i,s,u,l);for(i=1;i<=o;i++)r==hr?(s=be(t,i),u=ye(t,i),l=xe(t,i)):r==dr?(s=0,u=glp_ipt_col_prim(t,i),l=glp_ipt_col_dual(t,i)):r==vr&&(s=0,u=Se(t,i),l=0),1e-9>Math.abs(u)&&(u=0),1e-9>Math.abs(l)&&(l=0),cf(e,i,s,u,l);return 3==(e=ff(e))?e=0:4==e&&(e=1),e};var Qe=1,$e=2,et=3,tt=4,rt=5;function nt(e,t,r,a){var s,u;switch(u=e.valid=0,e.type){case Nr:e.Za=null,null==e.gb&&((u={}).hb=u.g=0,u.valid=0,u.ia=Ei(),u.$d=50,u.Pb=0,u.Ze=u.af=u.$e=null,u.je=u.ie=null,u.ug=null,u.vg=null,u.ic=1e-6,u.ag=0,e.gb=u,u=1);break;case _r:case Ar:e.gb=null,null==e.Za&&(zn&&i("lpf_create_it: warning: debug mode enabled"),(u={valid:0}).Nc=u.ef=0,u.ia=Ei(),u.g=0,u.Cf=null,u.K=50,u.i=0,u.Md=u.Ld=null,u.Od=u.Nd=null,u.Qc=null,u.Ge=u.Fe=null,u.Ie=u.He=null,u.Jd=1e3,u.od=0,u.Wb=null,u.Xb=null,u.jb=u.Gc=null,e.Za=u,u=1)}if(null!=e.gb?s=e.gb.ia:null!=e.Za&&(s=e.Za.ia),u&&(s.Va=e.Cd),s.cc=e.cc,s.xc=e.xc,s.gc=e.gc,s.Mb=e.Mb,s.sc=e.sc,null!=e.gb&&(u&&(e.gb.$d=e.$c),e.gb.ic=e.ic),null!=e.Za&&(u&&(e.Za.K=e.vc),u&&(e.Za.Jd=e.kd)),null!=e.gb){e:{switch(s=e.gb,1>t&&n("fhv_factorize: m = "+t+"; invalid parameter"),1e8<t&&n("fhv_factorize: m = "+t+"; matrix too big"),s.g=t,s.valid=0,null==s.Ze&&(s.Ze=new Int32Array(1+s.$d)),null==s.af&&(s.af=new Int32Array(1+s.$d)),null==s.$e&&(s.$e=new Int32Array(1+s.$d)),s.hb<t&&(s.hb=t+100,s.je=new Int32Array(1+s.hb),s.ie=new Int32Array(1+s.hb),s.ug=new Int32Array(1+s.hb),s.vg=new Float64Array(1+s.hb)),Ti(s.ia,t,r,a)){case _i:t=lt;break e;case Ai:t=ct;break e}s.valid=1,s.Pb=0,o(s.je,1,s.ia.kb,1,t),o(s.ie,1,s.ia.vb,1,t),t=s.ag=0}switch(t){case lt:return Qe;case ct:return $e}}else if(null!=e.Za){e:{if(s=e.Za,zn)var l,c,f,p,m,h;switch(1>t&&n("lpf_factorize: m = "+t+"; invalid parameter"),1e8<t&&n("lpf_factorize: m = "+t+"; matrix too big"),s.ef=s.g=t,s.valid=0,null==s.Md&&(s.Md=new Int32Array(1+s.K)),null==s.Ld&&(s.Ld=new Int32Array(1+s.K)),null==s.Od&&(s.Od=new Int32Array(1+s.K)),null==s.Nd&&(s.Nd=new Int32Array(1+s.K)),null==s.Qc&&(u=s.K,yp&&i("scf_create_it: warning: debug mode enabled"),1<=u&&32767>=u||n("scf_create_it: n_max = "+u+"; invalid parameter"),(l={}).K=u,l.i=0,l.Nb=new Float64Array(1+u*u),l.v=new Float64Array(1+u*(u+1)/2),l.s=new Int32Array(1+u),l.fg=dp,l.pa=0,l.l=yp?new Float64Array(1+u*u):null,l.ig=new Float64Array(1+u),s.Qc=l),null==s.Wb&&(s.Wb=new Int32Array(1+s.Jd)),null==s.Xb&&(s.Xb=new Float64Array(1+s.Jd)),s.Nc<t&&(s.Nc=t+100,s.Ge=new Int32Array(1+s.Nc+s.K),s.Fe=new Int32Array(1+s.Nc+s.K),s.Ie=new Int32Array(1+s.Nc+s.K),s.He=new Int32Array(1+s.Nc+s.K),s.jb=new Float64Array(1+s.Nc+s.K),s.Gc=new Float64Array(1+s.Nc+s.K)),Ti(s.ia,t,r,a)){case _i:t=In;break e;case Ai:t=LPF_ECOND;break e}if(s.valid=1,zn){for(s.Cf=m=new Float64Array(1+t*t),p=new Int32Array(1+t),h=new Float64Array(1+t),u=1;u<=t*t;u++)m[u]=0;for(c=1;c<=t;c++)for(f=r(a,c,p,h),u=1;u<=f;u++)m[((l=p[u])-1)*t+c]=h[u]}for(s.i=0,(r=s.Qc).i=r.pa=0,u=1;u<=t;u++)s.Ge[u]=s.Fe[u]=u,s.Ie[u]=s.He[u]=u;s.od=1,t=0}switch(t){case 0:switch(e.type){case _r:e.Za.Qc.fg=dp;break;case Ar:e.Za.Qc.fg=vp}break;case In:return Qe;case LPF_ECOND:return $e}}return e.valid=1,e.hg=0}function it(e,t){if(null!=e.gb){var r=(s=e.gb).ia.kb,i=s.ia.vb,a=s.je,o=s.ie;s.valid||n("fhv_ftran: the factorization is not valid"),s.ia.kb=a,s.ia.vb=o,Pi(s.ia,0,t),s.ia.kb=r,s.ia.vb=i,ht(s,0,t),Ii(s.ia,0,t)}else if(null!=e.Za){r=(s=e.Za).ef,i=s.g;var s,u,l,c=s.i,f=s.Fe;if(a=s.He,o=s.jb,zn)var p;if(s.valid||n("lpf_ftran: the factorization is not valid"),zn)for(p=new Float64Array(1+i),u=1;u<=i;u++)p[u]=t[u];for(u=1;u<=r+c;u++)o[u]=(l=f[u])<=i?t[l]:0;Pi(s.ia,0,o),jn(s,o,r,o),Np(s.Qc,0,o,r),c=s.i,f=s.Md,u=s.Ld,l=s.Wb;var m,h,d,v,g=s.Xb;for(m=1;m<=c;m++)if(0!=o[m+r])for(v=-1*o[m+r],d=(h=f[m])+u[m];h<d;h++)o[l[h]]+=v*g[h];for(Ii(s.ia,0,o),u=1;u<=i;u++)t[u]=o[a[u]];zn&&Fn(s,0,t,p)}}function at(e,t){if(null!=e.gb){var r=(s=e.gb).ia.kb,i=s.ia.vb,a=s.je,o=s.ie;s.valid||n("fhv_btran: the factorization is not valid"),Ii(s.ia,1,t),ht(s,1,t),s.ia.kb=a,s.ia.vb=o,Pi(s.ia,1,t),s.ia.kb=r,s.ia.vb=i}else if(null!=e.Za){r=(s=e.Za).ef,i=s.g;var s,u,l,c=s.i,f=(a=s.Ge,s.Ie);if(o=s.jb,zn)var p;if(s.valid||n("lpf_btran: the factorization is not valid"),zn)for(p=new Float64Array(1+i),u=1;u<=i;u++)p[u]=t[u];for(u=1;u<=r+c;u++)o[u]=(l=f[u])<=i?t[l]:0;Ii(s.ia,1,o),Bn(s,o,r,o),Np(s.Qc,1,o,r),c=s.i,f=s.Od,u=s.Nd,l=s.Wb;var m,h,d,v,g=s.Xb;for(m=1;m<=c;m++)if(0!=o[m+r])for(v=-1*o[m+r],d=(h=f[m])+u[m];h<d;h++)o[l[h]]+=v*g[h];for(Pi(s.ia,1,o),u=1;u<=i;u++)t[u]=o[a[u]];zn&&Fn(s,1,t,p)}}function ot(e,t,r,i,a,s){if(null!=e.gb)switch(function(e,t,r,i,a,s){var u,l,c=e.g,f=e.ia,p=f.Fc,m=f.Ec,h=f.pd,d=f.Af,v=f.Dc,g=f.Cc,b=f.Rc,y=f.kb,x=f.vb,w=f.sf,M=f.me,N=f.wb,_=f.xb,A=f.ze,E=f.Mb,S=e.Ze,k=e.af,O=e.$e,C=e.je,L=e.ie,T=e.ug,P=e.vg,I=e.ic;if(e.valid||n("fhv_update_it: the factorization is not valid"),1<=t&&t<=c||n("fhv_update_it: j = "+t+"; column number out of range"),e.Pb==e.$d)return e.valid=0,pt;for(u=1;u<=c;u++)P[u]=0;for(l=1;l<=r;l++)1<=(u=i[a+l])&&u<=c||n("fhv_update_it: ind["+l+"] = "+u+"; row number out of range"),0!=P[u]&&n("fhv_update_it: ind["+l+"] = "+u+"; duplicate row index not allowed"),0==s[l]&&n("fhv_update_it: val["+l+"] = "+s[l]+"; zero element not allowed"),P[u]=s[l];for(e.ia.kb=C,e.ia.vb=L,Pi(e.ia,0,P),e.ia.kb=y,e.ia.vb=x,ht(e,0,P),r=0,u=1;u<=c;u++)0==(a=P[u])||Math.abs(a)<E||(T[++r]=u,P[r]=a);for(C=(L=v[t])+g[t]-1;L<=C;L++){for(l=(s=p[u=N[L]])+m[u]-1;N[s]!=t;s++);N[s]=N[l],_[s]=_[l],m[u]--}for(f.Qb-=g[t],g[t]=0,a=w[t],i=0,l=1;l<=r;l++){if(m[u=T[l]]+1>h[u]&&ki(f,u,m[u]+10))return e.valid=0,f.Va=f.Ga+f.Ga,mt;N[s=p[u]+m[u]]=t,_[s]=P[l],m[u]++,i<x[u]&&(i=x[u])}if(b[t]<r&&Oi(f,t,r))return e.valid=0,f.Va=f.Ga+f.Ga,mt;if(o(N,L=v[t],T,1,r),o(_,L,P,1,r),g[t]=r,f.Qb+=r,a>i)return e.valid=0,lt;for(u=y[a],t=M[a],l=a;l<i;l++)y[l]=y[l+1],x[y[l]]=l,M[l]=M[l+1],w[M[l]]=l;for(y[i]=u,x[u]=i,M[i]=t,w[t]=i,t=1;t<=c;t++)A[t]=0;for(l=(s=p[u])+m[u]-1;s<=l;s++){for(A[t=N[s]]=_[s],C=(L=v[t])+g[t]-1;N[L]!=u;L++);N[L]=N[C],_[L]=_[C],g[t]--}if(f.Qb-=m[u],m[u]=0,e.Pb++,S[e.Pb]=u,O[e.Pb]=0,f.Ma-f.Fa<i-a&&(Si(f),f.Ma-f.Fa<i-a))return e.valid=f.valid=0,f.Va=f.Ga+f.Ga,mt;for(l=a;l<i;l++)if(t=y[l],0!=A[r=M[l]]){for(x=A[r]/d[t],r=(w=p[t])+m[t]-1;w<=r;w++)A[N[w]]-=x*_[w];f.Ma--,N[f.Ma]=t,_[f.Ma]=x,O[e.Pb]++}for(0==O[e.Pb]?e.Pb--:(k[e.Pb]=f.Ma,e.ag+=O[e.Pb]),d[u]=A[M[i]],r=0,l=i+1;l<=c;l++)if(a=A[t=M[l]],!(Math.abs(a)<E)){if(g[t]+1>b[t]&&Oi(f,t,g[t]+10))return e.valid=0,f.Va=f.Ga+f.Ga,mt;N[L=v[t]+g[t]]=u,_[L]=a,g[t]++,T[++r]=t,P[r]=a}if(h[u]<r&&ki(f,u,r))return e.valid=0,f.Va=f.Ga+f.Ga,mt;for(o(N,s=p[u],T,1,r),o(_,s,P,1,r),m[u]=r,f.Qb+=r,a=0,l=(s=p[u=y[i]])+m[u]-1;s<=l;s++)a<Math.abs(_[s])&&(a=Math.abs(_[s]));for(C=(L=v[t=M[i]])+g[t]-1;L<=C;L++)a<Math.abs(_[L])&&(a=Math.abs(_[L]));return Math.abs(d[u])<I*a?(e.valid=0,e=ft):0}(e.gb,t,r,i,a,s)){case lt:return e.valid=0,Qe;case ft:return e.valid=0,et;case pt:return e.valid=0,tt;case mt:return e.valid=0,rt}else if(null!=e.Za){e:{var u=e.Za,l=u.ef,c=u.g;if(zn)var f=u.Cf;var p,m,h,d=u.i,v=u.Md,g=u.Ld,b=u.Od,y=u.Nd,x=u.Ge,w=u.Fe,M=u.Ie,N=u.He,_=u.od,A=u.Wb,E=u.Xb,S=u.Gc,k=u.jb,O=u.Gc;if(u.valid||n("lpf_update_it: the factorization is not valid"),1<=t&&t<=c||n("lpf_update_it: j = "+t+"; column number out of range"),d==u.K)u.valid=0,t=LPF_ELIMIT;else{for(p=1;p<=c;p++)S[p]=0;for(h=1;h<=r;h++)1<=(p=i[a+h])&&p<=c||n("lpf_update_it: ind["+h+"] = "+p+"; row number out of range"),0!=S[p]&&n("lpf_update_it: ind["+h+"] = "+p+"; duplicate row index not allowed"),0==s[h]&&n("lpf_update_it: val["+h+"] = "+s[h]+"; zero element not allowed"),S[p]=s[h];if(zn)for(p=1;p<=c;p++)f[(p-1)*c+t]=S[p];for(p=1;p<=l+d;p++)k[p]=(m=w[p])<=c?S[m]:0;for(p=1;p<=l+d;p++)O[p]=0;if(O[N[t]]=1,Pi(u.ia,0,k),Ii(u.ia,1,O),u.Jd<_+l+l){for(p=u.Jd,r=u.od-1,i=u.Wb,a=u.Xb;p<_+l+l;)p+=p;u.Jd=p,u.Wb=new Int32Array(1+p),u.Xb=new Float64Array(1+p),o(u.Wb,1,i,1,r),o(u.Xb,1,a,1,r),A=u.Wb,E=u.Xb}for(v[d+1]=_,p=1;p<=l;p++)0!=k[p]&&(A[_]=p,E[_]=k[p],_++);for(g[d+1]=_-u.od,u.od=_,b[d+1]=_,p=1;p<=l;p++)0!=O[p]&&(A[_]=p,E[_]=O[p],_++);for(y[d+1]=_-u.od,u.od=_,jn(u,k,0,k),Bn(u,O,0,O),g=0,p=1;p<=l;p++)g-=O[p]*k[p];if(_=g,r=(v=u.Qc).Nb,i=v.v,a=v.s,yp)var C=v.l;if(y=v.ig,b=0,(g=v.i)==(p=v.K))b=bp;else{for(v.i=++g,c=((s=1)-1)*v.K+g;s<g;s++,c+=p)r[c]=0;for(s=(g-1)*v.K+(c=1);c<g;c++,s++)r[s]=0;for(s=r[(g-1)*v.K+g]=1;s<g;s++){for(A=0,c=1,f=(s-1)*v.K+1;c<g;c++,f++)A+=r[f]*k[c+l];i[wp(v,s,g)]=A}for(c=1;c<g;c++)y[c]=O[a[c]+l];if(y[g]=_,a[g]=g,yp){for(c=((s=1)-1)*v.K+g;s<g;s++,c+=p)C[c]=k[s+l];for(s=(g-1)*v.K+(c=1);c<g;c++,s++)C[s]=O[c+l];C[(g-1)*v.K+g]=_}for(k=1;k<g&&0==y[k];k++);switch(v.fg){case dp:for(O=v.i,C=v.Nb,_=v.v;k<O;k++){if(a=wp(v,k,k),r=(k-1)*v.K+1,s=(O-1)*v.K+1,Math.abs(_[a])<Math.abs(y[k])){for(p=k,i=a;p<=O;p++,i++)f=_[i],_[i]=y[p],y[p]=f;for(p=1,i=r,c=s;p<=O;p++,i++,c++)f=C[i],C[i]=C[c],C[c]=f}if(Math.abs(_[a])<xp&&(_[a]=y[k]=0),0!=y[k]){for(f=y[k]/_[a],p=k+1,i=a+1;p<=O;p++,i++)y[p]-=f*_[i];for(p=1,i=r,c=s;p<=O;p++,i++,c++)C[c]-=f*C[i]}}Math.abs(y[O])<xp&&(y[O]=0),_[wp(v,O,O)]=y[O];break;case vp:!function(e,t,r){for(var n,i,a,o,s,u,l=e.i,c=e.Nb,f=e.v;t<l;t++)o=wp(e,t,t),i=(t-1)*e.K+1,s=(l-1)*e.K+1,Math.abs(f[o])<xp&&Math.abs(r[t])<xp&&(f[o]=r[t]=0),0!=r[t]&&Mp(f[o],r[t],function(e,p){for(n=t,a=o;n<=l;n++,a++){var m=f[a],h=r[n];f[a]=e*m-p*h,r[n]=p*m+e*h}for(n=1,a=i,u=s;n<=l;n++,a++,u++)c[a]=e*(m=c[a])-p*(h=c[u]),c[u]=p*m+e*h});Math.abs(r[l])<xp&&(r[l]=0),f[wp(e,l,l)]=r[l]}(v,k,y)}for(p=v.K,k=v.i,O=v.v,_=0,y=wp(v,C=1,C);C<=k;C++,y+=p,p--)0!=O[y]&&_++;v.pa=_,v.pa!=g&&(b=gp),yp&&Fn(v,"scf_update_exp")}switch(b){case gp:u.valid=0,t=In;break e}x[l+d+1]=w[l+d+1]=l+d+1,M[l+d+1]=N[l+d+1]=l+d+1,m=N[l+d+1],M[p=N[t]]=l+d+1,N[l+d+1]=p,M[m]=t,N[t]=m,u.i++,t=0}}switch(t){case In:return e.valid=0,Qe;case LPF_ELIMIT:return e.valid=0,tt}}return e.hg++,0}var st="!\"#$%&()/,.;?@_`'{}|~",ut=e.glp_read_lp=function(e,r,n){function a(e,t){throw Error(e.count+": "+t)}function u(e,t){i(e.count+": warning: "+t)}function l(e){var t;"\n"==e.l&&e.count++,0>(t=e.Qg())?"\n"==e.l?(e.count--,t=-1):(u(e,"missing final end of line"),t="\n"):"\n"!=t&&(0<=" \t\n\v\f\r".indexOf(t)?t=" ":h(t)&&a(e,"invalid control character "+t.charCodeAt(0))),e.l=t}function c(e){e.h+=e.l,l(e)}function f(e,t){return e.toLowerCase()==t.toLowerCase()?1:0}function p(e){function t(){for(e.b=H;v(e.l)||0<=st.indexOf(e.l);)c(e);r&&(f(e.h,"minimize")?e.b=j:f(e.h,"minimum")?e.b=j:f(e.h,"min")?e.b=j:f(e.h,"maximize")?e.b=F:f(e.h,"maximum")?e.b=F:f(e.h,"max")?e.b=F:f(e.h,"subject")?" "==e.l&&(l(e),"t"==e.l.toLowerCase()&&(e.b=R,e.h+=" ",c(e),"o"!=e.l.toLowerCase()&&a(e,"keyword `subject to' incomplete"),c(e),d(e.l)&&a(e,"keyword `"+e.h+e.l+"...' not recognized"))):f(e.h,"such")?" "==e.l&&(l(e),"t"==e.l.toLowerCase()&&(e.b=R,e.h+=" ",c(e),"h"!=e.l.toLowerCase()&&a(e,"keyword `such that' incomplete"),c(e),"a"!=e.l.toLowerCase()&&a(e,"keyword `such that' incomplete"),c(e),"t"!=e.l.toLowerCase()&&a(e,"keyword `such that' incomplete"),c(e),d(e.l)&&a(e,"keyword `"+e.h+e.l+"...' not recognized"))):f(e.h,"st")?e.b=R:f(e.h,"s.t.")?e.b=R:f(e.h,"st.")?e.b=R:f(e.h,"bounds")?e.b=D:f(e.h,"bound")?e.b=D:f(e.h,"general")?e.b=q:f(e.h,"generals")?e.b=q:f(e.h,"gen")?e.b=q:f(e.h,"integer")?e.b=X:f(e.h,"integers")?e.b=X:f(e.h,"int")?e.b=X:f(e.h,"binary")?e.b=U:f(e.h,"binaries")?e.b=U:f(e.h,"bin")?e.b=U:f(e.h,"end")&&(e.b=G))}var r;for(e.b=-1,e.h="",e.value=0;;){for(r=0;" "==e.l;)l(e);if(-1==e.l)e.b=z;else if("\n"==e.l){if(l(e),!d(e.l))continue;r=1,t()}else{if("\\"==e.l){for(;"\n"!=e.l;)l(e);continue}if(d(e.l)||"."!=e.l&&0<=st.indexOf(e.l))t();else if(g(e.l)||"."==e.l){for(e.b=Y;g(e.l);)c(e);if("."==e.l)for(c(e),1!=e.h.length||g(e.l)||a(e,"invalid use of decimal point");g(e.l);)c(e);if("e"==e.l||"E"==e.l)for(c(e),"+"!=e.l&&"-"!=e.l||c(e),g(e.l)||a(e,"numeric constant `"+e.h+"' incomplete");g(e.l);)c(e);e.value=Number(e.h),e.value==Number.NaN&&a(e,"numeric constant `"+e.h+"' out of range")}else"+"==e.l?(e.b=Z,c(e)):"-"==e.l?(e.b=J,c(e)):":"==e.l?(e.b=K,c(e)):"<"==e.l?(e.b=te,c(e),"="==e.l&&c(e)):">"==e.l?(e.b=re,c(e),"="==e.l&&c(e)):"="==e.l?(e.b=ne,c(e),"<"==e.l?(e.b=te,c(e)):">"==e.l&&(e.b=re,c(e))):a(e,"character `"+e.l+"' not recognized")}break}for(;" "==e.l;)l(e)}function m(e,r){var n=$(e.Ka,r);if(0==n){if(n=A(e.Ka,1),S(e.Ka,n,r),e.K<n){var i=e.K,a=e.Z,u=e.j,l=e.ba,c=e.c,f=e.d;e.K+=e.K,e.Z=new Int32Array(1+e.K),o(e.Z,1,a,1,i),e.j=new Float64Array(1+e.K),o(e.j,1,u,1,i),e.ba=new Int8Array(1+e.K),s(e.ba,1,0,e.K),o(e.ba,1,l,1,i),e.c=new Float64Array(1+e.K),o(e.c,1,c,1,i),e.d=new Float64Array(1+e.K),o(e.d,1,f,1,i)}e.c[n]=+t,e.d[n]=-t}return n}function b(e){for(var t,r,n,i,o=0;;)if(e.b==Z?(n=1,p(e)):e.b==J?(n=-1,p(e)):n=1,e.b==Y?(i=e.value,p(e)):i=1,e.b!=H&&a(e,"missing variable name"),t=m(e,e.h),e.ba[t]&&a(e,"multiple use of variable `"+e.h+"' not allowed"),e.Z[++o]=t,e.j[o]=n*i,e.ba[t]=1,p(e),e.b!=Z&&e.b!=J){for(t=1;t<=o;t++)e.ba[e.Z[t]]=0;for(r=0,t=1;t<=o;t++)0!=e.j[t]&&(e.Z[++r]=e.Z[t],e.j[r]=e.j[t]);break}return r}function y(e,r,n){e.c[r]!=+t&&u(e,"lower bound of variable `"+V(e.Ka,r)+"' redefined"),e.c[r]=n}function x(e,r,n){e.d[r]!=-t&&u(e,"upper bound of variable `"+V(e.Ka,r)+"' redefined"),e.d[r]=n}function w(e){var t,r;for(e.b==q?(r=0,p(e)):e.b==X?(r=0,p(e)):e.b==U&&(r=1,p(e));e.b==H;)t=m(e,e.h),we(e.Ka,t,Wt),r&&(y(e,t,0),x(e,t,1)),p(e)}var T,I,z=0,j=1,F=2,R=3,D=4,q=5,X=6,U=7,G=8,H=9,Y=10,Z=11,J=12,K=13,te=14,re=15,ne=16,ie={};for(i("Reading problem data"),null==r&&(r={}),ie.Ka=e,ie.p=r,ie.Qg=n,ie.count=0,ie.l="\n",ie.b=z,ie.h="",ie.value=0,ie.K=100,ie.Z=new Int32Array(1+ie.K),ie.j=new Float64Array(1+ie.K),ie.ba=new Int8Array(1+ie.K),s(ie.ba,1,0,ie.K),ie.c=new Float64Array(1+ie.K),ie.d=new Float64Array(1+ie.K),B(e),W(e),p(ie),ie.b!=j&&ie.b!=F&&a(ie,"`minimize' or `maximize' keyword missing"),function(e){var t,r;for(e.b==j?N(e.Ka,Zt):e.b==F&&N(e.Ka,Jt),p(e),e.b==H&&":"==e.l?(M(e.Ka,e.h),p(e),p(e)):M(e.Ka,"obj"),r=b(e),t=1;t<=r;t++)C(e.Ka,e.Z[t],e.j[t])}(ie),ie.b!=R&&a(ie,"constraints section missing"),function(e){var t,r,n;for(p(e);t=_(e.Ka,1),e.b==H&&":"==e.l?(0!=Q(e.Ka,e.h)&&a(e,"constraint `"+e.h+"' multiply defined"),E(e.Ka,t,e.h),p(e),p(e)):E(e.Ka,t,"r."+e.count),r=b(e),L(e.Ka,t,r,e.Z,e.j),e.b==te?(n=tr,p(e)):e.b==re?(n=er,p(e)):e.b==ne?(n=nr,p(e)):a(e,"missing constraint sense"),e.b==Z?(r=1,p(e)):e.b==J?(r=-1,p(e)):r=1,e.b!=Y&&a(e,"missing right-hand side"),k(e.Ka,t,n,r*e.value,r*e.value),"\n"!=e.l&&-1!=e.l&&a(e,"invalid symbol(s) beyond right-hand side"),p(e),e.b==Z||e.b==J||e.b==Y||e.b==H;);}(ie),ie.b==D&&function(e){var r,n,i,o;for(p(e);e.b==Z||e.b==J||e.b==Y||e.b==H;)e.b==Z||e.b==J?(n=1,o=e.b==Z?1:-1,p(e),e.b==Y?(i=o*e.value,p(e)):f(e.h,"infinity")||f(e.h,"inf")?(0<o&&a(e,"invalid use of `+inf' as lower bound"),i=-t,p(e)):a(e,"missing lower bound")):e.b==Y?(n=1,i=e.value,p(e)):n=0,n&&(e.b!=te&&a(e,"missing `<', `<=', or `=<' after lower bound"),p(e)),e.b!=H&&a(e,"missing variable name"),r=m(e,e.h),n&&y(e,r,i),p(e),e.b==te?(p(e),e.b==Z||e.b==J?(o=e.b==Z?1:-1,p(e),e.b==Y?(x(e,r,o*e.value),p(e)):f(e.h,"infinity")||f(e.h,"inf")?(0>o&&a(e,"invalid use of `-inf' as upper bound"),x(e,r,+t),p(e)):a(e,"missing upper bound")):e.b==Y?(x(e,r,e.value),p(e)):a(e,"missing upper bound")):e.b==re?(n&&a(e,"invalid bound definition"),p(e),e.b==Z||e.b==J?(o=e.b==Z?1:-1,p(e),e.b==Y?(y(e,r,o*e.value),p(e)):f(e.h,"infinity")||0==f(e.h,"inf")?(0<o&&a(e,"invalid use of `+inf' as lower bound"),y(e,r,-t),p(e)):a(e,"missing lower bound")):e.b==Y?(y(e,r,e.value),p(e)):a(e,"missing lower bound")):e.b==ne?(n&&a(e,"invalid bound definition"),p(e),e.b==Z||e.b==J?(o=e.b==Z?1:-1,p(e),e.b==Y?(y(e,r,o*e.value),x(e,r,o*e.value),p(e)):a(e,"missing fixed value")):e.b==Y?(y(e,r,e.value),x(e,r,e.value),p(e)):a(e,"missing fixed value")):f(e.h,"free")?(n&&a(e,"invalid bound definition"),y(e,r,-t),x(e,r,+t),p(e)):n||a(e,"invalid bound definition")}(ie);ie.b==q||ie.b==X||ie.b==U;)w(ie);for(ie.b==G?p(ie):ie.b==z?u(ie,"keyword `end' missing"):a(ie,"symbol "+ie.h+" in wrong position"),ie.b!=z&&a(ie,"extra symbol(s) detected beyond `end'"),r=1;r<=e.i;r++)(T=ie.c[r])==+t&&(T=0),(I=ie.d[r])==-t&&(I=+t),O(ie.Ka,r,n=T==-t&&I==+t?$t:I==+t?er:T==-t?tr:T!=I?rr:nr,T,I);return i(e.g+" row"+(1==e.g?"":"s")+", "+e.i+" column"+(1==e.i?"":"s")+", "+e.L+" non-zero"+(1==e.L?"":"s")),0<Ne(e)&&(r=Ne(e),n=_e(e),1==r?i(0==n?"One variable is integer":"One variable is binary"):(T=r+" integer variables, ",i((0==n?T+"none":1==n?T+"one":n==r?T+"all":T+n)+" of which "+(1==n?"is":"are")+" binary"))),i(ie.count+" lines were read"),ee(e),P(e),0};e.glp_write_lp=function(e,t,r){function n(e){if("."==e[0]||g(e[0]))return 1;for(var t=0;t<e.length;t++)if(!v(e[t])&&0>st.indexOf(e[t]))return 1;return 0}function a(e){for(var t=0;t<e.length;t++)" "==e[t]?e[t]="_":"-"==e[t]?e[t]="~":"["==e[t]?e[t]="(":"]"==e[t]&&(e[t]=")")}function o(e,t){var r;return null==(r=0==t?j(e.Ka):q(e.Ka,t))?0==t?"obj":"r_"+t:(a(r),n(r)?0==t?"obj":"r_"+t:r)}function s(e,t){var r=V(e.Ka,t);return null==r?"x_"+t:(a(r),n(r)?"x_"+t:r)}function u(){return r("End"),i(++m+" lines were written"),0}var l,c,f,p,m,h,d={};if(i("Writing problem data"),null==t&&(t={}),d.Ka=e,d.p=t,m=0,r("\\* Problem: "+(null==e.name?"Unknown":e.name)+" *\\"),m++,r(""),m++,!(0<e.g&&0<e.i))return i("Warning: problem has no rows/columns"),r("\\* WARNING: PROBLEM HAS NO ROWS/COLUMNS *\\"),m++,r(""),m++,u();for(e.dir==Zt?(r("Minimize"),m++):e.dir==Jt&&(r("Maximize"),m++),h=" "+(t=o(d,0))+":",c=0,f=1;f<=e.i;f++)(0!=(l=e.f[f]).u||null==l.k)&&(c++,t=s(d,f),72<h.length+(p=0==l.u?" + 0 "+t:1==l.u?" + "+t:-1==l.u?" - "+t:0<l.u?" + "+l.u+" "+t:" - "+-l.u+" "+t).length&&(r(h),h="",m++),h+=p);for(0==c&&(h+=p=" 0 "+s(d,1)),r(h),m++,0!=e.ha&&(r("\\* constant term = "+e.ha+" *\\"),m++),r(""),m++,r("Subject To"),m++,f=1;f<=e.g;f++)if((l=e.n[f]).type!=$t){for(h=" "+(t=o(d,f))+":",c=l.k;null!=c;c=c.B)t=s(d,c.f.C),72<h.length+(p=1==c.j?" + "+t:-1==c.j?" - "+t:0<c.j?" + "+c.j+" "+t:" - "+-c.j+" "+t).length&&(r(h),h="",m++),h+=p;l.type==rr?(72<h.length+(p=" - ~r_"+f).length&&(r(h),h="",m++),h+=p):null==l.k&&(h+=p=" 0 "+s(d,1)),l.type==er?p=" >= "+l.c:l.type==tr?p=" <= "+l.d:l.type!=rr&&l.type!=nr||(p=" = "+l.c),72<h.length+p.length&&(r(h),h="",m++),r(h+=p),m++}for(r(""),m++,p=0,f=1;f<=e.g;f++)(l=e.n[f]).type==rr&&(p||(r("Bounds"),p=1,m++),r(" 0 <= ~r_"+f+" <= "+(l.d-l.c)),m++);for(f=1;f<=e.i;f++)((l=e.f[f]).type!=er||0!=l.c)&&(p||(r("Bounds"),p=1,m++),t=s(d,f),l.type==$t?(r(" "+t+" free"),m++):l.type==er?(r(" "+t+" >= "+l.c),m++):l.type==tr?(r(" -Inf <= "+t+" <= "+l.d),m++):l.type==rr?(r(" "+l.c+" <= "+t+" <= "+l.d),m++):l.type==nr&&(r(" "+t+" = "+l.c),m++));for(p&&r(""),m++,p=0,f=1;f<=e.i;f++)(l=e.f[f]).kind!=Kt&&(p||(r("Generals"),p=1,m++),r(" "+s(d,f)),m++);return p&&(r(""),m++),u()},e.glp_read_lp_from_string=function(e,t,r){var n=0;return ut(e,t,function(){return n<r.length?r[n++]:-1})};var lt=1,ct=2,ft=3,pt=4,mt=5;function ht(e,t,r){var i,a,o,s=e.Pb,u=e.Ze,l=e.af,c=e.$e,f=e.ia.wb,p=e.ia.xb;if(e.valid||n("fhv_h_solve: the factorization is not valid"),t){for(t=s;1<=t;t--)if(0!=(o=r[e=u[t]]))for(a=(i=l[t])+c[t]-1;i<=a;i++)r[f[i]]-=p[i]*o}else for(t=1;t<=s;t++){for(o=r[e=u[t]],a=(i=l[t])+c[t]-1;i<=a;i++)o-=p[i]*r[f[i]];r[e]=o}}function dt(e){function r(e,t,r){var n=R(e);D(e);var i,a,o,s=0;if(0<t){for(o=J(e,i=+t,r,null),t=1;t<=o;t++)Ni(e,r[t],function(e){e!=Xn&&(r[++s]=n+r[t])});xi(e,i,function(e){e!=Xn&&(r[++s]=i)})}else o=function(t){t!=Xn&&(a<=n?r[++s]=a:s=K(e,a-n,r,null))},(a=-t)<=n?xi(e,a,o):Ni(e,a-n,o);return s}0==e.g||0==e.i?ue(e):function(e){var a,o,s,u,l,c,f,p=R(e),m=D(e),h=new Int32Array(1+p+m);if(i("Constructing initial basis..."),0==p||0==m)ue(e);else{for(u=function(e,t,r,i,a,o){var s,u,l,c,f,p,m,h,d,v,g,b,y,x,w=0;for(0<e&&0<t||n("triang: m = "+e+"; n = "+t+"; invalid dimension"),s=new Int32Array(1+(e>=t?e:t)),u=new Int32Array(1+e),l=new Int32Array(1+t),c=new Int32Array(1+e),f=new Int32Array(1+e),m=new Int32Array(1+t),h=new Int32Array(1+t),v=1;v<=t;v++)g=i(r,-v,s),m[v]=u[g],u[g]=v;for(g=p=0;g<=e;g++)for(v=u[g];0!=v;v=m[v])h[v]=p,p=v;for(g=0,v=p;0!=v;v=h[v])m[v]=g,g=v;for(d=1;d<=e;d++)u[d]=g=i(r,+d,s),c[d]=0,f[d]=l[g],0!=f[d]&&(c[f[d]]=d),l[g]=d;for(d=1;d<=e;d++)a[d]=0;for(v=1;v<=t;v++)o[v]=0;for(b=1,y=t;b<=y;){if(0!=(d=l[1])){for(v=0,x=i(r,+d,s);1<=x;x--)0==o[g=s[x]]&&(v=g);a[d]=o[v]=b,b++,w++}else o[v=p]=y,y--;for(0==m[v]?p=h[v]:h[m[v]]=h[v],0!=h[v]&&(m[h[v]]=m[v]),x=i(r,-v,s);1<=x;x--)g=u[d=s[x]],0==c[d]?l[g]=f[d]:f[c[d]]=f[d],0!=f[d]&&(c[f[d]]=c[d]),u[d]=--g,c[d]=0,f[d]=l[g],0!=f[d]&&(c[f[d]]=d),l[g]=d}for(d=1;d<=e;d++)0==a[d]&&(a[d]=b++);for(v=1;v<=t;v++);for(c=1;c<=e;c++)u[c]=0;for(d=1;d<=e;d++)u[c=a[d]]=d;for(g=1;g<=t;g++)l[g]=0;for(v=1;v<=t;v++)l[g=o[v]]=v;for(c=1;c<=w;c++)for(x=i(r,+(d=u[c]),s);1<=x;x--);return w}(p,p+m,e,r,l=new Int32Array(1+p),o=new Int32Array(1+p+m)),3<=function(e){var r,i=Wn;null==e.ke&&(e.ke={},(r=e.ke).o=3,r.scale=1,r.J=0,r.mh=1,r.yh=.07,r.Gb=1e-7,r.tb=1e-7,r.xe=1e-9,r.round=0,r.hf=-t,r.jf=+t,r.oc=-1,r.sb=-1,r.bc=200,r.fb=0,r.Og=2,r.Pg=3,r.Ub=1e-5,r.we=1e-7,r.Xg=1,r.Yg=2,r.Zg=0,r.ah=1,r.Wg=0,r.$g=0,r.Vg=0,r.lh=0,r.sd=0,r.wh=0,r.ce=0),r=e.ke;var a=0;switch(i){case Wn:a=r.o;break;case Qn:a=r.scale;break;case $n:a=r.J;break;case ei:a=r.mh;break;case ti:a=r.round;break;case ri:a=r.oc;break;case ni:a=e.$;break;case ii:a=r.bc;break;case ai:a=r.Og;break;case oi:a=r.Pg;break;case si:a=r.Xg;break;case ui:a=r.Yg;break;case li:a=r.Zg;break;case ci:a=r.ah;break;case fi:a=r.Wg;break;case pi:a=r.$g;break;case mi:a=r.Vg;break;case hi:a=r.lh;break;case di:a=r.sd;break;case vi:a=r.wh;break;case gi:switch(Ce(e,i={}),i.type){case Nr:a=1;break;case _r:a=2;break;case Ar:a=3}break;default:n("lpx_get_int_parm: parm = "+i+"; invalid parameter")}return a}(e)&&i("Size of triangular part = "+u),c=new Int32Array(1+p),f=new Int32Array(1+p+m),a=1;a<=p;a++)c[l[a]]=a;for(a=1;a<=p+m;a++)f[o[a]]=a;for(s=1;s<=p+m;s++)h[s]=-1;for(o=1;o<=u;o++)h[a=f[o]]=Un;for(o=u+1;o<=p;o++)h[a=c[o]]=Un;for(s=1;s<=p+m;s++)h[s]!=Un&&(u=function(e,t,r){switch(e){case Rn:h[s]=Yn;break;case Dn:h[s]=Gn;break;case qn:h[s]=Hn;break;case Vn:h[s]=Math.abs(t)<=Math.abs(r)?Gn:Hn;break;case Xn:h[s]=Zn}},s<=p?xi(e,s,u):Ni(e,s-p,u));for(s=1;s<=p+m;s++)s<=p?oe(e,s,h[s]-Un+ir):se(e,s-p,h[s]-Un+ir)}}(e)}function vt(e,r){var n,i;if(0==e.Sc)for(i=e.ya,e.fe=0==(n=e.fe)?20:n+n,e.ya=Array(1+e.fe),u(e.ya,0,1+e.fe),null!=i&&o(e.ya,1,i,1,n),i=e.fe;i>n;i--)e.ya[i].rb=null,e.ya[i].e=e.Sc,e.Sc=i;return e.Sc=e.ya[i=e.Sc].e,e.ya[i].e=0,e.ya[n=i].rb=i={},i.s=n,i.R=r,i.La=null==r?0:r.La+1,i.count=0,i.Na=null,i.zc=null,i.ec=null,i.eg=0,i.rc=null==r?e.A.dir==Zt?-t:+t:r.rc,i.bound=null==r?e.A.dir==Zt?-t:+t:r.bound,i.Tc=0,i.tg=0,i.Ag=0,i.Zc=0,i.Rd=0,i.data=0==e.p.Me?null:{},i.ja=null,i.ca=e.Xa,i.e=null,null==e.head?e.head=i:e.Xa.e=i,e.Xa=i,e.Pd++,e.Zf++,e.Jg++,null!=r&&r.count++,i}function gt(e,t){var r,n,i,a,o=e.A;if(e.N=r=e.ya[t].rb,r!=(n=e.ya[1].rb)){for(r.ja=null;null!=r;r=r.R)null!=r.R&&(r.R.ja=r);for(r=n;null!=r;r=r.ja){var s,u,l=o.g;if(n=o.i,null==r.ja){for(e.Fg=l,e.Gg<l+n&&(e.Gg=i=l+n+100,e.qf=new Int8Array(1+i),e.of=new Float64Array(1+i),e.rf=new Float64Array(1+i),e.pf=new Int8Array(1+i)),i=1;i<=l;i++)e.qf[i]=(a=o.n[i]).type,e.of[i]=a.c,e.rf[i]=a.d,e.pf[i]=a.m;for(i=1;i<=n;i++)e.qf[o.g+i]=(a=o.f[i]).type,e.of[o.g+i]=a.c,e.rf[o.g+i]=a.d,e.pf[o.g+i]=a.m}for(i=r.Na;null!=i;i=i.e)i.pc<=l?k(o,i.pc,i.type,i.c,i.d):O(o,i.pc-l,i.type,i.c,i.d);for(i=r.zc;null!=i;i=i.e)i.pc<=l?oe(o,i.pc,i.m):se(o,i.pc-l,i.m);if(null!=r.ec)for(l=new Int32Array(1+n),u=new Float64Array(1+n),n=r.ec;null!=n;n=n.e){for(i=_(o,1),E(o,i,n.name),o.n[i].La=r.La,o.n[i].origin=n.origin,o.n[i].qc=n.qc,k(o,i,n.type,n.c,n.d),s=0,a=n.k;null!=a;a=a.e)l[++s]=a.C,u[s]=a.j;L(o,i,s,l,u),te(o,i,n.ma),oe(o,i,n.m)}}for(r=e.N;null!=r.Na;)r.Na=(i=r.Na).e;for(;null!=r.zc;)r.zc=(i=r.zc).e;for(;null!=r.ec;)for(r.ec=(n=r.ec).e;null!=n.k;)n.k=(a=n.k).e}}function bt(e){var t,r,n,i=e.A,a=i.g,o=i.i,s=e.N;if(null==s.R)for(e.Ig=a,e.se=new Int8Array(1+a+o),e.qe=new Float64Array(1+a+o),e.te=new Float64Array(1+a+o),e.re=new Int8Array(1+a+o),t=1;t<=a+o;t++)e.se[t]=(n=t<=a?i.n[t]:i.f[t-a]).type,e.qe[t]=n.c,e.te[t]=n.d,e.re[t]=n.m;else{var u=e.Ig,l=e.Fg;for(t=1;t<=l+o;t++){var c,f,p,m,h;p=e.of[t],r=e.pf[t],f=(n=t<=l?i.n[t]:i.f[t-l]).type,m=n.c,h=n.d,n=n.m,(c=e.qf[t])==f&&p==m&&e.rf[t]==h||((c={}).pc=t,c.type=f,c.c=m,c.d=h,c.e=s.Na,s.Na=c),r!=n&&((r={}).pc=t,r.m=n,r.e=s.zc,s.zc=r)}if(l<a)for(f=new Int32Array(1+o),m=new Float64Array(1+o),r=a;r>l;r--){for(n=i.n[r],h={},t=q(i,r),h.name=null==t?null:t,h.type=n.type,h.c=n.c,h.d=n.d,h.k=null,c=J(i,r,f,m),t=1;t<=c;t++)(p={}).C=f[t],p.j=m[t],p.e=h.k,h.k=p;h.ma=n.ma,h.m=n.m,h.e=s.ec,s.ec=h}if(a!=u){for(a-=u,s=new Int32Array(1+a),r=1;r<=a;r++)s[r]=u+r;I(i,a,s)}for(a=i.g,r=1;r<=a;r++)k(i,r,e.se[r],e.qe[r],e.te[r]),oe(i,r,e.re[r]);for(u=1;u<=o;u++)O(i,u,e.se[a+u],e.qe[a+u],e.te[a+u]),se(i,u,e.re[a+u])}e.N=null}function yt(e,t){var r;for(null==(r=e.ya[t].rb).ca?e.head=r.e:r.ca.e=r.e,null==r.e?e.Xa=r.ca:r.e.ca=r.ca,r.ca=r.e=null,e.Pd--;;){for(var n;null!=r.Na;)r.Na=(n=r.Na).e;for(;null!=r.zc;)r.zc=(n=r.zc).e;for(;null!=r.ec;){for((n=r.ec).name=null;null!=n.k;)n.k=n.k.e;r.ec=n.e}if(e.ya[t=r.s].rb=null,e.ya[t].e=e.Sc,e.Sc=t,r=r.R,e.Zf--,null==r||(r.count--,0!=r.count))break}}function xt(e,r){var n,i,a,o,s=e.A,u=s.i,l=e.Bg;for(a=0,o=s.ha,n=0,i=1;i<=u;i++){var c=s.f[i];if(0!=c.u)if(c.type==nr)o+=c.u*c.r;else{if(c.kind!=Wt||c.u!=Math.floor(c.u))return r;2147483647>=Math.abs(c.u)?l[++a]=0|Math.abs(c.u):n=1}}if(0==n){if(0==a)return r;for(u=0,n=1;n<=a;n++){if(1==n)u=l[1];else for(i=l[n],c=void 0;0<i;)c=u%i,u=i,i=c;if(1==u)break}n=u}return s.dir==Zt?r!=+t&&(s=(r-o)/n)>=Math.floor(s)+.001&&(r=n*(s=Math.ceil(s))+o):s.dir==Jt&&r!=-t&&(s=(r-o)/n)<=Math.ceil(s)-.001&&(r=n*(s=Math.floor(s))+o),r}function wt(e,r){var n,i=e.A,a=1;if(i.za==br)switch(n=e.p.we*(1+Math.abs(i.ta)),i.dir){case Zt:r>=i.ta-n&&(a=0);break;case Jt:r<=i.ta+n&&(a=0)}else switch(i.dir){case Zt:r==+t&&(a=0);break;case Jt:r==-t&&(a=0)}return a}function Mt(e){var t=null;switch(e.A.dir){case Zt:for(e=e.head;null!=e;e=e.e)(null==t||t.bound>e.bound)&&(t=e);break;case Jt:for(e=e.head;null!=e;e=e.e)(null==t||t.bound<e.bound)&&(t=e)}return null==t?0:t.s}var Nt=e.glp_ios_relative_gap=function(e){var r,n=e.A;return n.za==br?(n=n.ta,0==(r=Mt(e))?e=0:(e=e.ya[r].rb.bound,e=Math.abs(n-e)/(Math.abs(n)+2220446049250313e-31))):e=t,e};function _t(e){var t=e.A,r=new ce;switch(e.p.o){case Er:r.o=Er;break;case Sr:r.o=Sr;break;case kr:case Or:r.o=kr;break;case Cr:r.o=Or}if(r.cb=Tr,r.fb=e.p.o<Cr?e.p.fb:0,t.za==br)switch(e.A.dir){case Zt:r.jf=t.ta;break;case Jt:r.hf=t.ta}return t=le(t,r),e.N.eg++,t}function At(e){for(;null!=e.head;){var t=e.head;for(e.head=t.e;null!=t.k;)t.k=t.k.e}e.size=0,e.head=e.Xa=null,e.fh=0,e.N=null}function Et(e,r){function n(e,r,n,i,a){var o,s,u;for(s=u=0,o=1;o<=e;o++)if(0<r[o])if(n[o]==-t){if(0!=s){u=-t,s=0;break}s=o}else u+=r[o]*n[o];else if(0>r[o])if(i[o]==+t){if(0!=s){u=-t,s=0;break}s=o}else u+=r[o]*i[o];for(a.Wd=u,a.Uf=s,s=u=0,o=1;o<=e;o++)if(0<r[o])if(i[o]==+t){if(0!=s){u=+t,s=0;break}s=o}else u+=r[o]*i[o];else if(0>r[o])if(n[o]==-t){if(0!=s){u=+t,s=0;break}s=o}else u+=r[o]*n[o];a.Vd=u,a.Tf=s}function i(e,r,n,i,a){var o=r[n],s=i[a],u=null,l=null;return function(e,r){!function(e,t){u=e,l=t}(0==e.Uf?e.Wd:-t,0==e.Tf?e.Vd:+t)}(e),o!=-t&&(e=.001*(1+Math.abs(o)),l<o-e)||s!=+t&&(e=.001*(1+Math.abs(s)),u>s+e)?1:(o!=-t&&(e=1e-12*(1+Math.abs(o)),u>o-e&&(r[n]=-t)),s!=+t&&(e=1e-12*(1+Math.abs(s)),l<s+e&&(i[a]=+t)),0)}function a(e,r,n,i,a,o,s,u,l){var c,f,p=null,m=null;return c=a[u],f=o[u],function(e,r,n,i,a,o,s,u){var l,c,f,h;n==-t||e.Vd==+t?l=-t:0==e.Tf?0<r[s]?l=n-(e.Vd-r[s]*o[s]):0>r[s]&&(l=n-(e.Vd-r[s]*a[s])):l=e.Tf==s?n-e.Vd:-t,i==+t||e.Wd==-t?c=+t:0==e.Uf?0<r[s]?c=i-(e.Wd-r[s]*a[s]):0>r[s]&&(c=i-(e.Wd-r[s]*o[s])):c=e.Uf==s?i-e.Wd:+t,1e-6>Math.abs(r[s])?(f=-t,h=+t):0<r[s]?(f=l==-t?-t:l/r[s],h=c==+t?+t:c/r[s]):0>r[s]&&(f=c==+t?-t:c/r[s],h=l==-t?+t:l/r[s]),p=f,m=h}(e,r,n,i,a,o,u),s&&(p!=-t&&(p=.001>p-Math.floor(p)?Math.floor(p):Math.ceil(p)),m!=+t&&(m=.001>Math.ceil(m)-m?Math.ceil(m):Math.floor(m))),c!=-t&&(e=.001*(1+Math.abs(c)),m<c-e)||f!=+t&&(e=.001*(1+Math.abs(f)),p>f+e)?1:(p!=-t&&(e=.001*(1+Math.abs(p)),c<p-e&&(c=p)),m!=+t&&(e=.001*(1+Math.abs(m)),f>m+e&&(f=m)),c!=-t&&f!=+t&&c>f-1e-10*(1+((e=Math.abs(c))<=(r=Math.abs(f))?e:r))&&(c==a[u]?f=c:f==o[u]?c=f:e<=r?f=c:c=f),l(c,f),0)}function o(e,r,n,i,a){var o=0;return r<i&&(e||r==-t?o++:i-r>=.25*(n==+t?1+Math.abs(r):n-r+1)&&o++),n>a&&(e||n==+t?o++:n-a>=.25*(r==-t?1+Math.abs(n):n-r+1)&&o++),o}var s,u,l,c,f,p,m,h=e.A,d=h.g,v=h.i;switch(c=new Float64Array(1+d),f=new Float64Array(1+d),h.za){case gr:c[0]=-t,f[0]=+t;break;case br:switch(h.dir){case Zt:c[0]=-t,f[0]=h.ta-h.ha;break;case Jt:c[0]=h.ta-h.ha,f[0]=+t}}for(s=1;s<=d;s++)c[s]=U(h,s),f[s]=G(h,s);for(p=new Float64Array(1+v),m=new Float64Array(1+v),s=1;s<=v;s++)p[s]=Y(h,s),m[s]=Z(h,s);for(u=d+1,l=new Int32Array(1+u),s=1;s<=u;s++)l[s]=s-1;if(function(e,r,s,u,l,c,f,p){var m,h,d,v,g,b,y,x,w,M,N=e.g,_=e.i,A={},E=0;for(d=new Int32Array(1+_),v=new Int32Array(1+N+1),g=new Int32Array(1+N+1),b=new Int32Array(1+N+1),y=new Float64Array(1+_),x=new Float64Array(1+_),w=new Float64Array(1+_),h=0,m=1;m<=c;m++)v[++h]=N=f[m],g[N]=1;for(;0<h;)if(g[N=v[h--]]=0,b[N]++,r[N]!=-t||s[N]!=+t){if(c=0,0==N)for(f=1;f<=_;f++)0!=(M=e.f[f]).u&&(d[++c]=f,y[c]=M.u);else for(f=e.n[N].k;null!=f;f=f.B)d[++c]=f.f.C,y[c]=f.j;for(m=1;m<=c;m++)x[m]=u[f=d[m]],w[m]=l[f];if(n(c,y,x,w,A),i(A,r,N,s,N)){E=1;break}if(r[N]!=-t||s[N]!=+t)for(m=1;m<=c;m++){var S,k=null,O=null;if(a(A,y,r[N],s[N],x,w,S=(M=e.f[f=d[m]]).kind!=Kt,m,function(e,t){k=e,O=t}))return 1;if(S=o(S,u[f],l[f],k,O),u[f]=k,l[f]=O,0<S)for(f=M.k;null!=f;f=f.I)b[M=f.n.ea]>=p||r[M]==-t&&s[M]==+t||0!=g[M]||(v[++h]=M,g[M]=1)}}return E}(h,c,f,p,m,u,l,r))return 1;for(s=1;s<=d;s++)de(h,s)==ir&&(c[s]==-t&&f[s]==+t?k(h,s,$t,0,0):f[s]==+t?k(h,s,er,c[s],0):c[s]==-t&&k(h,s,tr,0,f[s]));for(s=1;s<=v;s++)O(h,s,p[s]==-t&&m[s]==+t?$t:m[s]==+t?er:p[s]==-t?tr:p[s]!=m[s]?rr:nr,p[s],m[s]);return 0}function St(e){var t;return(t={}).i=e,t.L=0,t.Ja=new Int32Array(1+e),t.Z=new Int32Array(1+e),t.j=new Float64Array(1+e),t}function kt(e,t,r){var n=e.Ja[t];0==r?0!=n&&(e.Ja[t]=0,n<e.L&&(e.Ja[e.Z[e.L]]=n,e.Z[n]=e.Z[e.L],e.j[n]=e.j[e.L]),e.L--):(0==n&&(n=++e.L,e.Ja[t]=n,e.Z[n]=t),e.j[n]=r)}function Ot(e){for(var t=1;t<=e.L;t++)e.Ja[e.Z[t]]=0;e.L=0}function Ct(e,t){for(var r=0,n=1;n<=e.L;n++)0==Math.abs(e.j[n])||Math.abs(e.j[n])<t?e.Ja[e.Z[n]]=0:(e.Ja[e.Z[n]]=++r,e.Z[r]=e.Z[n],e.j[r]=e.j[n]);e.L=r}function Lt(e,t){Ot(e),e.L=t.L,o(e.Z,1,t.Z,1,e.L),o(e.j,1,t.j,1,e.L);for(var r=1;r<=e.L;r++)e.Ja[e.Z[r]]=r}var Tt=0,Pt=5,It=0,zt=1,Bt=2;function jt(e){var r,n=(a=e.A).g,a=a.i;return Tt&&i("ios_mir_init: warning: debug mode enabled"),(r={}).g=n,r.i=a,r.Eb=new Int8Array(1+n),r.ab=new Int8Array(1+n+a),r.c=new Float64Array(1+n+a),r.Yb=new Int32Array(1+n+a),r.d=new Float64Array(1+n+a),r.zb=new Int32Array(1+n+a),r.x=new Float64Array(1+n+a),r.Ef=new Int32Array(1+Pt),r.Ya=St(n+a),r.lb=new Int8Array(1+n+a),r.oa=St(n+a),r.G=St(n+a),function(e,r){var n,i=e.A,a=r.g;for(n=1;n<=a;n++){var o=i.n[n];switch(r.Eb[n]=0,r.ab[n]=0,o.type){case $t:r.c[n]=-t,r.d[n]=+t;break;case er:r.c[n]=o.c,r.d[n]=+t;break;case tr:r.c[n]=-t,r.d[n]=o.d;break;case rr:r.c[n]=o.c,r.d[n]=o.d;break;case nr:r.c[n]=r.d[n]=o.c}r.Yb[n]=r.zb[n]=0}}(e,r),function(e,r){var n,i=e.A,a=r.g,o=r.i;for(n=a+1;n<=a+o;n++){var s=i.f[n-a];switch(s.kind){case Kt:r.ab[n]=0;break;case Wt:r.ab[n]=1}switch(s.type){case $t:r.c[n]=-t,r.d[n]=+t;break;case er:r.c[n]=s.c,r.d[n]=+t;break;case tr:r.c[n]=-t,r.d[n]=s.d;break;case rr:r.c[n]=s.c,r.d[n]=s.d;break;case nr:r.c[n]=r.d[n]=s.c}r.Yb[n]=r.zb[n]=0}}(e,r),function(e,r){var n,i,a,o,s,u,l=e.A,c=r.g;for(i=1;i<=c;i++)if((0==r.c[i]&&r.d[i]==+t||r.c[i]==-t&&0==r.d[i])&&null!=(n=l.n[i].k)&&(a=c+n.f.C,s=n.j,null!=(n=n.B)&&(o=c+n.f.C,u=n.j,null==n.B))){if(r.ab[a]||!r.ab[o]){if(!r.ab[a]||r.ab[o])continue;o=a,u=s,a=c+n.f.C,s=n.j}r.c[o]!=-t&&r.d[o]!=+t&&r.c[o]!=r.d[o]&&(0==r.d[i]&&(s=-s,u=-u),0<s?0==r.Yb[a]&&(r.c[a]=-u/s,r.Yb[a]=o,r.Eb[i]=1):0==r.zb[a]&&(r.d[a]=-u/s,r.zb[a]=o,r.Eb[i]=1))}}(e,r),function(e,r){var n,i,a,o,s=e.A,u=r.g;for(i=1;i<=u;i++)if(r.c[i]==-t&&r.d[i]==+t)r.Eb[i]=1;else{for(o=0,n=s.n[i].k;null!=n;n=n.B){if(r.c[a=u+n.f.C]==-t&&r.d[a]==+t){r.Eb[i]=1;break}if(r.ab[a]&&r.c[a]==-t||r.ab[a]&&r.d[a]==+t){r.Eb[i]=1;break}0==r.Yb[a]&&0==r.zb[a]&&r.c[a]==r.d[a]||o++}0==o&&(r.Eb[i]=1)}}(e,r),r}function Ft(e){function r(e,r){var n;switch(X(e,r)-$t+Rn){case Rn:case qn:n=-t;break;case Dn:case Vn:case Xn:n=bi(e,r)}return n}function n(e,r){var n;switch(X(e,r)-$t+Rn){case Rn:case Dn:n=+t;break;case qn:case Vn:case Xn:n=yi(e,r)}return n}function a(e,r){var n;switch(H(e,r)-$t+Rn){case Rn:case qn:n=-t;break;case Dn:case Vn:case Xn:n=wi(e,r)}return n}function o(e,r){var n;switch(H(e,r)-$t+Rn){case Rn:case Dn:n=+t;break;case qn:case Vn:case Xn:n=Mi(e,r)}return n}function s(e,t){return(Me(e,t)==Kt?Jn:Kn)==Kn&&H(e,t)-$t+Rn==Vn&&0==wi(e,t)&&1==Mi(e,t)}function u(e,r,n,i){var s,u,l;for(l=0,u=1;u<=r;u++)if(s=n[u],0<i[u]){if((s=a(e,s))==-t){l=-t;break}l+=i[u]*s}else if(0>i[u]){if((s=o(e,s))==+t){l=-t;break}l+=i[u]*s}return l}function l(e,r,n,i){var s,u,l;for(l=0,u=1;u<=r;u++)if(s=n[u],0<i[u]){if((s=o(e,s))==+t){l=+t;break}l+=i[u]*s}else if(0>i[u]){if((s=a(e,s))==-t){l=+t;break}l+=i[u]*s}return l}function c(e,r,n,i,a,o,s,u){return r!=-t&&s&&(r-=e[o]),n!=+t&&s&&(n-=e[o]),i!=-t&&(0>e[o]&&(i-=e[o]),0>e[u]&&(i-=e[u])),a!=+t&&(0<e[o]&&(a-=e[o]),0<e[u]&&(a-=e[u])),.001<(o=0<e[u]?r==-t||a==+t?-t:(r-a)/e[u]:n==+t||i==-t?-t:(n-i)/e[u])?2:.999>(o=0<e[u]?n==+t||i==-t?+t:(n-i)/e[u]:r==-t||a==+t?+t:(r-a)/e[u])?1:0}var f,p,m,h,d,v,g,b,y,x,w,M,N,_,A,E,S=null;for(i("Creating the conflict graph..."),f=R(e),p=D(e),m=0,x=new Int32Array(1+p),w=new Int32Array(1+p),y=new Int32Array(1+p),E=new Float64Array(1+p),h=1;h<=f;h++)if(M=r(e,h),N=n(e,h),!(M==-t&&N==+t||(b=J(e,h,y,E),500<b)))for(_=u(e,b,y,E),A=l(e,b,y,E),v=1;v<=b;v++)if(s(e,y[v]))for(g=v+1;g<=b;g++)s(e,y[g])&&(c(E,M,N,_,A,v,0,g)||c(E,M,N,_,A,v,1,g))&&(0==x[d=y[v]]&&(x[d]=++m,w[m]=d),0==x[d=y[g]]&&(x[d]=++m,w[m]=d));if(0==m||4e3<m)return i("The conflict graph is either empty or too big"),S;for((S={}).i=p,S.Cb=m,S.Dg=0,S.yf=x,S.ge=w,b=((b=m+m)*(b-1)/2+0)/1,S.Jc=Array(b),d=1;d<=m;d++)Rt(S,+w[d],-w[d]);for(h=1;h<=f;h++)if(M=r(e,h),N=n(e,h),!(M==-t&&N==+t||(b=J(e,h,y,E),500<b)))for(_=u(e,b,y,E),A=l(e,b,y,E),v=1;v<=b;v++)if(s(e,y[v]))for(g=v+1;g<=b;g++)if(s(e,y[g])){switch(c(E,M,N,_,A,v,0,g)){case 1:Rt(S,-y[v],+y[g]);break;case 2:Rt(S,-y[v],-y[g])}switch(c(E,M,N,_,A,v,1,g)){case 1:Rt(S,+y[v],+y[g]);break;case 2:Rt(S,+y[v],-y[g])}}return i("The conflict graph has 2*"+S.Cb+" vertices and "+S.Dg+" edges"),S}function Rt(e,t,r){var n;0<t?t=e.yf[t]:(t=e.yf[-t],t+=e.Cb),0<r?r=e.yf[r]:(r=e.yf[-r],r+=e.Cb),t<r&&(n=t,t=r,r=n),e.Jc[(n=(t-1)*(t-2)/2+(r-1))/1]|=1<<0-n%1,e.Dg++}function Dt(e,r){var n;if(e.p.Jb==Fr){var a,o;for(a=1;a<=e.i&&!e.ad[a];a++);r((o=ye(e.A,a))-Math.floor(o)<Math.ceil(o)-o?mn:hn),n=a}else if(e.p.Jb==Rr){for(a=e.i;1<=a&&!e.ad[a];a--);r((o=ye(e.A,a))-Math.floor(o)<Math.ceil(o)-o?mn:hn),n=a}else if(e.p.Jb==Dr)n=qt(e,r);else if(e.p.Jb==qr){var s,u,f,p,m,h,d,v,g,b,y,w,M,N,_=(n=e.A).g,A=n.i,E=e.ad;for(fe(n),d=new Int32Array(1+A),N=new Float64Array(1+A),u=0,M=-1,s=1;s<=A;s++)if(E[s]){for(v=ye(n,s),h=Fe(n,_+s,d,N),m=-1;1>=m;m+=2){if(0!=(f=Ve(n,h,d,N,m,1e-9))&&(f=d[f]),0==f)f=e.A.dir==Zt?+t:-t;else{for(p=1;p<=h&&d[p]!=f;p++);switch(p=N[p],g=(0>m?Math.floor(v):Math.ceil(v))-v,g/=p,f>_&&Me(n,f-_)!=Kt&&.001<Math.abs(g-Math.floor(g+.5))&&(g=0<g?Math.ceil(g):Math.floor(g)),f<=_?(p=de(n,f),f=ge(n,f)):(p=be(n,f-_),f=xe(n,f-_)),e.A.dir){case Zt:(p==ar&&0>f||p==or&&0<f||p==sr)&&(f=0);break;case Jt:(p==ar&&0<f||p==or&&0>f||p==sr)&&(f=0)}f*=g}0>m?o=f:b=f}if((M<Math.abs(o)||M<Math.abs(b))&&(u=s,Math.abs(o)<Math.abs(b)?(a=mn,M=Math.abs(b)):(a=hn,M=Math.abs(o)),y=o,w=b,M==t))break}M<1e-6*(1+.001*Math.abs(n.aa))?u=qt(e,r):(e.p.o>=Cr&&(i("branch_drtom: column "+u+" chosen to branch on"),Math.abs(y)==t?i("branch_drtom: down-branch is infeasible"):i("branch_drtom: down-branch bound is "+(he(n)+y)),Math.abs(w)==t?i("branch_drtom: up-branch   is infeasible"):i("branch_drtom: up-branch   bound is "+(he(n)+w))),r(a)),n=u}else e.p.Jb==Vr&&(n=function(e,r){function n(e,r,n){var i,a;return fe(e),i=x(),z(i,e,0),O(i,r,nr,n,n),(r=new ce).o=Er,r.cb=Pr,r.oc=30,r.fb=1e3,r.cb=Pr,0==(r=le(i,r))||r==Mn?pe(i)==xr?a=t:me(i)==br?(e.dir==Zt?a=i.aa-e.aa:e.dir==Jt&&(a=e.aa-i.aa),a<1e-6*(1+.001*Math.abs(e.aa))&&(a=0)):a=0:a=0,a}function a(e,r,i){var a,o=e.Fd;if(i==mn){if(0==o.yd[r]){if(i=e.A.f[r].r,(e=n(e.A,r,Math.floor(i)))==t)return t;o.yd[r]=1,o.Ud[r]=e/(i-Math.floor(i))}a=o.Ud[r]/o.yd[r]}else if(i==hn){if(0==o.Id[r]){if(i=e.A.f[r].r,(e=n(e.A,r,Math.ceil(i)))==t)return t;o.Id[r]=1,o.ye[r]=e/(Math.ceil(i)-i)}a=o.ye[r]/o.Id[r]}return a}function o(e){var t,r=e.Fd,n=0,a=0;for(t=1;t<=e.i;t++)He(e,t)&&(n++,0<r.yd[t]&&0<r.Id[t]&&a++);i("Pseudocosts initialized for "+a+" of "+n+" variables")}var s,u,f,p,m,h,d,v=l();for(null==e.Fd&&(e.Fd=function(e){e=e.i;var t,r={};for(r.yd=new Int32Array(1+e),r.Ud=new Float64Array(1+e),r.Id=new Int32Array(1+e),r.ye=new Float64Array(1+e),t=1;t<=e;t++)r.yd[t]=r.Id[t]=0,r.Ud[t]=r.ye[t]=0;return r}(e)),u=0,d=-1,s=1;s<=e.i;s++)if(He(e,s)){if(p=e.A.f[s].r,(m=a(e,s,mn))==t)return u=s,r(f=mn),u;if(h=m*(p-Math.floor(p)),(m=a(e,s,hn))==t)return u=s,r(f=hn),u;d<(m=h>(p=m*(Math.ceil(p)-p))?h:p)&&(d=m,u=s,f=h<=p?mn:hn),e.p.o>=rn&&10<=c(v)&&(o(e),v=l())}return 0==d?u=qt(e,r):(r(f),u)}(e,r));return n}function qt(e,r){var n,i,a,o,s,u;for(i=0,s=t,n=1;n<=e.i;n++)e.ad[n]&&(o=ye(e.A,n),u=Math.floor(o)+.5,s>Math.abs(o-u)&&(i=n,s=Math.abs(o-u),a=o<u?mn:hn));return r(a),i}function Vt(e){var t,r,n=e.Fd;null!=e.N.R&&(r=e.A.f[t=e.N.R.Tc].r-e.N.R.tg,e=e.A.aa-e.N.R.rc,e=Math.abs(e/r),0>r?(n.yd[t]++,n.Ud[t]+=e):(n.Id[t]++,n.ye[t]+=e))}function Xt(e){var r,n,a,o,s,l,p,m,h=e.A,d=h.i,v=null,g=null,b=null;for(o=0;;){var y=null;switch(o){case 0:if(fe(h),0!=e.N.La||1!=e.N.eg){y=5;break}for(p=0,a=1;a<=d;a++)if((r=h.f[a]).kind!=Kt&&r.type!=nr){if(r.type!=rr||0!=r.c||1!=r.d){e.p.o>=Or&&i("FPUMP heuristic cannot be applied due to general integer variables"),y=5;break}p++}if(null!=y)break;if(0==p){y=5;break}for(e.p.o>=Or&&i("Applying FPUMP heuristic..."),u(g=Array(1+p),1,p),o=0,a=1;a<=d;a++)(r=h.f[a]).kind==Wt&&r.type==rr&&(g[++o].C=a);v=x();case 1:if(z(v,h,nn),h.za==br){for(_(v,1),s=new Int32Array(1+d),l=new Float64Array(1+d),a=1;a<=d;a++)s[a]=a,l[a]=h.f[a].u;L(v,v.g,d,s,l),s=.1*h.aa+.9*h.ta,h.dir==Zt?k(v,v.g,tr,0,s-h.ha):h.dir==Jt&&k(v,v.g,er,s-h.ha,0)}for(l=0,o=1;o<=p;o++)g[o].x=-1;case 2:if(l++,e.p.o>=Or&&i("Pass "+l),m=t,s=0,1<l){for(null==b&&(b=fp()),o=1;o<=p;o++)r=v.f[a=g[o].C],0>(y=hp(b))&&(y=0),.5<(r=Math.abs(g[o].x-r.r))+y&&(g[o].x=1-g[o].x);y=4;break}case 3:for(o=n=1;o<=p;o++)g[o].x!=(r=.5>(r=v.f[g[o].C]).r?0:1)&&(n=0,g[o].x=r);if(n){for(o=1;o<=p;o++)r=v.f[g[o].C],g[o].Td=Math.abs(r.r-g[o].x);for(f(g,p,function(e,t){return e.Td>t.Td?-1:e.Td<t.Td?1:0}),o=1;o<=p&&!(5<=o&&.35>g[o].Td||10<=o);o++)g[o].x=1-g[o].x}case 4:if(2147483647>e.p.sb&&e.p.sb-1<=1e3*c(e.hc)){y=5;break}for(v.dir=Zt,v.ha=0,a=1;a<=d;a++)v.f[a].u=0;for(o=1;o<=p;o++)a=g[o].C,0==g[o].x?v.f[a].u=1:(v.f[a].u=-1,v.ha+=1);if(n=new ce,e.p.o<=Sr?n.o=e.p.o:e.p.o<=Or&&(n.o=kr,n.fb=1e4),0!=(o=le(v,n))){e.p.o>=Sr&&i("Warning: glp_simplex returned "+o),y=5;break}if((o=fe(v))!=wr){e.p.o>=Sr&&i("Warning: glp_get_status returned "+o),y=5;break}for(e.p.o>=Cr&&i("delta = "+v.aa),a=.3*e.p.Ub,o=1;o<=p&&!(a<(r=v.f[g[o].C]).r&&r.r<1-a);o++);if(o>p){for(r=new Float64Array(1+d),a=1;a<=d;a++)r[a]=v.f[a].r,h.f[a].kind==Wt&&(r[a]=Math.floor(r[a]+.5));for(v.ha=h.ha,v.dir=h.dir,o=1;o<=p;o++)v.f[g[o].C].c=r[g[o].C],v.f[g[o].C].d=r[g[o].C],v.f[g[o].C].type=nr;for(a=1;a<=d;a++)v.f[a].u=h.f[a].u;if(0!=(o=le(v,n))){e.p.o>=Sr&&i("Warning: glp_simplex returned "+o),y=5;break}if((o=fe(v))!=wr){e.p.o>=Sr&&i("Warning: glp_get_status returned "+o),y=5;break}for(a=1;a<=d;a++)h.f[a].kind!=Wt&&(r[a]=v.f[a].r);if(0==(o=Ye(e,r))){y=wt(e,e.N.bound)?1:5;break}}if(m==t||v.aa<=m-1e-6*(1+m)?(s=0,m=v.aa):s++,3>s){y=3;break}5>l&&(y=2)}if(null==y)break;o=y}}function Ut(e){function r(e,t,r){var n,i=0,a=0,o=0;for(n=e.k;null!=n;n=n.e)r[n.C]=n.j,a+=n.j*n.j;for(n=t.k;null!=n;n=n.e)i+=r[n.C]*n.j,o+=n.j*n.j;for(n=e.k;null!=n;n=n.e)r[n.C]=0;return 4930380657631324e-47>(e=Math.sqrt(a)*Math.sqrt(o))&&(e=2220446049250313e-31),i/e}var n,i,a,o,s,u,l,c,p,m;for(n=e.Bd,o=Array(1+n.size),c=new Int32Array(1+e.i),p=new Float64Array(1+e.i),m=new Float64Array(1+e.i),s=0,i=n.head;null!=i;i=i.e)o[++s].Re=i,o[s].ba=0;for(s=1;s<=n.size;s++){var h=null,d=null;for(u=l=0,a=(i=o[s].Re).k;null!=a;a=a.e)c[++l]=a.C,p[l]=a.j,u+=a.j*a.j;4930380657631324e-47>u&&(u=2220446049250313e-31),l=De(e.A,l,c,p),0==(i=Xe(e.A,l,c,p,i.type,i.cg,function(e,t,r,n,i,a){h=i,d=a}))?(o[s].Xc=Math.abs(h)/Math.sqrt(u),e.A.dir==Zt?(0>d&&(d=0),o[s].Ab=+d):(0<d&&(d=0),o[s].Ab=-d)):1==i?o[s].Xc=o[s].Ab=0:2==i&&(o[s].Xc=1,o[s].Ab=t),.01>o[s].Ab&&(o[s].Ab=0)}for(f(o,n.size,function(e,t){if(0==e.Ab&&0==t.Ab){if(e.Xc>t.Xc)return-1;if(e.Xc<t.Xc)return 1}else{if(e.Ab>t.Ab)return-1;if(e.Ab<t.Ab)return 1}return 0}),(u=0==e.N.La?90:10)>n.size&&(u=n.size),s=1;s<=u;s++)if(!(.01>o[s].Ab&&.01>o[s].Xc)){for(n=1;n<s&&!(o[n].ba&&.9<r(o[s].Re,o[n].Re,m));n++);if(!(n<s)){for(i=o[s].Re,o[s].ba=1,n=_(e.A,1),null!=i.name&&E(e.A,n,i.name),e.A.n[n].qc=i.qc,l=0,a=i.k;null!=a;a=a.e)c[++l]=a.C,p[l]=a.j;L(e.A,n,l,c,p),k(e.A,n,i.type,i.cg,i.cg)}}}function Gt(e){var r;return e.p.kc==Xr?r=e.Xa.s:e.p.kc==Ur?r=e.head.s:e.p.kc==Gr?r=function(e){var r,n,i,a=null;switch(e.A.dir){case Zt:for(n=+t,r=e.head;null!=r;r=r.e)n>r.bound&&(n=r.bound);for(i=.001*(1+Math.abs(n)),r=e.head;null!=r;r=r.e)r.bound<=n+i&&(null==a||a.R.Zc>r.R.Zc)&&(a=r);break;case Jt:for(n=-t,r=e.head;null!=r;r=r.e)n<r.bound&&(n=r.bound);for(i=.001*(1+Math.abs(n)),r=e.head;null!=r;r=r.e)r.bound>=n-i&&(null==a||a.rc<r.rc)&&(a=r)}return a.s}(e):e.p.kc==Hr&&(r=e.A.za==gr?function(e){var r,n;for(r=0,n=t,e=e.head;null!=e;e=e.e)n>e.R.Zc&&(r=e.s,n=e.R.Zc);return r}(e):function(e){var r,n,i,a,o;for(a=(e.A.ta-(r=e.ya[1].rb).bound)/r.Zc,n=0,i=t,r=e.head;null!=r;r=r.e)o=r.R.bound+a*r.R.Zc,e.A.dir==Jt&&(o=-o),i>o&&(n=r.s,i=o);return n}(e)),r}var Ht=e.GLP_MAJOR_VERSION=4,Yt=e.GLP_MINOR_VERSION=49,Zt=e.GLP_MIN=1,Jt=e.GLP_MAX=2,Kt=e.GLP_CV=1,Wt=e.GLP_IV=2,Qt=e.GLP_BV=3,$t=e.GLP_FR=1,er=e.GLP_LO=2,tr=e.GLP_UP=3,rr=e.GLP_DB=4,nr=e.GLP_FX=5,ir=e.GLP_BS=1,ar=e.GLP_NL=2,or=e.GLP_NU=3,sr=e.GLP_NF=4,ur=e.GLP_NS=5,lr=e.GLP_SF_GM=1,cr=e.GLP_SF_EQ=16,fr=e.GLP_SF_2N=32,pr=e.GLP_SF_SKIP=64,mr=e.GLP_SF_AUTO=128,hr=e.GLP_SOL=1,dr=e.GLP_IPT=2,vr=e.GLP_MIP=3,gr=e.GLP_UNDEF=1,br=e.GLP_FEAS=2,yr=e.GLP_INFEAS=3,xr=e.GLP_NOFEAS=4,wr=e.GLP_OPT=5,Mr=e.GLP_UNBND=6,Nr=e.GLP_BF_FT=1,_r=e.GLP_BF_BG=2,Ar=e.GLP_BF_GR=3,Er=e.GLP_MSG_OFF=0,Sr=e.GLP_MSG_ERR=1,kr=e.GLP_MSG_ON=2,Or=e.GLP_MSG_ALL=3,Cr=e.GLP_MSG_DBG=4,Lr=e.GLP_PRIMAL=1,Tr=e.GLP_DUALP=2,Pr=e.GLP_DUAL=3,Ir=e.GLP_PT_STD=17,zr=e.GLP_PT_PSE=34,Br=e.GLP_RT_STD=17,jr=e.GLP_RT_HAR=34;e.GLP_ORD_NONE=0,e.GLP_ORD_QMD=1,e.GLP_ORD_AMD=2,e.GLP_ORD_SYMAMD=3;var Fr=e.GLP_BR_FFV=1,Rr=e.GLP_BR_LFV=2,Dr=e.GLP_BR_MFV=3,qr=e.GLP_BR_DTH=4,Vr=e.GLP_BR_PCH=5,Xr=e.GLP_BT_DFS=1,Ur=e.GLP_BT_BFS=2,Gr=e.GLP_BT_BLB=3,Hr=e.GLP_BT_BPH=4,Yr=e.GLP_PP_NONE=0,Zr=e.GLP_PP_ROOT=1,Jr=e.GLP_PP_ALL=2;e.GLP_RF_REG=0;var Kr=e.GLP_RF_LAZY=1,Wr=e.GLP_RF_CUT=2,Qr=e.GLP_RF_GMI=1,$r=e.GLP_RF_MIR=2,en=e.GLP_RF_COV=3,tn=e.GLP_RF_CLQ=4,rn=e.GLP_ON=1,nn=e.GLP_OFF=0,an=e.GLP_IROWGEN=1,on=e.GLP_IBINGO=2,sn=e.GLP_IHEUR=3,un=e.GLP_ICUTGEN=4,ln=e.GLP_IBRANCH=5,cn=e.GLP_ISELECT=6,fn=e.GLP_IPREPRO=7,pn=e.GLP_NO_BRNCH=0,mn=e.GLP_DN_BRNCH=1,hn=e.GLP_UP_BRNCH=2,dn=e.GLP_EBADB=1,vn=e.GLP_ESING=2,gn=e.GLP_ECOND=3,bn=e.GLP_EBOUND=4,yn=e.GLP_EFAIL=5,xn=e.GLP_EOBJLL=6,wn=e.GLP_EOBJUL=7,Mn=e.GLP_EITLIM=8,Nn=e.GLP_ETMLIM=9,_n=e.GLP_ENOPFS=10,An=e.GLP_ENODFS=11,En=e.GLP_EROOT=12,Sn=e.GLP_ESTOP=13,kn=e.GLP_EMIPGAP=14;function On(e){var t=Math.floor(Math.log(e)/Math.log(2))+1;return Math.pow(2,.75>=e/Math.pow(2,t)?t-1:t)}function Cn(e,t){var r=Number(e);if(isNaN(r))return 2;switch(r){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return 1;default:return t(r),0}}function Ln(e,t){var r=Number(e);if(isNaN(r))return 2;switch(r){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return 1;default:return 0==r%1?(t(r),0):2}}function Tn(e,t,r){var n,i;return 1<=e&&31>=e&&1<=t&&12>=t&&1<=r&&4e3>=r?(3<=t?t-=3:(t+=9,r--),r=(146097*(n=r/100|0)/4|0)+(1461*(r-100*n)/4|0),r+=(153*t+2)/5|0,Pn(r+=e+1721119,function(e){i=e}),e!=i&&(r=-1),r):-1}function Pn(e,t){var r,n,i;1721426<=e&&3182395>=e&&(i=100*(i=(4*(e-=1721119)-1)/146097|0)+(e=(4*(r=(4*e-1)%146097/4|0)+3)/1461|0),9>=(n=(5*(r=((4*r+3)%1461+4)/4|0)-3)/153|0)?n+=3:(n-=9,i++),t(r=(5+(r=(5*r-3)%153))/5|0,n,i))}e.GLP_ENOFEAS=15,e.GLP_ENOCVG=16,e.GLP_EINSTAB=17,e.GLP_EDATA=18,e.GLP_ERANGE=19,e.GLP_KKT_PE=1,e.GLP_KKT_PB=2,e.GLP_KKT_DE=3,e.GLP_KKT_DB=4,e.GLP_KKT_CS=5,e.GLP_MPS_DECK=1,e.GLP_MPS_FILE=2,e.GLP_ASN_MIN=1,e.GLP_ASN_MAX=2,e.GLP_ASN_MMP=3;var In=1;LPF_ECOND=2,LPF_ELIMIT=3;var zn=0;function Bn(e,t,r,n){var i,a,o,s,u=e.i,l=e.Md,c=e.Ld,f=e.Wb;for(e=e.Xb,i=1;i<=u;i++){for(s=0,o=(a=l[i])+c[i];a<o;a++)s+=e[a]*n[f[a]];t[i+r]+=-1*s}}function jn(e,t,r,n){var i,a,o,s,u=e.i,l=e.Od,c=e.Nd,f=e.Wb;for(e=e.Xb,i=1;i<=u;i++){for(s=0,o=(a=l[i])+c[i];a<o;a++)s+=e[a]*n[f[a]];t[i+r]+=-1*s}}if(zn)var Fn=function(e,t,r,n){var a=e.g;e=e.Cf;var o,s,u,l,c,f=0;for(o=1;o<=a;o++){for(u=0,s=c=1;s<=a;s++)l=t?e[a*(s-1)+o]*r[s]:e[a*(o-1)+s]*r[s],c<Math.abs(l)&&(c=Math.abs(l)),u+=l;f<(s=Math.abs(u-n[o])/c)&&(f=s)}1e-8<f&&i((t?"lpf_btran":"lpf_ftran")+": dmax = "+f+"; relative error too large")};e.LPX_LP=100,e.LPX_MIP=101;var Rn=e.LPX_FR=110,Dn=e.LPX_LO=111,qn=e.LPX_UP=112,Vn=e.LPX_DB=113,Xn=e.LPX_FX=114;e.LPX_MIN=120,e.LPX_MAX=121,e.LPX_P_UNDEF=132,e.LPX_P_FEAS=133,e.LPX_P_INFEAS=134,e.LPX_P_NOFEAS=135,e.LPX_D_UNDEF=136,e.LPX_D_FEAS=137,e.LPX_D_INFEAS=138,e.LPX_D_NOFEAS=139;var Un=e.LPX_BS=140,Gn=e.LPX_NL=141,Hn=e.LPX_NU=142,Yn=e.LPX_NF=143,Zn=e.LPX_NS=144;e.LPX_T_UNDEF=150,e.LPX_T_OPT=151;var Jn=e.LPX_CV=160,Kn=e.LPX_IV=161;e.LPX_I_UNDEF=170,e.LPX_I_OPT=171,e.LPX_I_FEAS=172,e.LPX_I_NOFEAS=173,e.LPX_OPT=180,e.LPX_FEAS=181,e.LPX_INFEAS=182,e.LPX_NOFEAS=183,e.LPX_UNBND=184,e.LPX_UNDEF=185,e.LPX_E_OK=200,e.LPX_E_EMPTY=201,e.LPX_E_BADB=202,e.LPX_E_INFEAS=203,e.LPX_E_FAULT=204,e.LPX_E_OBJLL=205,e.LPX_E_OBJUL=206,e.LPX_E_ITLIM=207,e.LPX_E_TMLIM=208,e.LPX_E_NOFEAS=209,e.LPX_E_INSTAB=210,e.LPX_E_SING=211,e.LPX_E_NOCONV=212,e.LPX_E_NOPFS=213,e.LPX_E_NODFS=214,e.LPX_E_MIPGAP=215;var Wn=e.LPX_K_MSGLEV=300,Qn=e.LPX_K_SCALE=301,$n=e.LPX_K_DUAL=302,ei=e.LPX_K_PRICE=303;e.LPX_K_RELAX=304,e.LPX_K_TOLBND=305,e.LPX_K_TOLDJ=306,e.LPX_K_TOLPIV=307;var ti=e.LPX_K_ROUND=308;e.LPX_K_OBJLL=309,e.LPX_K_OBJUL=310;var ri=e.LPX_K_ITLIM=311,ni=e.LPX_K_ITCNT=312;e.LPX_K_TMLIM=313;var ii=e.LPX_K_OUTFRQ=314;e.LPX_K_OUTDLY=315;var ai=e.LPX_K_BRANCH=316,oi=e.LPX_K_BTRACK=317;e.LPX_K_TOLINT=318,e.LPX_K_TOLOBJ=319;var si=e.LPX_K_MPSINFO=320,ui=e.LPX_K_MPSOBJ=321,li=e.LPX_K_MPSORIG=322,ci=e.LPX_K_MPSWIDE=323,fi=e.LPX_K_MPSFREE=324,pi=e.LPX_K_MPSSKIP=325,mi=e.LPX_K_LPTORIG=326,hi=e.LPX_K_PRESOL=327,di=e.LPX_K_BINARIZE=328,vi=e.LPX_K_USECUTS=329,gi=e.LPX_K_BFTYPE=330;function bi(e,r){var n=U(e,r);return n==-t&&(n=0),n}function yi(e,r){var n=G(e,r);return n==+t&&(n=0),n}function xi(e,t,r){r(X(e,t)-$t+Rn,bi(e,t),yi(e,t))}function wi(e,r){var n=Y(e,r);return n==-t&&(n=0),n}function Mi(e,r){var n=Z(e,r);return n==+t&&(n=0),n}function Ni(e,t,r){r(H(e,t)-$t+Rn,wi(e,t),Mi(e,t))}e.LPX_K_MIPGAP=331,e.LPX_C_COVER=1,e.LPX_C_CLIQUE=2,e.LPX_C_GOMORY=4,e.LPX_C_MIR=8,e.LPX_C_ALL=255;var _i=1,Ai=2;function Ei(){var e={};return e.K=e.i=0,e.valid=0,e.Rf=e.Ye=null,e.Yd=e.Xd=null,e.Fc=e.Ec=e.pd=null,e.Af=null,e.Dc=e.Cc=e.Rc=null,e.kb=e.vb=null,e.sf=e.me=null,e.Ga=0,e.Fa=e.Ma=0,e.wb=null,e.xb=null,e.ld=e.Sb=0,e.Hd=e.md=null,e.zf=null,e.vf=e.dg=e.wf=null,e.Oe=e.Qe=e.Pe=null,e.ba=null,e.ze=null,e.Va=0,e.cc=.1,e.xc=4,e.gc=1,e.Mb=1e-15,e.sc=1e10,e.dh=e.$f=e.Qb=0,e.Cg=e.rd=0,e.pa=0,e}function Si(e){var t,r,n=e.i,i=e.Fc,a=e.Ec,s=e.pd,u=e.Dc,l=e.Cc,c=e.Rc,f=e.wb,p=e.xb,m=e.md,h=1;for(r=e.ld;0!=r;r=m[r])if(r<=n){if(i[t=r]!=h)break;s[t]=a[t],h+=s[t]}else{if(u[t=r-n]!=h)break;c[t]=l[t],h+=c[t]}for(;0!=r;r=m[r])r<=n?(o(f,h,f,i[t=r],a[t]),o(p,h,p,i[t],a[t]),i[t]=h,s[t]=a[t],h+=s[t]):(o(f,h,f,u[t=r-n],l[t]),o(p,h,p,u[t],l[t]),u[t]=h,c[t]=l[t],h+=c[t]);e.Fa=h}function ki(e,t,r){var n,i=e.i,a=e.Fc,s=e.Ec,u=e.pd,l=e.Rc,c=e.wb,f=e.xb,p=e.Hd,m=e.md;return e.Ma-e.Fa<r&&(Si(e),e.Ma-e.Fa<r)?1:(n=u[t],o(c,e.Fa,c,a[t],s[t]),o(f,e.Fa,f,a[t],s[t]),a[t]=e.Fa,u[t]=r,e.Fa+=r,0==p[t]?e.ld=m[t]:((r=p[t])<=i?u[r]+=n:l[r-i]+=n,m[p[t]]=m[t]),0==m[t]?e.Sb=p[t]:p[m[t]]=p[t],p[t]=e.Sb,m[t]=0,0==p[t]?e.ld=t:m[p[t]]=t,e.Sb=t,0)}function Oi(e,t,r){var n,i=e.i,a=e.pd,s=e.Dc,u=e.Cc,l=e.Rc,c=e.wb,f=e.xb,p=e.Hd,m=e.md;return e.Ma-e.Fa<r&&(Si(e),e.Ma-e.Fa<r)?1:(n=l[t],o(c,e.Fa,c,s[t],u[t]),o(f,e.Fa,f,s[t],u[t]),s[t]=e.Fa,l[t]=r,e.Fa+=r,0==p[t=i+t]?e.ld=m[t]:((r=p[t])<=i?a[r]+=n:l[r-i]+=n,m[p[t]]=m[t]),0==m[t]?e.Sb=p[t]:p[m[t]]=p[t],p[t]=e.Sb,m[t]=0,0==p[t]?e.ld=t:m[p[t]]=t,e.Sb=t,0)}function Ci(e,r){function n(){return r(i,a),0==i}var i,a,o,s,u,l,c,f,p,m,h,d,v,g,b,y,x,w,M=e.i,N=e.Fc,_=e.Ec,A=e.Dc,E=e.Cc,S=e.wb,k=e.xb,O=e.zf,C=e.vf,L=e.wf,T=e.Oe,P=e.Qe,I=e.Pe,z=e.cc,B=e.xc,j=e.gc;if(i=a=0,y=t,h=0,0!=(f=T[1]))return i=S[A[f]],a=f,n();if(0!=(s=C[1]))return i=s,a=S[N[s]],n();for(o=2;o<=M;o++){for(f=T[o];0!=f;f=d){for(p=(s=A[f])+E[f]-1,d=I[f],v=g=0,b=2147483647,m=s;m<=p;m++)if(l=(u=N[s=S[m]])+_[s]-1,!(_[s]>=b)){if(0>(x=O[s])){for(c=u;c<=l;c++)0>(w=k[c])&&(w=-w),x<w&&(x=w);O[s]=x}for(c=N[s];S[c]!=f;c++);if(0>(w=k[c])&&(w=-w),!(w<z*x)&&(v=s,g=f,(b=_[s])<=o))return i=v,a=g,n()}if(0!=v){if((f=(b-1)*(o-1))<y&&(i=v,a=g,y=f),++h==B)return n()}else j&&(0==P[f]?T[o]=I[f]:I[P[f]]=I[f],0!=I[f]&&(P[I[f]]=P[f]),P[f]=I[f]=f)}for(s=C[o];0!=s;s=L[s]){if(l=(u=N[s])+_[s]-1,0>(x=O[s])){for(c=u;c<=l;c++)0>(w=k[c])&&(w=-w),x<w&&(x=w);O[s]=x}for(v=g=0,b=2147483647,c=u;c<=l;c++)if(!(E[f=S[c]]>=b)&&(0>(w=k[c])&&(w=-w),!(w<z*x)&&(v=s,g=f,(b=E[f])<=o)))return i=v,a=g,n();if(0!=v&&((f=(o-1)*(b-1))<y&&(i=v,a=g,y=f),++h==B))return n()}}return n()}function Li(e,t,r){var n,i,a,o,s,u,l,c,f,p,m,h,d=e.i,v=e.Yd,g=e.Xd,b=e.Fc,y=e.Ec,x=e.pd,w=e.Af,M=e.Dc,N=e.Cc,_=e.Rc,A=e.wb,E=e.xb,S=e.Hd,k=e.md,O=e.zf,C=e.vf,L=e.dg,T=e.wf,P=e.Oe,I=e.Qe,z=e.Pe,B=e.ba,j=e.ze,F=e.Mb,R=e.Ye;for(0==L[t]?C[y[t]]=T[t]:T[L[t]]=T[t],0!=T[t]&&(L[T[t]]=L[t]),0==I[r]?P[N[r]]=z[r]:z[I[r]]=z[r],0!=z[r]&&(I[z[r]]=I[r]),f=(c=b[t])+y[t]-1,i=c;A[i]!=r;i++);for(h=w[t]=E[i],A[i]=A[f],E[i]=E[f],y[t]--,f--,p=(w=M[r])+N[r]-1,a=w;A[a]!=t;a++);for(A[a]=A[p],N[r]--,p--,i=c;i<=f;i++){for(B[o=A[i]]=1,j[o]=E[i],0==I[o]?P[N[o]]=z[o]:z[I[o]]=z[o],0!=z[o]&&(I[z[o]]=I[o]),l=(u=M[o])+N[o]-1;A[u]!=t;u++);A[u]=A[l],N[o]--}for(;w<=p;){for(0==L[a=A[w]]?C[y[a]]=T[a]:T[L[a]]=T[a],0!=T[a]&&(L[T[a]]=L[a]),n=(o=b[a])+y[a]-1,s=o;A[s]!=r;s++);for(m=E[s]/h,A[s]=A[n],E[s]=E[n],y[a]--,n--,A[w]=A[p],N[r]--,p--,i=y[t],s=o;s<=n;s++)if(B[o=A[s]])if(0>(u=E[s]-=m*j[o])&&(u=-u),B[o]=0,i--,0==u||u<F){for(A[s]=A[n],E[s]=E[n],y[a]--,s--,n--,l=(u=M[o])+N[o]-1;A[u]!=a;u++);A[u]=A[l],N[o]--}else e.rd<u&&(e.rd=u);if(y[a]+i>x[a]){if(ki(e,a,y[a]+i))return 1;f=(c=b[t])+y[t]-1,p=(w=M[r])+N[r]-1}for(n=0,i=c;i<=f;i++)B[o=A[i]]?(0>(u=l=-m*j[o])&&(u=-u),0==u||u<F||(A[s=b[a]+y[a]]=o,E[s]=l,y[a]++,R[++n]=o,e.rd<u&&(e.rd=u))):B[o]=1;for(s=1;s<=n;s++){if(N[o=R[s]]+1>_[o]){if(Oi(e,o,N[o]+10))return 1;f=(c=b[t])+y[t]-1,p=(w=M[r])+N[r]-1}A[u=M[o]+N[o]]=a,N[o]++}if(L[a]=0,T[a]=C[y[a]],0!=T[a]&&(L[T[a]]=a),C[y[a]]=a,O[a]=-1,1>e.Ma-e.Fa){if(Si(e),1>e.Ma-e.Fa)return 1;f=(c=b[t])+y[t]-1,p=(w=M[r])+N[r]-1}e.Ma--,A[e.Ma]=a,E[e.Ma]=m,g[t]++}for(_[r]=0,0==S[s=d+r]?e.ld=k[s]:k[S[s]]=k[s],0==k[s]?e.Sb=S[s]:S[k[s]]=S[s],v[t]=e.Ma,i=c;i<=f;i++)B[o=A[i]]=0,j[o]=0,(1==N[o]||I[o]!=o||z[o]!=o)&&(I[o]=0,z[o]=P[N[o]],0!=z[o]&&(I[z[o]]=o),P[N[o]]=o);return 0}function Ti(e,t,r,i){function a(){if(0<e.Va&&(e.Ga=e.Va,e.wb=new Int32Array(1+e.Ga),e.xb=new Float64Array(1+e.Ga),e.Va=0),function(e,t,r){var i,a,o,s,u,l,c,f=e.i,p=e.Yd,m=e.Xd,h=e.Fc,d=e.Ec,v=e.pd,g=e.Dc,b=e.Cc,y=e.Rc,x=e.kb,w=e.vb,M=e.sf,N=e.me,_=e.wb,A=e.xb,E=e.Hd,S=e.md,k=e.zf,O=e.vf,C=e.dg,L=e.wf,T=e.Oe,P=e.Qe,I=e.Pe,z=e.ba,B=e.ze;for(s=1,u=e.Ga+1,a=1;a<=f;a++)p[a]=u,m[a]=0;for(i=1;i<=f;i++)d[i]=v[i]=0,z[i]=0;for(m=p=0,a=1;a<=f;a++){var j=x,F=B;if(0<=(o=t(r,a,j,F))&&o<=f||n("luf_factorize: j = "+a+"; len = "+o+"; invalid column length"),u-s<o)return 1;for(g[a]=s,b[a]=y[a]=o,p+=o,l=1;l<=o;l++)c=F[l],1<=(i=j[l])&&i<=f||n("luf_factorize: i = "+i+"; j = "+a+"; invalid row index"),z[i]&&n("luf_factorize: i = "+i+"; j = "+a+"; duplicate element not allowed"),0==c&&n("luf_factorize: i = "+i+"; j = "+a+"; zero element not allowed"),_[s]=i,A[s]=c,s++,0>c&&(c=-c),m<c&&(m=c),z[i]=1,v[i]++;for(l=1;l<=o;l++)z[j[l]]=0}for(i=1;i<=f;i++){if(u-s<(o=v[i]))return 1;h[i]=s,s+=o}for(a=1;a<=f;a++)for(t=(i=g[a])+b[a]-1,v=i;v<=t;v++)c=A[v],_[r=h[i=_[v]]+d[i]]=a,A[r]=c,d[i]++;for(v=1;v<=f;v++)x[v]=w[v]=M[v]=N[v]=v;for(e.Fa=s,e.Ma=u,e.ld=f+1,e.Sb=f,i=1;i<=f;i++)E[i]=i-1,S[i]=i+1;for(E[1]=f+f,S[f]=0,a=1;a<=f;a++)E[f+a]=f+a-1,S[f+a]=f+a+1;for(E[f+1]=0,v=S[f+f]=1;v<=f;v++)z[v]=0,B[v]=0;for(e.dh=p,e.$f=0,e.Qb=p,e.Cg=m,e.rd=m,e.pa=-1,i=1;i<=f;i++)k[i]=-1;for(o=0;o<=f;o++)O[o]=0;for(i=1;i<=f;i++)o=d[i],C[i]=0,L[i]=O[o],0!=L[i]&&(C[L[i]]=i),O[o]=i;for(o=0;o<=f;o++)T[o]=0;for(a=1;a<=f;a++)o=b[a],P[a]=0,I[a]=T[o],0!=I[a]&&(P[I[a]]=a),T[o]=a;return 0}(e,r,i))return e.Va=e.Ga+e.Ga,!0;for(p=1;p<=t;p++){if(Ci(e,function(e,t){m=e,h=t}))return e.pa=p-1,g=_i,!1;if(f=u[h],o[c=s[m]]=d=o[p],s[d]=c,o[p]=m,s[m]=p,l[f]=d=l[p],u[d]=f,l[p]=h,u[h]=p,Li(e,m,h))return e.Va=e.Ga+e.Ga,!0;if(e.rd>v*e.Cg)return e.pa=p-1,g=Ai,!1}return Si(e),!(!function(e){var t,r,n,i,a=e.i,o=e.Fc,s=e.Ec,u=e.Dc,l=e.Cc,c=e.Rc,f=e.wb,p=e.xb,m=e.Hd,h=e.md;for(i=0,t=1;t<=a;t++){for(n=(r=o[t])+s[t]-1;r<=n;r++)c[f[r]]++;i+=s[t]}if(e.Qb=i,e.Ma-e.Fa<i)return 1;for(i=1;i<=a;i++)u[i]=e.Fa,e.Fa+=c[i];for(t=1;t<=a;t++)for(n=(r=o[t])+s[t]-1;r<=n;r++)f[c=u[i=f[r]]+l[i]]=t,p[c]=p[r],l[i]++;for(o=a+1;o<=a+a;o++)m[o]=o-1,h[o]=o+1;return m[a+1]=e.Sb,h[e.Sb]=a+1,h[a+a]=0,e.Sb=a+a,0}(e)&&!function(e){var t,r,n,i,a=e.i,o=e.Rf,s=e.Ye,u=e.Yd,l=e.Xd,c=e.wb,f=e.xb;for(t=1;t<=a;t++)s[t]=0;for(t=0,r=1;r<=a;r++){for(i=(n=u[r])+l[r]-1;n<=i;n++)s[c[n]]++;t+=l[r]}if(e.$f=t,e.Ma-e.Fa<t)return 1;for(t=1;t<=a;t++)o[t]=e.Ma,e.Ma-=s[t];for(r=1;r<=a;r++)for(i=(n=u[r])+l[r]-1;n<=i;n++)c[e=--o[t=c[n]]]=r,f[e]=f[n];return 0}(e)||(e.Va=e.Ga+e.Ga,0))}var o,s,u,l,c,f,p,m,h,d,v=e.sc,g=null;for(1>t&&n("luf_factorize: n = "+t+"; invalid parameter"),1e8<t&&n("luf_factorize: n = "+t+"; matrix too big"),e.valid=0,function(e,t){var r=e.K;e.i=t,t<=r||(e.K=r=t+100,e.Rf=new Int32Array(1+r),e.Ye=new Int32Array(1+r),e.Yd=new Int32Array(1+r),e.Xd=new Int32Array(1+r),e.Fc=new Int32Array(1+r),e.Ec=new Int32Array(1+r),e.pd=new Int32Array(1+r),e.Af=new Float64Array(1+r),e.Dc=new Int32Array(1+r),e.Cc=new Int32Array(1+r),e.Rc=new Int32Array(1+r),e.kb=new Int32Array(1+r),e.vb=new Int32Array(1+r),e.sf=new Int32Array(1+r),e.me=new Int32Array(1+r),e.Hd=new Int32Array(1+r+r),e.md=new Int32Array(1+r+r),e.zf=new Float64Array(1+r),e.vf=new Int32Array(1+r),e.dg=new Int32Array(1+r),e.wf=new Int32Array(1+r),e.Oe=new Int32Array(1+r),e.Qe=new Int32Array(1+r),e.Pe=new Int32Array(1+r),e.ba=new Int32Array(1+r),e.ze=new Float64Array(1+r))}(e,t),o=e.kb,s=e.vb,u=e.sf,l=e.me,0==e.Ga&&0==e.Va&&(e.Va=5*(t+10));a(););if(null!=g)return g;if(e.valid=1,e.pa=t,g=0,e.Ga<(d=3*(t+e.Qb)+2*e.$f))for(e.Va=e.Ga;e.Va<d;)e.Va=(p=e.Va)+p;return g}function Pi(e,t,r){var i,a=e.i,o=e.Rf,s=e.Ye,u=e.Yd,l=e.Xd,c=e.kb,f=e.wb,p=e.xb;if(e.valid||n("luf_f_solve: LU-factorization is not valid"),t){for(;1<=a;a--)if(0!=(e=r[i=c[a]]))for(i=(t=o[i])+s[i]-1;t<=i;t++)r[f[t]]-=p[t]*e}else for(o=1;o<=a;o++)if(0!=(e=r[i=c[o]]))for(i=(t=u[i])+l[i]-1;t<=i;t++)r[f[t]]-=p[t]*e}function Ii(e,t,r){var i,a,o,s=e.i,u=e.Fc,l=e.Ec,c=e.Af,f=e.Dc,p=e.Cc,m=e.kb,h=e.me,d=e.wb,v=e.xb,g=e.ze;for(e.valid||n("luf_v_solve: LU-factorization is not valid"),e=1;e<=s;e++)g[e]=r[e],r[e]=0;if(t){for(e=1;e<=s;e++)if(i=m[e],0!=(t=g[a=h[e]]))for(r[i]=t/=c[i],i=(o=u[i])+l[i]-1;o<=i;o++)g[d[o]]-=v[o]*t}else for(e=s;1<=e;e--)if(a=h[e],0!=(t=g[i=m[e]]))for(r[a]=t/=c[i],i=(o=f[a])+p[a]-1;o<=i;o++)g[d[o]]-=v[o]*t}var zi=-1,Bi=101,ji=102,Fi=103,Ri=104,Di=105,qi=106,Vi=107,Xi=108,Ui=109,Gi=110,Hi=111,Yi=112,Zi=113,Ji=114,Ki=115,Wi=116,Qi=117,$i=118,ea=119,ta=120,ra=121,na=122,ia=123,aa=124,oa=125,sa=126,ua=127,la=60,ca=201,fa=202,pa=203,ma=204,ha=205,da=206,va=207,ga=208,ba=209,ya=210,xa=211,wa=212,Ma=213,Na=214,_a=215,Aa=216,Ea=217,Sa=218,ka=219,Oa=220,Ca=221,La=222,Ta=223,Pa=224,Ia=225,za=226,Ba=227,ja=228,Fa=229,Ra=230,Da=231,qa=232,Va=233,Xa=234,Ua=235,Ga=236,Ha=237,Ya=238,Za=239,Ja=240,Ka=241,Wa=242,Qa=243,$a=244,eo=245,to=246,ro=247,no=248,io=249,ao=250,oo=251,so=252,uo=0,lo=1,co=2,fo=3,po=4,mo=5,ho=301,vo=302,go=303,bo=304,yo=305,xo=306,wo=307,Mo=308,No=309,_o=310,Ao=311,Eo=312,So=313,ko=314,Oo=315,Co=316,Lo=317,To=318,Po=319,Io=320,zo=321,Bo=322,jo=323,Fo=324,Ro=325,Do=326,qo=327,Vo=328,Xo=329,Uo=330,Go=331,Ho=332,Yo=333,Zo=334,Jo=335,Ko=336,Wo=337,Qo=338,$o=339,es=340,ts=341,rs=342,ns=343,is=344,as=345,os=346,ss=347,us=348,ls=349,cs=350,fs=351,ps=352,ms=353,hs=354,ds=355,vs=356,gs=357,bs=358,ys=359,xs=360,ws=361,Ms=362,Ns=363,_s=364,As=365,Es=366,Ss=367,ks=368,Os=369,Cs=370,Ls=371,Ts=372,Ps=373,Is=374,zs=375,Bs=376,js=377,Fs=378,Rs=379,Ds=380,qs=381,Vs=382,Xs=383,Us=384,Gs=401,Hs=402,Ys=403,Zs=404,Js=405,Ks=412,Ws=413,Qs=422,$s=423;function eu(e){var t;t=e.b==ca?"_|_":e.b==ha?"'...'":e.h,e.Zb[e.lc++]=" ",e.lc==la&&(e.lc=0);for(var r=0;r<t.length;r++)e.Zb[e.lc++]=t[r],e.lc==la&&(e.lc=0)}function tu(e){var t;e.l!=zi&&("\n"==e.l&&(e.bb++,e.Vc=0),0>(t=e.cf())&&(t=zi),e.Vc++,t==zi?"\n"==e.l?e.bb--:Gc(e,"final NL missing before end of file"):"\n"!=t&&(0<=" \t\n\v\f\r".indexOf(t)?t=" ":h(t)&&(eu(e),Uc(e,"control character "+t+" not allowed"))),e.l=t)}function ru(e){e.h+=e.l,e.Bb++,tu(e)}function nu(e){function t(){eu(e),Uc(e,"keyword s.t. incomplete")}function r(){eu(e),Uc(e,"cannot convert numeric literal "+e.h+" to floating-point number")}function n(){if("e"==e.l||"E"==e.l)for(ru(e),"+"!=e.l&&"-"!=e.l||ru(e),g(e.l)||(eu(e),Uc(e,"numeric literal "+e.h+" incomplete"));g(e.l);)ru(e);(d(e.l)||"_"==e.l)&&(eu(e),Uc(e,"symbol "+e.h+e.l+"... should be enclosed in quotes"))}if(e.Hf=e.b,e.Gf=e.Bb,e.Ff=e.h,e.If=e.value,e.Ue)e.Ue=0,e.b=e.Mf,e.Bb=e.Lf,e.h=e.Kf,e.value=e.Nf;else{for(;;){for(e.b=0,e.Bb=0,e.h="",e.value=0;" "==e.l||"\n"==e.l;)tu(e);if(e.l==zi)e.b=ca;else{if("#"==e.l){for(;"\n"!=e.l&&e.l!=zi;)tu(e);continue}if(e.nc||!d(e.l)&&"_"!=e.l)if(!e.nc&&g(e.l)){for(e.b=ma;g(e.l);)ru(e);var i=!1;if("."==e.l)if(ru(e),"."==e.l)e.Bb--,e.h=e.h.substr(0,e.h.length-1),e.Te=1,i=!0;else for(;g(e.l);)ru(e);i||n(),Cn(e.h,function(t){e.value=t})&&r()}else if("'"==e.l||'"'==e.l){var a=e.l,o=!1;e.b=ha,tu(e),i=function(){for(;;){if(("\n"==e.l&&!o||e.l==zi)&&(eu(e),Uc(e,"unexpected end of line; string literal incomplete")),e.l==a)if(tu(e),e.l==a){if(o){if(tu(e),e.l==a){tu(e);break}e.h+='""',e.Bb+=2}}else{if(!o)break;e.h+='"',e.Bb++}ru(e)}},e.l==a?(tu(e),e.l==a&&(o=!0,tu(e),i())):i()}else if(e.nc||"+"!=e.l)if(e.nc||"-"!=e.l){if("*"==e.l)e.b=Ba,ru(e),"*"==e.l&&(e.b=Fa,ru(e));else if("/"==e.l){if(e.b=ja,ru(e),"*"==e.l){for(tu(e);;)if(e.l==zi)Uc(e,"unexpected end of file; comment sequence incomplete");else if("*"==e.l){if(tu(e),"/"==e.l)break}else tu(e);tu(e);continue}}else if("^"==e.l)e.b=Fa,ru(e);else if("<"==e.l)e.b=Ra,ru(e),"="==e.l?(e.b=Da,ru(e)):">"==e.l?(e.b=Ua,ru(e)):"-"==e.l&&(e.b=so,ru(e));else if("="==e.l)e.b=qa,ru(e),"="==e.l&&ru(e);else if(">"==e.l)e.b=Xa,ru(e),"="==e.l?(e.b=Va,ru(e)):">"==e.l&&(e.b=ao,ru(e));else if("!"==e.l)e.b=Sa,ru(e),"="==e.l&&(e.b=Ua,ru(e));else if("&"==e.l)e.b=Ga,ru(e),"&"==e.l&&(e.b=da,ru(e));else if("|"==e.l)e.b=Ha,ru(e),"|"==e.l&&(e.b=ka,ru(e));else if(e.nc||"."!=e.l)if(","==e.l)e.b=Za,ru(e);else if(":"==e.l)e.b=Ja,ru(e),"="==e.l&&(e.b=Wa,ru(e));else if(";"==e.l)e.b=Ka,ru(e);else if("("==e.l)e.b=$a,ru(e);else if(")"==e.l)e.b=eo,ru(e);else if("["==e.l)e.b=to,ru(e);else if("]"==e.l)e.b=ro,ru(e);else if("{"==e.l)e.b=no,ru(e);else if("}"==e.l)e.b=io,ru(e);else if("~"==e.l)e.b=oo,ru(e);else if(v(e.l)||0<="+-._".indexOf(e.l)){for(e.b=pa;v(e.l)||0<="+-._".indexOf(e.l);)ru(e);switch(Cn(e.h,function(t){e.value=t})){case 0:e.b=ma;break;case 1:r()}}else eu(e),Uc(e,"character "+e.l+" not allowed");else if(e.b=Ya,ru(e),e.Te)e.b=Qa,e.Bb=2,e.h="..",e.Te=0;else if("."==e.l)e.b=Qa,ru(e);else if(g(e.l)){for(e.b=ma,ru(e);g(e.l);)ru(e);n(),Cn(e.h,function(t){e.value=t})&&r()}}else e.b=za,ru(e);else e.b=Ia,ru(e);else{for(e.b=fa;v(e.l)||"_"==e.l;)ru(e);"and"==e.h?e.b=da:"by"==e.h?e.b=va:"cross"==e.h?e.b=ga:"diff"==e.h?e.b=ba:"div"==e.h?e.b=ya:"else"==e.h?e.b=xa:"if"==e.h?e.b=wa:"in"==e.h?e.b=Ma:"Infinity"==e.h?e.b=Na:"inter"==e.h?e.b=_a:"less"==e.h?e.b=Aa:"mod"==e.h?e.b=Ea:"not"==e.h?e.b=Sa:"or"==e.h?e.b=ka:"s"==e.h&&"."==e.l?(e.b=Oa,ru(e),"t"!=e.l&&t(),ru(e),"."!=e.l&&t(),ru(e)):"symdiff"==e.h?e.b=Ca:"then"==e.h?e.b=La:"union"==e.h?e.b=Ta:"within"==e.h&&(e.b=Pa)}}break}eu(e),e.Pf=0}}function iu(e){e.Ue=1,e.Mf=e.b,e.Lf=e.Bb,e.Kf=e.h,e.Nf=e.value,e.b=e.Hf,e.Bb=e.Gf,e.h=e.Ff,e.value=e.If}function au(e,t){return e.b==fa&&e.h==t}function ou(e){return e.b==da&&"a"==e.h[0]||e.b==va||e.b==ga||e.b==ba||e.b==ya||e.b==xa||e.b==wa||e.b==Ma||e.b==_a||e.b==Aa||e.b==Ea||e.b==Sa&&"n"==e.h[0]||e.b==ka&&"o"==e.h[0]||e.b==Ca||e.b==La||e.b==Ta||e.b==Pa}function su(e,t,r,n){var i={};switch(i.Ta=e,i.T=0,i.a={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}},i.value={},e){case ho:i.a.Q=t.Q;break;case vo:i.a.M=t.M;break;case go:i.a.index.ya=t.index.ya,i.a.index.e=t.index.e;break;case bo:case yo:for(e=t.S.list;null!=e;e=e.e)e.x.R=i,i.T|=e.x.T;i.a.S.S=t.S.S,i.a.S.list=t.S.list;break;case xo:for(e=t.set.list;null!=e;e=e.e)e.x.R=i,i.T|=e.x.T;i.a.set.set=t.set.set,i.a.set.list=t.set.list;break;case wo:for(e=t.t.list;null!=e;e=e.e)e.x.R=i,i.T|=e.x.T;i.a.t.t=t.t.t,i.a.t.list=t.t.list,i.a.t.Ac=t.t.Ac;break;case Mo:for(e=t.H.list;null!=e;e=e.e)e.x.R=i,i.T|=e.x.T;i.a.H.H=t.H.H,i.a.H.list=t.H.list,i.a.H.Ac=t.H.Ac;break;case No:case _o:for(e=t.list;null!=e;e=e.e)e.x.R=i,i.T|=e.x.T;i.a.list=t.list;break;case Ao:i.a.slice=t.slice;break;case Eo:case So:case ko:case Oo:i.T=1;break;case Co:case Lo:case To:case Po:case Io:case zo:case Bo:case jo:case Fo:case Ro:case Do:case qo:case Vo:case Xo:case Uo:case Go:case Ho:case Yo:case Zo:case Jo:case Ko:case Wo:t.a.x.R=i,i.T|=t.a.x.T,i.a.a.x=t.a.x;break;case Qo:case $o:case es:case ts:case rs:case ns:case is:case as:case os:case ss:case us:case ls:e==ls&&(i.T=1);case cs:e==cs&&(i.T=1);case fs:case ps:case ms:case hs:case ds:case vs:case gs:case bs:case ys:case xs:case ws:case Ms:case Ns:case _s:case As:case Es:case Ss:case ks:case Os:case Cs:case Ls:t.a.x.R=i,i.T|=t.a.x.T,t.a.y.R=i,i.T|=t.a.y.T,i.a.a.x=t.a.x,i.a.a.y=t.a.y;break;case Ts:case Ps:case Is:t.a.x.R=i,i.T|=t.a.x.T,t.a.y.R=i,i.T|=t.a.y.T,null!=t.a.z&&(t.a.z.R=i,i.T|=t.a.z.T),i.a.a.x=t.a.x,i.a.a.y=t.a.y,i.a.a.z=t.a.z;break;case zs:case Bs:for(e=t.list;null!=e;e=e.e)e.x.R=i,i.T|=e.x.T;i.a.list=t.list;break;case js:case Fs:case Rs:case Ds:case qs:case Vs:case Xs:case Us:for(null!=(e=t.loop.domain).code&&(e.code.R=i,i.T|=e.code.T),e=e.list;null!=e;e=e.e)e.code.R=i,i.T|=e.code.T;null!=t.loop.x&&(t.loop.x.R=i,i.T|=t.loop.x.T),i.a.loop.domain=t.loop.domain,i.a.loop.x=t.loop.x}return i.type=r,i.q=n,i.R=null,i.valid=0,i.value={},i}function uu(e,t,r,n){var i={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}};return i.a.x=t,su(e,i,r,n)}function lu(e,t,r,n,i){var a={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}};return a.a.x=t,a.a.y=r,su(e,a,n,i)}function cu(e,t,r,n,i,a){var o={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}};return o.a.x=t,o.a.y=r,o.a.z=n,su(e,o,i,a)}function fu(e,t){var r,n={};if(n.x=t,n.e=null,null==e)e=n;else{for(r=e;null!=r.e;r=r.e);r.e=n}return e}function pu(e){var t;for(t=0;null!=e;e=e.e)t++;return t}function mu(e){var t,r,n,i,a,o,s,u,l,c={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}},f=e.V[e.h];switch(null==f&&Uc(e,e.h+" not defined"),f.type){case Hi:u=(t=f.link).name,l=0;break;case na:u=(r=f.link).name,l=r.q,0==r.X&&(r.X=1);break;case ta:u=(n=f.link).name,l=n.q;break;case ua:u=(i=f.link).name,l=i.q;break;case Fi:u=(a=f.link).name,l=a.q}if(nu(e),e.b==to){0==l&&Uc(e,u+" cannot be subscripted"),nu(e);for(var p=null;;)if((o=ku(e)).type==$i&&(o=uu(Lo,o,aa,0)),o.type!=aa&&Uc(e,"subscript expression has invalid type"),p=fu(p,o),e.b==Za)nu(e);else{if(e.b==ro)break;Uc(e,"syntax error in subscript list")}l!=pu(o=p)&&Uc(e,u+" must have "+l+" subscript"+(1==l?"":"s")+" rather than "+pu(o)),nu(e)}else 0!=l&&Uc(e,u+" must be subscripted"),o=null;switch(l=e.Ob||f.type!=ua?po:uo,e.b==Ya&&(nu(e),e.b!=fa&&Uc(e,"invalid use of period"),f.type!=ua&&f.type!=Fi&&Uc(e,u+" cannot have a suffix"),"lb"==e.h?l=lo:"ub"==e.h?l=co:"status"==e.h?l=fo:"val"==e.h?l=po:"dual"==e.h?l=mo:Uc(e,"suffix ."+e.h+" invalid"),nu(e)),f.type){case Hi:c.index.ya=t,c.index.e=t.list,s=su(go,c,aa,0),t.list=s;break;case na:c.set.set=r,c.set.list=o,s=su(xo,c,qi,r.X);break;case ta:c.S.S=n,c.S.list=o,s=n.type==aa?su(yo,c,aa,0):su(bo,c,$i,0);break;case ua:e.Ob||l!=fo&&l!=po&&l!=mo||Uc(e,"invalid reference to status, primal value, or dual value of variable "+i.name+" above solve statement"),c.t.t=i,c.t.list=o,c.t.Ac=l,s=su(wo,c,l==uo?Gi:$i,0);break;case Fi:e.Ob||l!=fo&&l!=po&&l!=mo||Uc(e,"invalid reference to status, primal value, or dual value of "+(a.type==Fi?"constraint":"objective")+" "+a.name+" above solve statement"),c.H.H=a,c.H.list=o,c.H.Ac=l,s=su(Mo,c,$i,0)}return s}function hu(e,t){var r=ku(e);return r.type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&Uc(e,"argument for "+t+" has invalid type"),r}function du(e,t){var r=ku(e);return r.type==$i&&(r=uu(Lo,r,aa,0)),r.type!=aa&&Uc(e,"argument for "+t+" has invalid type"),r}function vu(e,t,r){var n={};if(n.name=t,n.code=r,n.value=null,n.list=null,n.e=null,null==e.list)e.list=n;else{for(e=e.list;null!=e.e;e=e.e);e.e=n}}function gu(e){var t,r,n,i;for(nu(e),e.b==io&&Uc(e,"empty indexing expression not allowed"),t={};;){if(i=r=null,e.b==fa?(nu(e),n=e.b,iu(e),n==Ma&&null==e.V[e.h]&&(vu(r={},n=e.h,null),nu(e),nu(e))):e.b==$a&&(e.Pf=1,(i=Tu(e)).Ta==Ao&&(r=i.a.slice,i=null,nu(e))),null==i&&(i=Tu(e)),i.type!=qi){null!=r&&Uc(e,"domain expression has invalid type"),n=e;var a={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}},o=void 0;for(a.list=null,o=1;;o++){if(i.type==$i&&(i=uu(Lo,i,aa,0)),i.type==aa&&(i=uu(Po,i,sa,1)),i.type!=sa&&Uc(n,"member expression has invalid type"),null!=a.list&&a.list.x.q!=i.q&&Uc(n,"member "+(o-1)+" has "+a.list.x.q+" component"+(1==a.list.x.q?"":"s")+" while member "+o+" has "+i.q+" component"+(1==i.q?"":"s")),a.list=fu(a.list,i),n.b==Za)nu(n);else{if(n.b==io)break;Uc(n,"syntax error in literal set")}i=ku(n)}i=su(_o,a,qi,a.list.x.q)}if(null==r)for(r={},n=1;n<=i.q;n++)vu(r,null,null);for(a=0,n=r.list;null!=n;n=n.e)a++;if(a!=i.q&&Uc(e,a+" "+(1==a?"index":"indices")+" specified for set of dimension "+i.q),r.code=i,n=r,a=void 0,null==(i=t).list)i.list=n;else{for(a=i.list;null!=a.e;a=a.e);a.e=n}for(n=r.list;null!=n;n=n.e)null!=n.name&&(e.V[n.name]={type:Hi,link:n});if(e.b==Za)nu(e);else{if(e.b==Ja||e.b==io)break;Uc(e,"syntax error in indexing expression")}}return e.b==Ja&&(nu(e),(i=Bu(e)).type==aa&&(i=uu(Co,i,$i,0)),i.type==$i&&(i=uu(To,i,Ji,0)),i.type!=Ji&&Uc(e,"expression following colon has invalid type"),t.code=i,e.b!=io&&Uc(e,"syntax error in indexing expression")),nu(e),t}function bu(e,t){var r,n;for(r=t.list;null!=r;r=r.e)for(n=r.list;null!=n;n=n.e)null!=n.name&&delete e.V[n.name]}function yu(e){var t,r;for(t=e.a.loop.domain.list;null!=t;t=t.e)for(r=t.list;null!=r;r=r.e)null!=r.code&&(r.code.R=e)}function xu(e){var t=0;for(e=e.list;null!=e;e=e.e)for(var r=e.list;null!=r;r=r.e)null==r.code&&t++;return t}function wu(e,t){Uc(e,"operand preceding "+t+" has invalid type")}function Mu(e,t){Uc(e,"operand following "+t+" has invalid type")}function Nu(e,t,r,n){Uc(e,"operands preceding and following "+t+" have different dimensions "+r+" and "+n+", respectively")}function _u(e){var r,n;if(e.b==ma)(r={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}}).Q=e.value,r=su(ho,r,$i,0),nu(e),n=r;else if(e.b==Na)(r={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}}).Q=t,n=su(ho,r,$i,0),nu(e);else if(e.b==ha)(r={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}}).M=e.h,r=su(vo,r,aa,0),nu(e),n=r;else if(e.b==fa)switch(nu(e),n=e.b,iu(e),n){case to:n=mu(e);break;case $a:var i;if(n={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}},"abs"==e.h?r=Fo:"ceil"==e.h?r=Ro:"floor"==e.h?r=Do:"exp"==e.h?r=qo:"log"==e.h?r=Vo:"log10"==e.h?r=Xo:"sqrt"==e.h?r=Uo:"sin"==e.h?r=Go:"cos"==e.h?r=Ho:"atan"==e.h?r=Yo:"min"==e.h?r=zs:"max"==e.h?r=Bs:"round"==e.h?r=Zo:"trunc"==e.h?r=Jo:"Irand224"==e.h?r=Eo:"Uniform01"==e.h?r=So:"Uniform"==e.h?r=ls:"Normal01"==e.h?r=ko:"Normal"==e.h?r=cs:"card"==e.h?r=Ko:"length"==e.h?r=Wo:"substr"==e.h?r=Os:"str2time"==e.h?r=Cs:"time2str"==e.h?r=Ls:"gmtime"==e.h?r=Oo:Uc(e,"function "+e.h+" unknown"),i=e.h,nu(e),nu(e),r==zs||r==Bs)for(n.list=null;;)if(n.list=fu(n.list,hu(e,i)),e.b==Za)nu(e);else{if(e.b==eo)break;Uc(e,"syntax error in argument list for "+i)}else if(r==Eo||r==So||r==ko||r==Oo)e.b!=eo&&Uc(e,i+" needs no arguments");else if(r==ls||r==cs)n.a.x=hu(e,i),e.b!=Za&&Uc(e,e.b==eo?i+" needs two arguments":"syntax error in argument for "+i),nu(e),n.a.y=hu(e,i),e.b==Za?Uc(e,i+" needs two argument"):e.b!=eo&&Uc(e,"syntax error in argument for "+i);else if(r==Yo||r==Zo||r==Jo){if(n.a.x=hu(e,i),e.b==Za){switch(r){case Yo:r=os;break;case Zo:r=ss;break;case Jo:r=us}nu(e),n.a.y=hu(e,i)}e.b==Za?Uc(e,i+" needs one or two arguments"):e.b!=eo&&Uc(e,"syntax error in argument for "+i)}else if(r==Os)n.a.x=du(e,i),e.b!=Za&&Uc(e,e.b==eo?i+" needs two or three arguments":"syntax error in argument for "+i),nu(e),n.a.y=hu(e,i),e.b==Za&&(r=Is,nu(e),n.a.z=hu(e,i)),e.b==Za?Uc(e,i+" needs two or three arguments"):e.b!=eo&&Uc(e,"syntax error in argument for "+i);else if(r==Cs)n.a.x=du(e,i),e.b!=Za&&Uc(e,e.b==eo?i+" needs two arguments":"syntax error in argument for "+i),nu(e),n.a.y=du(e,i),e.b==Za?Uc(e,i+" needs two argument"):e.b!=eo&&Uc(e,"syntax error in argument for "+i);else if(r==Ls)n.a.x=hu(e,i),e.b!=Za&&Uc(e,e.b==eo?i+" needs two arguments":"syntax error in argument for "+i),nu(e),n.a.y=du(e,i),e.b==Za?Uc(e,i+" needs two argument"):e.b!=eo&&Uc(e,"syntax error in argument for "+i);else{var a,o=n.a;r==Ko?(a=Tu(e)).type!=qi&&Uc(e,"argument for "+i+" has invalid type"):a=r==Wo?du(e,i):hu(e,i),o.x=a,e.b==Za?Uc(e,i+" needs one argument"):e.b!=eo&&Uc(e,"syntax error in argument for "+i)}r=su(r,n,r==Os||r==Is||r==Ls?aa:$i,0),nu(e),n=r;break;case no:n=function(e){function t(){Uc(e,"integrand following "+i+"{...} has invalid type")}var r,n,i,a={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}};switch("sum"==e.h?n=js:"prod"==e.h?n=Fs:"min"==e.h?n=Rs:"max"==e.h?n=Ds:"forall"==e.h?n=qs:"exists"==e.h?n=Vs:"setof"==e.h?n=Xs:Uc(e,"operator "+e.h+" unknown"),i=e.h,nu(e),a.loop.domain=gu(e),n){case js:case Fs:case Rs:case Ds:a.loop.x=Eu(e),a.loop.x.type==aa&&(a.loop.x=uu(Co,a.loop.x,$i,0)),a.loop.x.type==$i||n==js&&a.loop.x.type==Gi||t(),r=su(n,a,a.loop.x.type,0);break;case qs:case Vs:a.loop.x=zu(e),a.loop.x.type==aa&&(a.loop.x=uu(Co,a.loop.x,$i,0)),a.loop.x.type==$i&&(a.loop.x=uu(To,a.loop.x,Ji,0)),a.loop.x.type!=Ji&&t(),r=su(n,a,Ji,0);break;case Xs:a.loop.x=ku(e),a.loop.x.type==$i&&(a.loop.x=uu(Lo,a.loop.x,aa,0)),a.loop.x.type==aa&&(a.loop.x=uu(Po,a.loop.x,sa,1)),a.loop.x.type!=sa&&t(),r=su(n,a,qi,a.loop.x.q)}return bu(e,a.loop.domain),yu(r),r}(e);break;default:n=mu(e)}else e.b==$a?n=function(e){var t,r={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}},n=Array(21);u(n,0,21);var i,a,o,s=0;for(i=e.Pf,nu(e),o=1;;o++){20<o&&Uc(e,"too many components within parentheses");var l=function(){t=Bu(e),(e.b==Za||1<o)&&(t.type==$i&&(t=uu(Lo,t,aa,0)),t.type!=aa&&Uc(e,"component expression has invalid type")),n[o].name=null,n[o].code=t};if(e.b==fa)if(nu(e),a=e.b,iu(e),!i||a!=Za&&a!=eo||null!=e.V[e.h])l();else{for(a=1;a<o;a++)null!=n[a].name&&n[a].name==e.h&&Uc(e,"duplicate dummy index "+e.h+" not allowed");n[o].name=e.h,n[o].code=null,nu(e),s=1,1==o&&e.b==eo&&Uc(e,n[o].name+" not defined")}else l();if(e.b==Za)nu(e);else{if(e.b==eo)break;Uc(e,"right parenthesis missing where expected")}}if(1!=o||s)if(s){for(r.slice={},a=1;a<=o;a++)vu(r.slice,n[a].name,n[a].code);t=su(Ao,r,sa,o)}else{for(r.list=null,a=1;a<=o;a++)r.list=fu(r.list,n[a].code);t=su(No,r,sa,o)}else t=n[1].code;return nu(e),s&&e.b!=Ma&&Uc(e,"keyword in missing where expected"),i&&e.b==Ma&&!s&&Uc(e,1==o?"syntax error in indexing expression":"0-ary slice not allowed"),t}(e):e.b==no?(r={index:{},S:{},set:{},t:{},H:{},a:{},loop:{}},nu(e),e.b==io?(r.list=null,r=su(_o,r,qi,1),nu(e)):(iu(e),r.loop.domain=gu(e),r.loop.x=null,bu(e,r.loop.domain),yu(r=su(Us,r,qi,xu(r.loop.domain)))),n=r):e.b==wa?(nu(e),(r=Bu(e)).type==aa&&(r=uu(Co,r,$i,0)),r.type==$i&&(r=uu(To,r,Ji,0)),r.type!=Ji&&Uc(e,"expression following if has invalid type"),e.b!=La&&Uc(e,"keyword then missing where expected"),nu(e),(n=Tu(e)).type!=$i&&n.type!=aa&&n.type!=qi&&n.type!=Gi&&Uc(e,"expression following then has invalid type"),e.b!=xa?(n.type==qi&&Uc(e,"keyword else missing where expected"),i=null):(nu(e),(i=Tu(e)).type!=$i&&i.type!=aa&&i.type!=qi&&i.type!=Gi&&Uc(e,"expression following else has invalid type"),n.type!=Gi&&i.type!=Gi||(n.type==aa&&(n=uu(Co,n,$i,0)),n.type==$i&&(n=uu(Io,n,Gi,0)),i.type==aa&&(i=uu(Co,i,$i,0)),i.type==$i&&(i=uu(Io,i,Gi,0))),n.type!=aa&&i.type!=aa||(n.type==$i&&(n=uu(Lo,n,aa,0)),i.type==$i&&(i=uu(Lo,i,aa,0))),n.type!=i.type&&Uc(e,"expressions following then and else have incompatible types"),n.q!=i.q&&Uc(e,"expressions following then and else have different dimensions "+n.q+" and "+i.q+", respectively")),n=cu(Ps,r,n,i,n.type,n.q)):ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"syntax error in expression");return e.b==Fa&&(i=e.h,n.type==aa&&(n=uu(Co,n,$i,0)),n.type!=$i&&wu(e,i),nu(e),(r=e.b==Ia||e.b==za?Au(e):_u(e)).type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&Mu(e,i),n=lu(as,n,r,$i,0)),n}function Au(e){var t;return e.b==Ia?(nu(e),(t=_u(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type!=$i&&t.type!=Gi&&Mu(e,"+"),t=uu(zo,t,t.type,0)):e.b==za?(nu(e),(t=_u(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type!=$i&&t.type!=Gi&&Mu(e,"-"),t=uu(Bo,t,t.type,0)):t=_u(e),t}function Eu(e){for(var t,r=Au(e);;)if(e.b==Ba)r.type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&r.type!=Gi&&wu(e,"*"),nu(e),(t=Au(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type!=$i&&t.type!=Gi&&Mu(e,"*"),r.type==Gi&&t.type==Gi&&Uc(e,"multiplication of linear forms not allowed"),r=lu(ts,r,t,r.type==$i&&t.type==$i?$i:Gi,0);else if(e.b==ja)r.type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&r.type!=Gi&&wu(e,"/"),nu(e),(t=Au(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type!=$i&&Mu(e,"/"),r=lu(rs,r,t,r.type==$i?$i:Gi,0);else if(e.b==ya)r.type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&wu(e,"div"),nu(e),(t=Au(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type!=$i&&Mu(e,"div"),r=lu(ns,r,t,$i,0);else{if(e.b!=Ea)break;r.type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&wu(e,"mod"),nu(e),(t=Au(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type!=$i&&Mu(e,"mod"),r=lu(is,r,t,$i,0)}return r}function Su(e){for(var t,r=Eu(e);;)if(e.b==Ia)r.type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&r.type!=Gi&&wu(e,"+"),nu(e),(t=Eu(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type!=$i&&t.type!=Gi&&Mu(e,"+"),r.type==$i&&t.type==Gi&&(r=uu(Io,r,Gi,0)),r.type==Gi&&t.type==$i&&(t=uu(Io,t,Gi,0)),r=lu(Qo,r,t,r.type,0);else if(e.b==za)r.type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&r.type!=Gi&&wu(e,"-"),nu(e),(t=Eu(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type!=$i&&t.type!=Gi&&Mu(e,"-"),r.type==$i&&t.type==Gi&&(r=uu(Io,r,Gi,0)),r.type==Gi&&t.type==$i&&(t=uu(Io,t,Gi,0)),r=lu($o,r,t,r.type,0);else{if(e.b!=Aa)break;r.type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&wu(e,"less"),nu(e),(t=Eu(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type!=$i&&Mu(e,"less"),r=lu(es,r,t,$i,0)}return r}function ku(e){for(var t,r=Su(e);e.b==Ga;)r.type==$i&&(r=uu(Lo,r,aa,0)),r.type!=aa&&wu(e,"&"),nu(e),(t=Su(e)).type==$i&&(t=uu(Lo,t,aa,0)),t.type!=aa&&Mu(e,"&"),r=lu(fs,r,t,aa,0);return r}function Ou(e){var t,r,n=ku(e);return e.b==Qa&&(n.type==aa&&(n=uu(Co,n,$i,0)),n.type!=$i&&wu(e,".."),nu(e),(t=ku(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type!=$i&&Mu(e,".."),e.b==va?(nu(e),(r=ku(e)).type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&Mu(e,"by")):r=null,n=cu(Ts,n,t,r,qi,1)),n}function Cu(e){for(var t,r=Ou(e);e.b==ga;)r.type!=qi&&wu(e,"cross"),nu(e),(t=Ou(e)).type!=qi&&Mu(e,"cross"),r=lu(_s,r,t,qi,r.q+t.q);return r}function Lu(e){for(var t,r=Cu(e);e.b==_a;)r.type!=qi&&wu(e,"inter"),nu(e),(t=Cu(e)).type!=qi&&Mu(e,"inter"),r.q!=t.q&&Nu(e,"inter",r.q,t.q),r=lu(Ns,r,t,qi,r.q);return r}function Tu(e){for(var t,r=Lu(e);;)if(e.b==Ta)r.type!=qi&&wu(e,"union"),nu(e),(t=Lu(e)).type!=qi&&Mu(e,"union"),r.q!=t.q&&Nu(e,"union",r.q,t.q),r=lu(xs,r,t,qi,r.q);else if(e.b==ba)r.type!=qi&&wu(e,"diff"),nu(e),(t=Lu(e)).type!=qi&&Mu(e,"diff"),r.q!=t.q&&Nu(e,"diff",r.q,t.q),r=lu(ws,r,t,qi,r.q);else{if(e.b!=Ca)break;r.type!=qi&&wu(e,"symdiff"),nu(e),(t=Lu(e)).type!=qi&&Mu(e,"symdiff"),r.q!=t.q&&Nu(e,"symdiff",r.q,t.q),r=lu(Ms,r,t,qi,r.q)}return r}function Pu(e){var t,r=-1,n="",i=Tu(e);switch(e.b){case Ra:r=ps;break;case Da:r=ms;break;case qa:r=hs;break;case Va:r=ds;break;case Xa:r=vs;break;case Ua:r=gs;break;case Ma:r=As;break;case Pa:r=Ss;break;case Sa:n=e.h,nu(e),e.b==Ma?r=Es:e.b==Pa?r=ks:Uc(e,"invalid use of "+n),n+=" ";break;default:return i}switch(n+=e.h,r){case hs:case gs:case ps:case ms:case vs:case ds:i.type!=$i&&i.type!=aa&&wu(e,n),nu(e),(t=Tu(e)).type!=$i&&t.type!=aa&&Mu(e,n),i.type==$i&&t.type==aa&&(i=uu(Lo,i,aa,0)),i.type==aa&&t.type==$i&&(t=uu(Lo,t,aa,0)),i=lu(r,i,t,Ji,0);break;case As:case Es:i.type==$i&&(i=uu(Lo,i,aa,0)),i.type==aa&&(i=uu(Po,i,sa,1)),i.type!=sa&&wu(e,n),nu(e),(t=Tu(e)).type!=qi&&Mu(e,n),i.q!=t.q&&Nu(e,n,i.q,t.q),i=lu(r,i,t,Ji,0);break;case Ss:case ks:i.type!=qi&&wu(e,n),nu(e),(t=Tu(e)).type!=qi&&Mu(e,n),i.q!=t.q&&Nu(e,n,i.q,t.q),i=lu(r,i,t,Ji,0)}return i}function Iu(e){var t,r;return e.b==Sa?(r=e.h,nu(e),(t=Pu(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type==$i&&(t=uu(To,t,Ji,0)),t.type!=Ji&&Mu(e,r),t=uu(jo,t,Ji,0)):t=Pu(e),t}function zu(e){for(var t,r="",n=Iu(e);e.b==da;)r=e.h,n.type==aa&&(n=uu(Co,n,$i,0)),n.type==$i&&(n=uu(To,n,Ji,0)),n.type!=Ji&&wu(e,r),nu(e),(t=Iu(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type==$i&&(t=uu(To,t,Ji,0)),t.type!=Ji&&Mu(e,r),n=lu(bs,n,t,Ji,0);return n}function Bu(e){for(var t,r=zu(e);e.b==ka;){var n=e.h;r.type==aa&&(r=uu(Co,r,$i,0)),r.type==$i&&(r=uu(To,r,Ji,0)),r.type!=Ji&&wu(e,n),nu(e),(t=zu(e)).type==aa&&(t=uu(Co,t,$i,0)),t.type==$i&&(t=uu(To,t,Ji,0)),t.type!=Ji&&Mu(e,n),r=lu(ys,r,t,Ji,0)}return r}function ju(e){function t(){Uc(e,"syntax error in constraint statement")}var r,n,i,a;e.Ob&&Uc(e,"constraint statement must precede solve statement"),au(e,"subject")?(nu(e),au(e,"to")||Uc(e,"keyword subject to incomplete"),nu(e)):au(e,"subj")?(nu(e),au(e,"to")||Uc(e,"keyword subj to incomplete"),nu(e)):e.b==Oa&&nu(e),e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"symbolic name missing where expected")),null!=e.V[e.h]&&Uc(e,e.h+" multiply declared");var o={};switch(o.name=e.h,o.Ib=null,o.q=0,o.domain=null,o.type=Fi,o.code=null,o.P=null,o.W=null,o.O=null,nu(e),e.b==ha&&(o.Ib=e.h,nu(e)),e.b==no&&(o.domain=gu(e),o.q=xu(o.domain)),(r=e.V[o.name]={}).type=Fi,r.link=o,e.b!=Ja&&Uc(e,"colon missing where expected"),nu(e),(r=ku(e)).type==aa&&(r=uu(Co,r,$i,0)),r.type!=$i&&r.type!=Gi&&Uc(e,"expression following colon has invalid type"),e.b==Za&&nu(e),e.b){case Da:case Va:case qa:break;case Ra:case Xa:case Ua:Uc(e,"strict inequality not allowed");break;case Ka:Uc(e,"constraint must be equality or inequality");break;default:t()}if(a=e.b,i=e.h,nu(e),(n=ku(e)).type==aa&&(n=uu(Co,n,$i,0)),n.type!=$i&&n.type!=Gi&&Uc(e,"expression following "+i+" has invalid type"),e.b==Za&&(nu(e),e.b==Ka&&t()),e.b==Ra||e.b==Da||e.b==qa||e.b==Va||e.b==Xa||e.b==Ua?(a!=qa&&e.b==a||Uc(e,"double inequality must be ... <= ... <= ... or ... >= ... >= ..."),r.type==Gi&&Uc(e,"leftmost expression in double inequality cannot be linear form"),nu(e),(i=ku(e)).type==aa&&(i=uu(Co,n,$i,0)),i.type!=$i&&i.type!=Gi&&Uc(e,"rightmost expression in double inequality constraint has invalid type"),i.type==Gi&&Uc(e,"rightmost expression in double inequality cannot be linear form")):i=null,null!=o.domain&&bu(e,o.domain),r.type!=Gi&&(r=uu(Io,r,Gi,0)),n.type!=Gi&&(n=uu(Io,n,Gi,0)),null!=i&&(i=uu(Io,i,Gi,0)),null==i)switch(a){case Da:o.code=r,o.P=null,o.W=n;break;case Va:o.code=r,o.P=n,o.W=null;break;case qa:o.code=r,o.P=n,o.W=n}else switch(a){case Da:o.code=n,o.P=r,o.W=i;break;case Va:o.code=n,o.P=i,o.W=r}return e.b!=Ka&&t(),nu(e),o}function Fu(e){!e.nc&&au(e,"end")||e.nc&&Gu(e,"end")?(nu(e),e.b==Ka?nu(e):Gc(e,"no semicolon following end statement; missing semicolon inserted")):Gc(e,"unexpected end of file; missing end statement inserted"),e.b!=ca&&Gc(e,"some text detected beyond end statement; text ignored")}function Ru(e,t){var r={v:{}};if(r.bb=e.bb,r.Vc=e.Vc,r.e=null,au(e,"set"))t&&Uc(e,"set statement not allowed here"),r.type=na,r.v.set=function(e){function t(){Uc(e,"at most one := or default/data allowed")}function r(){Uc(e,e.h+" not a plain set")}function n(){Uc(e,"dimension of "+e.h+" too small")}function i(){Uc(e,"component number must be integer between 1 and "+s.set.X)}var a,o,s,u=0;for(nu(e),e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"symbolic name missing where expected")),null!=e.V[e.h]&&Uc(e,e.h+" multiply declared"),(a={}).name=e.h,a.Ib=null,a.q=0,a.domain=null,a.X=0,a.Bf=null,a.assign=null,a.xa=null,a.Yc=null,a.data=0,a.O=null,nu(e),e.b==ha&&(a.Ib=e.h,nu(e)),e.b==no&&(a.domain=gu(e),a.q=xu(a.domain)),(o=e.V[a.name]={}).type=na,o.link=a;;){if(e.b==Za)nu(e);else if(e.b==Ka)break;var l;if(au(e,"dimen"))nu(e),e.b==ma&&1<=e.value&&20>=e.value&&Math.floor(e.value)==e.value||Uc(e,"dimension must be integer between 1 and 20"),l=e.value+.5|0,u&&Uc(e,"at most one dimension attribute allowed"),0<a.X&&Uc(e,"dimension "+l+" conflicts with dimension "+a.X+" already determined"),a.X=l,u=1,nu(e);else if(e.b==Pa||e.b==Ma){if(e.b!=Ma||e.rg||(Gc(e,"keyword in understood as within"),e.rg=1),nu(e),l={code:null,e:null},null==a.Bf)a.Bf=l;else{for(o=a.Bf;null!=o.e;o=o.e);o.e=l}l.code=Tu(e),l.code.type!=qi&&Uc(e,"expression following within has invalid type"),0==a.X&&(a.X=l.code.q),a.X!=l.code.q&&Uc(e,"set expression following within must have dimension "+a.X+" rather than "+l.code.q)}else if(e.b==Wa)null==a.assign&&null==a.xa&&null==a.Yc||t(),nu(e),a.assign=Tu(e),a.assign.type!=qi&&Uc(e,"expression following := has invalid type"),0==a.X&&(a.X=a.assign.q),a.X!=a.assign.q&&Uc(e,"set expression following := must have dimension "+a.X+" rather than "+a.assign.q);else if(au(e,"default"))null==a.assign&&null==a.xa||t(),nu(e),a.xa=Tu(e),a.xa.type!=qi&&Uc(e,"expression following default has invalid type"),0==a.X&&(a.X=a.xa.q),a.X!=a.xa.q&&Uc(e,"set expression following default must have dimension "+a.X+" rather than "+a.xa.q);else if(au(e,"data")){var c=0;for(l=Array(20),null==a.assign&&null==a.Yc||t(),nu(e),a.Yc=s={},e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"set name missing where expected")),null==(o=e.V[e.h])&&Uc(e,e.h+" not defined"),o.type!=na&&r(),s.set=o.link,0!=s.set.q&&r(),s.set==a&&Uc(e,"set cannot be initialized by itself"),a.q>=s.set.X&&n(),0==a.X&&(a.X=s.set.X-a.q),a.q+a.X>s.set.X?n():a.q+a.X<s.set.X&&Uc(e,"dimension of "+e.h+" too big"),nu(e),e.b==$a?nu(e):Uc(e,"left parenthesis missing where expected"),o=0;o<s.set.X;o++)l[o]=0;for(o=0;;)if(e.b!=ma&&Uc(e,"component number missing where expected"),0!=Ln(e.h,function(e){c=e})&&i(),1<=c&&c<=s.set.X||i(),0!=l[c-1]&&Uc(e,"component "+c+" multiply specified"),s.Z[o++]=c,l[c-1]=1,nu(e),e.b==Za)nu(e);else{if(e.b==eo)break;Uc(e,"syntax error in data attribute")}o<s.set.X&&Uc(e,"there are must be "+s.set.X+" components rather than "+o),nu(e)}else Uc(e,"syntax error in set statement")}return null!=a.domain&&bu(e,a.domain),0==a.X&&(a.X=1),nu(e),a}(e);else if(au(e,"param"))t&&Uc(e,"parameter statement not allowed here"),r.type=ta,r.v.S=function(e){function t(){o&&Uc(e,"at most one binary allowed"),n.type==aa&&Uc(e,"symbolic parameter cannot be binary"),n.type=Bi,o=1,nu(e)}function r(){Uc(e,"at most one := or default allowed")}var n,i,a=0,o=0,s=0;for(nu(e),e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"symbolic name missing where expected")),null!=e.V[e.h]&&Uc(e,e.h+" multiply declared"),(n={}).name=e.h,n.Ib=null,n.q=0,n.domain=null,n.type=$i,n.wd=null,n.qa=null,n.assign=null,n.xa=null,n.data=0,n.Wc=null,n.O=null,nu(e),e.b==ha&&(n.Ib=e.h,nu(e)),e.b==no&&(n.domain=gu(e),n.q=xu(n.domain)),(i=e.V[n.name]={}).type=ta,i.link=n;;){if(e.b==Za)nu(e);else if(e.b==Ka)break;if(au(e,"integer"))a&&Uc(e,"at most one integer allowed"),n.type==aa&&Uc(e,"symbolic parameter cannot be integer"),n.type!=Bi&&(n.type=Zi),a=1,nu(e);else if(au(e,"binary"))t();else if(au(e,"logical"))e.Ke||(Gc(e,"keyword logical understood as binary"),e.Ke=1),t();else if(au(e,"symbolic"))s&&Uc(e,"at most one symbolic allowed"),n.type!=$i&&Uc(e,"integer or binary parameter cannot be symbolic"),null==n.wd&&null==n.qa&&null==n.assign&&null==n.xa||Uc(e,"keyword symbolic must precede any other parameter attributes"),n.type=aa,s=1,nu(e);else if(e.b==Ra||e.b==Da||e.b==qa||e.b==Va||e.b==Xa||e.b==Ua){var u,l={};switch(e.b){case Ra:l.jd=ps,u=e.h;break;case Da:l.jd=ms,u=e.h;break;case qa:l.jd=hs,u=e.h;break;case Va:l.jd=ds,u=e.h;break;case Xa:l.jd=vs,u=e.h;break;case Ua:l.jd=gs,u=e.h}if(l.code=null,l.e=null,null==n.wd)n.wd=l;else{for(i=n.wd;null!=i.e;i=i.e);i.e=l}nu(e),l.code=ku(e),l.code.type!=$i&&l.code.type!=aa&&Uc(e,"expression following "+u+" has invalid type"),n.type!=aa&&l.code.type==aa&&(l.code=uu(Co,l.code,$i,0)),n.type==aa&&l.code.type!=aa&&(l.code=uu(Lo,l.code,aa,0))}else if(e.b==Ma||e.b==Pa){if(e.b!=Pa||e.qg||(Gc(e,"keyword within understood as in"),e.qg=1),nu(e),l={code:null,e:null},null==n.qa)n.qa=l;else{for(i=n.qa;null!=i.e;i=i.e);i.e=l}l.code=Tu(e),l.code.type!=qi&&Uc(e,"expression following in has invalid type"),1!=l.code.q&&Uc(e,"set expression following in must have dimension 1 rather than "+l.code.q)}else e.b==Wa?(null==n.assign&&null==n.xa||r(),nu(e),n.assign=ku(e),n.assign.type!=$i&&n.assign.type!=aa&&Uc(e,"expression following := has invalid type"),n.type!=aa&&n.assign.type==aa&&(n.assign=uu(Co,n.assign,$i,0)),n.type==aa&&n.assign.type!=aa&&(n.assign=uu(Lo,n.assign,aa,0))):au(e,"default")?(null==n.assign&&null==n.xa||r(),nu(e),n.xa=ku(e),n.xa.type!=$i&&n.xa.type!=aa&&Uc(e,"expression following default has invalid type"),n.type!=aa&&n.xa.type==aa&&(n.xa=uu(Co,n.xa,$i,0)),n.type==aa&&n.xa.type!=aa&&(n.xa=uu(Lo,n.xa,aa,0))):Uc(e,"syntax error in parameter statement")}return null!=n.domain&&bu(e,n.domain),nu(e),n}(e);else if(au(e,"var"))t&&Uc(e,"variable statement not allowed here"),r.type=ua,r.v.t=function(e){function t(){n&&Uc(e,"at most one binary allowed"),i.type=Bi,n=1,nu(e)}var r=0,n=0;e.Ob&&Uc(e,"variable statement must precede solve statement"),nu(e),e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"symbolic name missing where expected")),null!=e.V[e.h]&&Uc(e,e.h+" multiply declared");var i={};i.name=e.h,i.Ib=null,i.q=0,i.domain=null,i.type=$i,i.P=null,i.W=null,i.O=null,nu(e),e.b==ha&&(i.Ib=e.h,nu(e)),e.b==no&&(i.domain=gu(e),i.q=xu(i.domain));var a=e.V[i.name]={};for(a.type=ua,a.link=i;;){if(e.b==Za)nu(e);else if(e.b==Ka)break;au(e,"integer")?(r&&Uc(e,"at most one integer allowed"),i.type!=Bi&&(i.type=Zi),r=1,nu(e)):au(e,"binary")?t():au(e,"logical")?(e.Ke||(Gc(e,"keyword logical understood as binary"),e.Ke=1),t()):au(e,"symbolic")?Uc(e,"variable cannot be symbolic"):e.b==Va?(null!=i.P&&Uc(e,i.P==i.W?"both fixed value and lower bound not allowed":"at most one lower bound allowed"),nu(e),i.P=ku(e),i.P.type==aa&&(i.P=uu(Co,i.P,$i,0)),i.P.type!=$i&&Uc(e,"expression following >= has invalid type")):e.b==Da?(null!=i.W&&Uc(e,i.W==i.P?"both fixed value and upper bound not allowed":"at most one upper bound allowed"),nu(e),i.W=ku(e),i.W.type==aa&&(i.W=uu(Co,i.W,$i,0)),i.W.type!=$i&&Uc(e,"expression following <= has invalid type")):e.b==qa?(null==i.P&&null==i.W||Uc(e,i.P==i.W?"at most one fixed value allowed":null!=i.P?"both lower bound and fixed value not allowed":"both upper bound and fixed value not allowed"),a=e.h,nu(e),i.P=ku(e),i.P.type==aa&&(i.P=uu(Co,i.P,$i,0)),i.P.type!=$i&&Uc(e,"expression following "+a+" has invalid type"),i.W=i.P):Uc(e,e.b==Ra||e.b==Xa||e.b==Ua?"strict bound not allowed":"syntax error in variable statement")}return null!=i.domain&&bu(e,i.domain),nu(e),i}(e);else if(au(e,"subject")||au(e,"subj")||e.b==Oa)t&&Uc(e,"constraint statement not allowed here"),r.type=Fi,r.v.H=ju(e);else if(au(e,"minimize")||au(e,"maximize")){t&&Uc(e,"objective statement not allowed here"),r.type=Fi;var n,i,a=r.v;au(e,"minimize")?i=Wi:au(e,"maximize")&&(i=Ki),e.Ob&&Uc(e,"objective statement must precede solve statement"),nu(e),e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"symbolic name missing where expected")),null!=e.V[e.h]&&Uc(e,e.h+" multiply declared"),(n={}).name=e.h,n.Ib=null,n.q=0,n.domain=null,n.type=i,n.code=null,n.P=null,n.W=null,n.O=null,nu(e),e.b==ha&&(n.Ib=e.h,nu(e)),e.b==no&&(n.domain=gu(e),n.q=xu(n.domain)),(i=e.V[n.name]={}).type=Fi,i.link=n,e.b!=Ja&&Uc(e,"colon missing where expected"),nu(e),n.code=ku(e),n.code.type==aa&&(n.code=uu(Co,n.code,$i,0)),n.code.type==$i&&(n.code=uu(Io,n.code,Gi,0)),n.code.type!=Gi&&Uc(e,"expression following colon has invalid type"),null!=n.domain&&bu(e,n.domain),e.b!=Ka&&Uc(e,"syntax error in objective statement"),nu(e),a.H=n}else if(au(e,"table")){var o,s,u;for(t&&Uc(e,"table statement not allowed here"),r.type=oa,a=r.v,nu(e),e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"symbolic name missing where expected")),null!=e.V[e.h]&&Uc(e,e.h+" multiply declared"),(n={v:{qa:{},Oc:{}}}).name=e.h,nu(e),e.b==ha?(n.Ib=e.h,nu(e)):n.Ib=null,e.b==no?(n.type=ea,n.v.Oc.domain=gu(e),au(e,"OUT")||Uc(e,"keyword OUT missing where expected")):(n.type=Yi,au(e,"IN")||Uc(e,"keyword IN missing where expected")),nu(e),n.a=i=null;;)if(o={},e.b!=Za&&e.b!=Ja&&e.b!=Ka||Uc(e,"argument expression missing where expected"),o.code=ku(e),o.code.type==$i&&(o.code=uu(Lo,o.code,aa,0)),o.code.type!=aa&&Uc(e,"argument expression has invalid type"),o.e=null,null==i?n.a=o:i.e=o,i=o,e.b==Za)nu(e);else if(e.b==Ja||e.b==Ka)break;switch(e.b==Ja?nu(e):Uc(e,"colon missing where expected"),n.type){case Yi:for(e.b==fa?(null==(o=e.V[e.h])&&Uc(e,e.h+" not defined"),o.type!=na&&Uc(e,e.h+" not a set"),n.v.qa.set=o.link,null!=n.v.qa.set.assign&&Uc(e,e.h+" needs no data"),0!=n.v.qa.set.q&&Uc(e,e.h+" must be a simple set"),nu(e),e.b==so?nu(e):Uc(e,"delimiter <- missing where expected")):ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):n.v.qa.set=null,n.v.qa.We=o=null,i=0,e.b==to?nu(e):Uc(e,"field list missing where expected");;)if(s={},e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"field name missing where expected")),s.name=e.h,nu(e),s.e=null,null==o?n.v.qa.We=s:o.e=s,o=s,i++,e.b==Za)nu(e);else{if(e.b==ro)break;Uc(e,"syntax error in field list")}for(null!=n.v.qa.set&&n.v.qa.set.X!=i&&Uc(e,"there must be "+n.v.qa.set.X+" field"+(1==n.v.qa.set.X?"":"s")+" rather than "+i),nu(e),n.v.qa.list=s=null;e.b==Za;)nu(e),u={},e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"parameter name missing where expected")),null==(o=e.V[e.h])&&Uc(e,e.h+" not defined"),o.type!=ta&&Uc(e,e.h+" not a parameter"),u.S=o.link,u.S.q!=i&&Uc(e,e.h+" must have "+i+" subscript"+(1==i?"":"s")+" rather than "+u.S.q),null!=u.S.assign&&Uc(e,e.h+" needs no data"),nu(e),e.b==oo?(nu(e),e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"field name missing where expected")),o=e.h,nu(e)):o=u.S.name,u.name=o,u.e=null,null==s?n.v.qa.list=u:s.e=u,s=u;break;case ea:for(n.v.Oc.list=i=null;;)if(s={},e.b!=Za&&e.b!=Ka||Uc(e,"expression missing where expected"),o=e.b==fa?e.h:"",s.code=ku(e),e.b==oo&&(nu(e),e.b!=fa&&(ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"field name missing where expected")),o=e.h,nu(e)),""==o&&Uc(e,"field name required"),s.name=o,s.e=null,null==i?n.v.Oc.list=s:i.e=s,i=s,e.b==Za)nu(e);else{if(e.b==Ka)break;Uc(e,"syntax error in output list")}bu(e,n.v.Oc.domain)}e.b!=Ka&&Uc(e,"syntax error in table statement"),nu(e),a.nd=n}else if(au(e,"solve"))t&&Uc(e,"solve statement not allowed here"),r.type=ia,a=r.v,e.Ob&&Uc(e,"at most one solve statement allowed"),e.Ob=1,nu(e),e.b!=Ka&&Uc(e,"syntax error in solve statement"),nu(e),a.zh=null;else if(au(e,"check"))r.type=ji,a=r.v,n={domain:null,code:null},nu(e),e.b==no&&(n.domain=gu(e)),e.b==Ja&&nu(e),n.code=Bu(e),n.code.type!=Ji&&Uc(e,"expression has invalid type"),null!=n.domain&&bu(e,n.domain),e.b!=Ka&&Uc(e,"syntax error in check statement"),nu(e),a.Rg=n;else if(au(e,"display"))r.type=Ri,r.v.Sg=function(e){var t,r={domain:null};for(r.list=t=null,nu(e),e.b==no&&(r.domain=gu(e)),e.b==Ja&&nu(e);;){var n,i={v:{}},a=function(){i.type=Xi,i.v.code=Bu(e)};if(i.type=0,i.e=null,null==r.list?r.list=i:t.e=i,t=i,e.b==fa)if(nu(e),n=e.b,iu(e),n!=Za&&n!=Ka)a();else{switch(null==(a=e.V[e.h])&&Uc(e,e.h+" not defined"),i.type=a.type,a.type){case Hi:i.v.ya=a.link;break;case na:i.v.set=a.link;break;case ta:i.v.S=a.link;break;case ua:i.v.t=a.link,e.Ob||Uc(e,"invalid reference to variable "+i.v.t.name+" above solve statement");break;case Fi:i.v.H=a.link,e.Ob||Uc(e,"invalid reference to "+(i.v.H.type==Fi?"constraint":"objective")+" "+i.v.H.name+" above solve statement")}nu(e)}else a();if(e.b!=Za)break;nu(e)}return null!=r.domain&&bu(e,r.domain),e.b!=Ka&&Uc(e,"syntax error in display statement"),nu(e),r}(e);else if(au(e,"printf")){for(r.type=ra,a=r.v,(o={domain:null,zd:null}).list=i=null,nu(e),e.b==no&&(o.domain=gu(e)),e.b==Ja&&nu(e),o.zd=ku(e),o.zd.type==$i&&(o.zd=uu(Lo,o.zd,aa,0)),o.zd.type!=aa&&Uc(e,"format expression has invalid type");e.b==Za;)nu(e),n={code:null,e:null},null==o.list?o.list=n:i.e=n,i=n,n.code=Tu(e),n.code.type!=$i&&n.code.type!=aa&&n.code.type!=Ji&&Uc(e,"only numeric, symbolic, or logical expression allowed");null!=o.domain&&bu(e,o.domain),o.Ea=null,o.Mg=0,e.b!=Xa&&e.b!=ao||(o.Mg=e.b==ao,nu(e),o.Ea=ku(e),o.Ea.type==$i&&(o.Ea=uu(Lo,o.Ea,aa,0)),o.Ea.type!=aa&&Uc(e,"file name expression has invalid type")),e.b!=Ka&&Uc(e,"syntax error in printf statement"),nu(e),a.nh=o}else if(au(e,"for")){if(r.type=Ui,a=r.v,(o={domain:null}).list=i=null,nu(e),e.b!=no&&Uc(e,"indexing expression missing where expected"),o.domain=gu(e),e.b==Ja&&nu(e),e.b!=no)o.list=Ru(e,1);else{for(nu(e);e.b!=io;)n=Ru(e,1),null==i?o.list=n:i.e=n,i=n;nu(e)}bu(e,o.domain),a.Ug=o}else e.b==fa?(t&&Uc(e,"constraint statement not allowed here"),r.type=Fi,r.v.H=ju(e)):ou(e)?Uc(e,"invalid use of reserved keyword "+e.h):Uc(e,"syntax error in model section");return r}function Du(e,t){var r,n={};if(n.Y=t,n.e=null,null==e)e=n;else{for(r=e;null!=r.e;r=r.e);r.e=n}return e}function qu(e){for(var t=0;null!=e;e=e.e)t++;return t}function Vu(e){for(var t=0;null!=e;e=e.e)null==e.Y&&t++;return t}function Xu(e){for(var t=null;0<e--;)t=Du(t,null);return t}function Uu(e){return e.b==ma||e.b==pa||e.b==ha}function Gu(e,t){return Uu(e)&&e.h==t}function Hu(e){var t;return t=e.b==ma?pl(e.value):ml(e.h),nu(e),t}function Yu(e,t,r){var n,i;switch(e.b){case to:i=ro;break;case $a:i=eo}for(0==r&&Uc(e,t+" cannot be subscripted"),nu(e),n=null;;)if(Uu(e)?n=Du(n,Hu(e)):e.b==Ba?(n=Du(n,null),nu(e)):Uc(e,"number, symbol, or asterisk missing where expected"),e.b==Za)nu(e);else{if(e.b==i)break;Uc(e,"syntax error in slice")}if(qu(n)!=r)switch(i){case ro:Uc(e,t+" must have "+r+" subscript"+(1==r?"":"s")+", not "+qu(n));break;case eo:Uc(e,t+" has dimension "+r+", not "+qu(n))}return nu(e),n}function Zu(e,t){var r;return null!=(r=e.V[t])&&r.type==na||Uc(e,t+" not a set"),null==(r=r.link).assign&&null==r.Yc||Uc(e,t+" needs no data"),r.data=1,r}function Ju(e,t,r){var n,i,a=null;for(n=null;null!=r;r=r.e)null==r.Y?(Uu(e)||Uc(e,1==(i=Vu(r))?"one item missing in data group beginning with "+vl(a):i+" items missing in data group beginning with "+vl(a)),i=Hu(e),null==a&&(a=i)):i=hl(r.Y),n=gl(n,i),null!=r.e&&e.b==Za&&nu(e);_l(e,t.value.set,n)}function Ku(e,t,r,n){var i,a,o,s,u;for(i=null;e.b!=Wa;)Uu(e)||Uc(e,"number, symbol, or := missing where expected"),i=Du(i,Hu(e));for(nu(e);Uu(e);)for(u=Hu(e),a=i;null!=a;a=a.e){var l=0;if(!Gu(e,"+")){if(Gu(e,"-")){nu(e);continue}Uc(e,1==(o=qu(a))?"one item missing in data group beginning with "+vl(u):o+" items missing in data group beginning with "+vl(u))}for(s=null,o=r;null!=o;o=o.e)if(null==o.Y)switch(++l){case 1:s=gl(s,hl(n?a.Y:u));break;case 2:s=gl(s,hl(n?u:a.Y))}else s=gl(s,hl(o.Y));_l(e,t.value.set,s),nu(e)}}function Wu(e){function t(){Uc(e,"slice currently used must specify 2 asterisks, not "+Vu(s))}function r(){Uc(e,"transpose indicator (tr) incomplete")}function n(){nu(e),Gu(e,"tr")||r(),2!=Vu(s)&&t(),nu(e),e.b!=eo&&r(),nu(e),e.b==Ja&&nu(e),Ku(e,o,s,u=1)}var i,a,o,s,u=0;if(nu(e),Uu(e)||Uc(e,"set name missing where expected"),i=Zu(e,e.h),nu(e),a=null,e.b==to){for(0==i.q&&Uc(e,i.name+" cannot be subscripted"),nu(e);;)if(Uu(e)||Uc(e,"number or symbol missing where expected"),a=gl(a,Hu(e)),e.b==Za)nu(e);else{if(e.b==ro)break;Uc(e,"syntax error in subscript list")}i.q!=bl(a)&&Uc(e,i.name+" must have "+i.q+" subscript"+(1==i.q?"":"s")+" rather than "+bl(a)),nu(e)}else 0!=i.q&&Uc(e,i.name+" must be subscripted");for(null!=zl(e,i.O,a)&&Uc(e,i.name+Ml("[",a)+" already defined"),(o=Bl(i.O,a)).value.set=Pl(e,Qi,i.X),s=Xu(i.X);;)if(e.b==Za&&nu(e),e.b==Wa)nu(e);else if(e.b==$a)nu(e),a=Gu(e,"tr"),iu(e),a?n():(s=Yu(e,i.name,i.X),u=0,0==Vu(s)&&Ju(e,o,s));else if(Uu(e))Ju(e,o,s);else if(e.b==Ja)2!=Vu(s)&&t(),nu(e),Ku(e,o,s,u);else if(e.b==$a)n();else{if(e.b==Ka){nu(e);break}Uc(e,"syntax error in set data block")}}function Qu(e,t){var r;return null!=(r=e.V[t])&&r.type==ta||Uc(e,t+" not a parameter"),null!=(r=r.link).assign&&Uc(e,t+" needs no data"),r.data&&Uc(e,t+" already provided with data"),r.data=1,r}function $u(e,t,r){null!=t.xa&&Uc(e,"default value for "+t.name+" already specified in model section"),t.Wc=r}function el(e,t,r){switch(null!=zl(e,t.O,r)&&Uc(e,t.name+Ml("[",r)+" already defined"),r=Bl(t.O,r),t.type){case $i:case Zi:case Bi:e.b==ma||Uc(e,t.name+" requires numeric data"),t=r.value,r=e.value,nu(e),t.Q=r;break;case aa:r.value.Y=Hu(e)}}function tl(e,t,r){var n,i,a=null;for(n=null;null!=r;r=r.e)null==r.Y?(Uu(e)||Uc(e,Vu(r)+1+" items missing in data group beginning with "+vl(a)),i=Hu(e),null==a&&(a=i)):i=hl(r.Y),n=gl(n,i),e.b==Za&&nu(e);Uu(e)||Uc(e,"one item missing in data group beginning with "+vl(a)),el(e,t,n)}function rl(e,t,r,n){var i,a,o,s,u;for(i=null;e.b!=Wa;)Uu(e)||Uc(e,"number, symbol, or := missing where expected"),i=Du(i,Hu(e));for(nu(e);Uu(e);)for(u=Hu(e),a=i;null!=a;a=a.e){var l=0;if(Gu(e,"."))nu(e);else{for(s=null,o=r;null!=o;o=o.e)if(null==o.Y)switch(++l){case 1:s=gl(s,hl(n?a.Y:u));break;case 2:s=gl(s,hl(n?u:a.Y))}else s=gl(s,hl(o.Y));Uu(e)||Uc(e,1==(o=qu(a))?"one item missing in data group beginning with "+vl(u):o+" items missing in data group beginning with "+vl(u)),el(e,t,s)}}}function nl(e){function t(){Uc(e,i.name+" not a subscripted parameter")}function r(){Uc(e,"slice currently used must specify 2 asterisks, not "+Vu(a))}function n(){Uc(e,"transpose indicator (tr) incomplete")}var i,a,o=null,s=0;if(nu(e),Gu(e,"default")&&(nu(e),Uu(e)||Uc(e,"default value missing where expected"),o=Hu(e),e.b!=Ja&&Uc(e,"colon missing where expected")),e.b==Ja)nu(e),e.b==Za&&nu(e),function(e,t){var r,n,i,a,o=null,s=0;for(a=null,Uu(e)&&(nu(e),n=e.b,iu(e),n==Ja&&(0!=(o=Zu(e,e.h)).q&&Uc(e,o.name+" must be a simple set"),null!=o.O.head&&Uc(e,o.name+" already defined"),Bl(o.O,null).value.set=Pl(e,Qi,o.X),a=o.name,s=o.X,nu(e),nu(e))),n=null;e.b!=Wa;)Uu(e)||Uc(e,"parameter name or := missing where expected"),0==(r=Qu(e,e.h)).q&&Uc(e,e.h+" not a subscripted parameter"),0!=s&&r.q!=s&&Uc(e,a+" has dimension "+s+" while "+r.name+" has dimension "+r.q),null!=t&&$u(e,r,hl(t)),n=Du(n,r),a=r.name,s=r.q,nu(e),e.b==Za&&nu(e);for(0==qu(n)&&Uc(e,"at least one parameter name required"),nu(e),e.b==Za&&nu(e);Uu(e);){for(a=null,i=1;i<=s;i++)Uu(e)||Uc(e,(r=qu(n)+s-i+1)+" items missing in data group beginning with "+vl(a.Y)),a=gl(a,Hu(e)),i<s&&e.b==Za&&nu(e);for(null!=o&&_l(e,o.O.head.value.set,yl(a)),e.b==Za&&nu(e),i=n;null!=i;i=i.e)Gu(e,".")?nu(e):(Uu(e)||Uc(e,1==(r=qu(i))?"one item missing in data group beginning with "+vl(a.Y):r+" items missing in data group beginning with "+vl(a.Y)),el(e,i.Y,yl(a)),null!=i.e&&e.b==Za&&nu(e));e.b==Za&&(nu(e),Uu(e)||iu(e))}for(i=n;null!=i;i=i.e)i.Y=null}(e,o),e.b!=Ka&&Uc(e,"symbol, number, or semicolon missing where expected"),nu(e);else for(Uu(e)||Uc(e,"parameter name missing where expected"),i=Qu(e,e.h),nu(e),Gu(e,"default")&&(nu(e),Uu(e)||Uc(e,"default value missing where expected"),o=Hu(e),$u(e,i,o)),a=Xu(i.q);;)if(e.b==Za&&nu(e),e.b==Wa)nu(e);else if(e.b==to)a=Yu(e,i.name,i.q),s=0;else if(Uu(e))tl(e,i,a);else if(e.b==Ja)0==i.q&&t(),2!=Vu(a)&&r(),nu(e),rl(e,i,a,s);else if(e.b==$a)nu(e),Gu(e,"tr")||n(),0==i.q&&t(),2!=Vu(a)&&r(),nu(e),e.b!=eo&&n(),nu(e),e.b==Ja&&nu(e),rl(e,i,a,s=1);else{if(e.b==Ka){nu(e);break}Uc(e,"syntax error in parameter data block")}}function il(e){for(;e.b!=ca&&!Gu(e,"end");)Gu(e,"set")?Wu(e):Gu(e,"param")?nl(e):Uc(e,"syntax error in data section")}function al(e,r,n){return(0<r&&0<n&&r>.999*t-n||0>r&&0>n&&r<-.999*t-n)&&Uc(e,r+" + "+n+"; floating-point overflow"),r+n}function ol(e,r,n){return(0<r&&0>n&&r>.999*t+n||0>r&&0<n&&r<-.999*t+n)&&Uc(e,r+" - "+n+"; floating-point overflow"),r-n}function sl(e,r,n){return 1<Math.abs(n)&&Math.abs(r)>.999*t/Math.abs(n)&&Uc(e,r+" * "+n+"; floating-point overflow"),r*n}function ul(e,n,i){return Math.abs(i)<r&&Uc(e,n+" / "+i+"; floating-point zero divide"),1>Math.abs(i)&&Math.abs(n)>.999*t*Math.abs(i)&&Uc(e,n+" / "+i+"; floating-point overflow"),n/i}function ll(e,r,n){return n!=Math.floor(n)&&Uc(e,"round("+r+", "+n+"); non-integer second argument"),18>=n&&(e=Math.pow(10,n),Math.abs(r)<.999*t/e&&0!=(r=Math.floor(r*e+.5))&&(r/=e)),r}function cl(e,r,n){return n!=Math.floor(n)&&Uc(e,"trunc("+r+", "+n+"); non-integer second argument"),18>=n&&(e=Math.pow(10,n),Math.abs(r)<.999*t/e&&0!=(r=0<=r?Math.floor(r*e):Math.ceil(r*e))&&(r/=e)),r}function fl(e){var t,r;do{t=(t=mp(e.Gd)/2147483648*2-1)*t+(r=mp(e.Gd)/2147483648*2-1)*r}while(1<t||0==t);return r*Math.sqrt(-2*Math.log(t)/t)}function pl(e){var t={};return t.Q=e,t.M=null,t}function ml(e){var t={Q:0};return t.M=e,t}function hl(e){var t={};return null==e.M?(t.Q=e.Q,t.M=null):(t.Q=0,t.M=e.M),t}function dl(e,t){var r;if(null==e.M&&null==t.M)r=e.Q<t.Q?-1:e.Q>t.Q?1:0;else if(null==e.M)r=-1;else if(null==t.M)r=1;else{var n=t.M;r=(r=e.M)==n?0:r>n?1:-1}return r}function vl(e){var t;if(null==e.M)t=String(e.Q);else{var r,n,i=e.M;if(d(i[0])||"_"==i[0]){for(e=!1,r=1;r<i.length;r++)if(!(v(i[r])||0<="+-._".indexOf(i[r]))){e=!0;break}}else e=!0;t="",n=0;var a=function(e){255>n&&(t+=e,n++)};for(e&&a("'"),r=0;r<i.length;r++)e&&"'"==i[r]&&a("'"),a(i[r]);e&&a("'"),255==n&&(t=t.slice(0,252)+"...")}return t}function gl(e,t){var r,n={};if(n.Y=t,n.e=null,null==e)e=n;else{for(r=e;null!=r.e;r=r.e);r.e=n}return e}function bl(e){for(var t=0;null!=e;e=e.e)t++;return t}function yl(e){var t,r;if(null==e)t=null;else{for(t=r={};null!=e;e=e.e)r.Y=hl(e.Y),null!=e.e&&(r=r.e={});r.e=null}return t}function xl(e,t){var r,n,i;for(r=e,n=t;null!=r;r=r.e,n=n.e)if(0!=(i=dl(r.Y,n.Y)))return i;return 0}function wl(e,t){for(var r=null,n=1,i=e;n<=t;n++,i=i.e)r=gl(r,hl(i.Y));return r}function Ml(e,t){function r(e){255>a&&(o+=e),a++}var n,i,a=0,o="",s="",u=bl(t);for("["==e&&0<u&&r("["),"("==e&&1<u&&r("("),n=t;null!=n;n=n.e)for(n!=t&&r(","),s=vl(n.Y),i=0;i<s.length;i++)r(s[i]);return"["==e&&0<u&&r("]"),"("==e&&1<u&&r(")"),255==a&&(o=o.slice(0,252)+"..."),o}function Nl(e,t){Bl(e,t).value.eh=null}function _l(e,t,r){null!=zl(e,t,r)&&Uc(e,"duplicate tuple "+Ml("(",r)+" detected"),Nl(t,r)}function Al(e,t){var r,n;for(r=Pl(e,Qi,t.q),n=t.head;null!=n;n=n.e)Nl(r,yl(n.w));return r}function El(e,r,n,i){var a;return 0==i&&Uc(e,r+" .. "+n+" by "+i+"; zero stride not allowed"),a=0<n&&0>r&&n>.999*t+r?+t:0>n&&0<r&&n<-.999*t+r?-t:n-r,1>Math.abs(i)&&Math.abs(a)>.999*t*Math.abs(i)?a=0<a&&0<i||0>a&&0>i?+t:0:0>(a=Math.floor(a/i)+1)&&(a=0),2147483646<a&&Uc(e,r+" .. "+n+" by "+i+"; set too large"),a+.5|0}function Sl(e,t,r,n,i){return 1<=i&&El(e,t,r,n),t+(i-1)*n}function kl(e){var t;return 0==e?t=null:((t={}).u=e,t.t=null,t.e=null),t}function Ol(e){var t,r;if(null==e)t=null;else{for(t=r={};null!=e;e=e.e)r.u=e.u,r.t=e.t,null!=e.e&&(r=r.e={});r.e=null}return t}function Cl(e,t,r,n,i){var a,o=null,s=0;for(a=r;null!=a;a=a.e)null==a.t?s=al(e,s,sl(e,t,a.u)):a.t.ja=al(e,a.t.ja,sl(e,t,a.u));for(a=i;null!=a;a=a.e)null==a.t?s=al(e,s,sl(e,n,a.u)):a.t.ja=al(e,a.t.ja,sl(e,n,a.u));for(a=r;null!=a;a=a.e)null!=a.t&&0!=a.t.ja&&((e={}).u=a.t.ja,e.t=a.t,e.e=o,o=e,a.t.ja=0);for(a=i;null!=a;a=a.e)null!=a.t&&0!=a.t.ja&&((e={}).u=a.t.ja,e.t=a.t,e.e=o,o=e,a.t.ja=0);return 0!=s&&((e={}).u=s,e.t=null,e.e=o,o=e),o}function Ll(e,t,r){for(var n,i=null,a=0;null!=t;)n=t,t=t.e,null==n.t?a=al(e,a,n.u):(n.e=i,i=n);return r(a),i}function Tl(e,t){switch(e){case Qi:t.eh=null;break;case $i:t.Q=0;break;case aa:t.Y=null;break;case Ji:t.sg=0;break;case sa:t.w=null;break;case qi:t.set=null;break;case Vi:t.t=null;break;case Gi:t.form=null;break;case Di:t.H=null}}function Pl(e,t,r){var n={};return n.type=t,n.q=r,n.size=0,n.head=null,n.Xa=null,n.V=!1,n.ca=null,n.e=e.pg,null!=n.e&&(n.e.ca=n),e.pg=n}function Il(e,t,r){return xl(t,r)}function zl(e,t,r){if(30<t.size&&!t.V){var n={root:null};for(n.yg=Il,n.info=e,n.size=0,n.height=0,t.V=n,e=t.head;null!=e;e=e.e)Ke(t.V,e.w).link=e}if(t.V){for(e=(t=t.V).root;null!=e&&0!=(n=t.yg(t.info,r,e.key));)e=0>n?e.left:e.right;e=null==(r=e)?null:r.link}else for(e=t.head;null!=e&&0!=xl(e.w,r);e=e.e);return e}function Bl(e,t){var r={};return r.w=t,r.e=null,r.value={},e.size++,null==e.head?e.head=r:e.Xa.e=r,e.Xa=r,null!=e.V&&(Ke(e.V,r.w).link=r),r}function jl(e){var t;if(null!=e.Le)for(t=e.list,e=e.Le;null!=t;t=t.e,e=e.e)e:{var r=t,n=e.Y,i=void 0,a=void 0;if(null!=r.value){if(0==dl(r.value,n))break e;r.value=null}for(i=r.list;null!=i;i=i.a.index.e)for(a=i;null!=a;a=a.R)a.valid&&(a.valid=0,Tl(a.type,a.value));r.value=hl(n)}}function Fl(e,t,r,n,i){var a;return gc(e,t.code,r)?(a=t.Le,t.Le=r,jl(t),i(e,n),t.Le=a,jl(t),0):1}function Rl(e,t){if(null!=t.Kc){var r,n,i=null,a=null;for(t.Kc=(r=t.Kc).e,n=r.list;null!=n;n=n.e)null==i?i=a={}:a=a.e={},null==n.code?(a.Y=t.w.Y,t.w=t.w.e):a.Y=cc(e,n.code);for(a.e=null,Fl(e,r,i,t,Rl)&&(t.Ve=1),n=r.list;null!=n;n=n.e)i=i.e}else null==t.domain.code||pc(e,t.domain.code)?t.Zd(e,t.info):t.Ve=2}function Dl(e,t,r,n,i){var a={};return null==t?(i(e,n),a.Ve=0):(a.domain=t,a.Kc=t.list,a.w=r,a.info=n,a.Zd=i,a.Ve=0,Rl(e,a)),a.Ve}function ql(e,t){if(null!=t.Kc){var r,n,i,a,o,s,u;for(t.Kc=(r=t.Kc).e,i=null,n=r.list;null!=n;n=n.e)null!=n.code&&(i=gl(i,cc(e,n.code)));if(r.code.Ta==Ts)for(i=El(e,o=lc(e,r.code.a.a.x),s=lc(e,r.code.a.a.y),u=null==r.code.a.a.z?1:lc(e,r.code.a.a.z)),n=gl(null,pl(0)),a=1;a<=i&&t.Wf;a++)n.Y.Q=Sl(e,o,s,u,a),Fl(e,r,n,t,ql);else for(a=dc(e,r.code).head;null!=a&&t.Wf;a=a.e){for(o=a.w,s=i,u=!1,n=r.list;null!=n;n=n.e){if(null!=n.code){if(0!=dl(o.Y,s.Y)){u=!0;break}s=s.e}o=o.e}u||Fl(e,r,a.w,t,ql)}t.Kc=r}else(null==t.domain.code||pc(e,t.domain.code))&&(t.Wf=!t.Zd(e,t.info))}function Vl(e,t,r,n){var i={};null==t?n(e,r):(i.domain=t,i.Kc=t.list,i.Wf=1,i.info=r,i.Zd=n,ql(e,i))}function Xl(e,t,r){Uc(e,t+Ml("[",r)+" out of domain")}function Ul(e){var t=null;if(null!=e)for(e=e.list;null!=e;e=e.e)for(var r=e.list;null!=r;r=r.e)null==r.code&&(t=gl(t,hl(r.value)));return t}function Gl(e,t,r,n){for(var i=t.Bf,a=1;null!=i;i=i.e,a++)for(var o=n.head;null!=o;o=o.e)if(!gc(e,i.code,o.w)){var s=Ml("(",o.w);Uc(e,t.name+Ml("[",r)+" contains "+s+" which not within specified set; see ("+a+")")}}function Hl(e,t){null!=t.ga?Gl(e,t.set,t.ga.w,t.ga.value.set):t.oe=function(e,t,r){function n(){Gl(e,t,r,i),(a=Bl(t.O,yl(r))).value.set=i}var i,a=zl(e,t.O,r);return null!=a?i=a.value.set:null!=t.assign?(i=dc(e,t.assign),n()):null!=t.xa?(i=dc(e,t.xa),n()):Uc(e,"no value for "+t.name+Ml("[",r)),i}(e,t.set,t.w)}function Yl(e,t){var r,n,a,o=t.Yc,s=Array(20);for(i("Generating "+t.name+"..."),Vl(e,(r=o.set).domain,r,Jl),r=o.set.O.head.value.set.head;null!=r;r=r.e){for(a=yl(r.w),n=0;n<o.set.X;n++)s[n]=null;for(n=0;null!=a;a=a.e)s[o.Z[n++]-1]=a;for(n=0;n<o.set.X;n++)s[n].e=s[n+1];0==t.q?a=null:(a=s[0],s[t.q-1].e=null),null==(n=zl(e,t.O,a))&&((n=Bl(t.O,a)).value.set=Pl(e,Qi,t.X)),a=s[t.q],s[o.set.X-1].e=null,Nl(n.value.set,a)}t.data=1}function Zl(e,t,r){var n={};if(n.set=t,n.w=r,null!=t.Yc&&0==t.data&&Yl(e,t),1==t.data)for(r=t.O.Xa,t.data=2,n.ga=t.O.head;null!=n.ga&&(Dl(e,t.domain,n.ga.w,n,Hl)&&Xl(e,t.name,n.ga.w),n.ga!=r);n.ga=n.ga.e);return n.ga=null,Dl(e,n.set.domain,n.w,n,Hl)&&Xl(e,t.name,n.w),n.oe}function Jl(e,t){return Zl(e,t,Ul(t.domain)),0}function Kl(e,t,r,n){var i,a;switch(t.type){case Zi:n!=Math.floor(n)&&Uc(e,t.name+Ml("[",r)+" = "+n+" not integer");break;case Bi:0!=n&&1!=n&&Uc(e,t.name+Ml("[",r)+" = "+n+" not binary")}for(i=t.wd,a=1;null!=i;i=i.e,a++){var o;o=lc(e,i.code);var s=function(i){Uc(e,t.name+Ml("[",r)+" = "+n+" not "+i+" "+o+"; see ("+a+")")};switch(i.jd){case ps:n<o||s("<");break;case ms:n<=o||s("<=");break;case hs:n!=o&&s("=");break;case ds:n>=o||s(">=");break;case vs:n>o||s(">");break;case gs:n==o&&s("<>")}}for(a=1,i=t.qa;null!=i;i=i.e,a++)s=gl(null,pl(n)),gc(e,i.code,s)||Uc(e,t.name+Ml("[",r)+" = "+n+" not in specified set; see ("+a+")")}function Wl(e,t){null!=t.ga?Kl(e,t.S,t.ga.w,t.ga.value.Q):t.value=function(e,t,r){function n(n){return Kl(e,t,r,n),(i=Bl(t.O,yl(r))).value.Q=n}var i=zl(e,t.O,r);return null!=i?i.value.Q:null!=t.assign?n(lc(e,t.assign)):null!=t.xa?n(lc(e,t.xa)):null!=t.Wc?(null!=t.Wc.M&&Uc(e,"cannot convert "+vl(t.Wc)+" to floating-point number"),n(t.Wc.Q)):Uc(e,"no value for "+t.name+Ml("[",r))}(e,t.S,t.w)}function Ql(e,t,r){var n={};if(n.S=t,n.w=r,1==t.data)for(r=t.O.Xa,t.data=2,n.ga=t.O.head;null!=n.ga&&(Dl(e,t.domain,n.ga.w,n,Wl)&&Xl(e,t.name,n.ga.w),n.ga!=r);n.ga=n.ga.e);return n.ga=null,Dl(e,n.S.domain,n.w,n,Wl)&&Xl(e,t.name,n.w),n.value}function $l(e,t,r,n){var i,a=1;for(i=t.wd;null!=i;i=i.e,a++){var o;switch(o=cc(e,i.code),i.jd){case ps:0>dl(n,o)||(o=vl(o),Uc(e,t.name+Ml("[",r)+" = "+vl(n)+" not < "+o));break;case ms:0>=dl(n,o)||(o=vl(o),Uc(e,t.name+Ml("[",r)+" = "+vl(n)+" not <= "+o));break;case hs:0!=dl(n,o)&&(o=vl(o),Uc(e,t.name+Ml("[",r)+" = "+vl(n)+" not = "+o));break;case ds:0<=dl(n,o)||(o=vl(o),Uc(e,t.name+Ml("[",r)+" = "+vl(n)+" not >= "+o));break;case vs:0<dl(n,o)||(o=vl(o),Uc(e,t.name+Ml("[",r)+" = "+vl(n)+" not > "+o));break;case gs:0==dl(n,o)&&(o=vl(o),Uc(e,t.name+Ml("[",r)+" <> "+vl(n)+" not > "+o))}}for(a=1,i=t.qa;null!=i;i=i.e,a++)o=gl(null,hl(n)),gc(e,i.code,o)||Uc(e,t.name,(Ml("[",r),vl(n)))}function ec(e,t){null!=t.ga?$l(e,t.S,t.ga.w,t.ga.value.Y):t.value=function(e,t,r){function n(n){return $l(e,t,r,n),(i=Bl(t.O,yl(r))).value.Y=hl(n),n}var i=zl(e,t.O,r);return null!=i?hl(i.value.Y):null!=t.assign?n(cc(e,t.assign)):null!=t.xa?n(cc(e,t.xa)):null!=t.Wc?hl(t.Wc):Uc(e,"no value for "+t.name+Ml("[",r))}(e,t.S,t.w)}function tc(e,t,r){var n={};if(n.S=t,n.w=r,1==t.data)for(r=t.O.Xa,t.data=2,n.ga=t.O.head;null!=n.ga&&(Dl(e,t.domain,n.ga.w,n,ec)&&Xl(e,t.name,n.ga.w),n.ga!=r);n.ga=n.ga.e);return n.ga=null,Dl(e,n.S.domain,n.w,n,ec)&&Xl(e,t.name,n.w),n.value}function rc(e,t){var r=Ul(t.domain);switch(t.type){case $i:case Zi:case Bi:Ql(e,t,r);break;case aa:tc(e,t,r)}return 0}function nc(e,t){var r=t.t,n=t.w,i=zl(e,r.O,n);null!=i?n=i.value.t:((n=(i=Bl(r.O,yl(n))).value.t={}).C=0,n.t=r,n.ga=i,n.P=null==r.P?0:lc(e,r.P),n.W=null==r.W?0:r.W==r.P?n.P:lc(e,r.W),n.ja=0,n.m=0,n.r=n.J=0),t.oe=n}function ic(e,t,r){var n={};return n.t=t,n.w=r,Dl(e,n.t.domain,n.w,n,nc)&&Xl(e,t.name,n.w),n.oe}function ac(e,t){t.oe=function(e,t,r){var n=null,i=zl(e,t.O,r);if(null!=i)r=i.value.H;else{if((r=(i=Bl(t.O,yl(r))).value.H={}).ea=0,r.H=t,r.ga=i,r.form=yc(e,t.code),null==t.P&&null==t.W)r.form=Ll(e,r.form,function(e){n=e}),r.P=r.W=-n;else if(null!=t.P&&null==t.W)r.form=Cl(e,1,r.form,-1,yc(e,t.P)),r.form=Ll(e,r.form,function(e){n=e}),r.P=-n,r.W=0;else if(null==t.P&&null!=t.W)r.form=Cl(e,1,r.form,-1,yc(e,t.W)),r.form=Ll(e,r.form,function(e){n=e}),r.P=0,r.W=-n;else if(t.P==t.W)r.form=Cl(e,1,r.form,-1,yc(e,t.P)),r.form=Ll(e,r.form,function(e){n=e}),r.P=r.W=-n;else{var a=null,o=null;r.form=Ll(e,r.form,function(e){n=e}),Ll(e,yc(e,t.P),function(e){a=e}),Ll(e,yc(e,t.W),function(e){o=e}),r.P=ol(e,a,n),r.W=ol(e,o,n)}r.m=0,r.r=r.J=0}return r}(e,t.H,t.w)}function oc(e,t,r){var n={};return n.H=t,n.w=r,Dl(e,n.H.domain,n.w,n,ac)&&Xl(e,t.name,n.w),n.oe}function sc(e,t){return oc(e,t,Ul(t.domain)),0}function uc(e,t){var r=lc(e,t.code.a.loop.x);switch(t.code.Ta){case js:t.value=al(e,t.value,r);break;case Fs:t.value=sl(e,t.value,r);break;case Rs:t.value>r&&(t.value=r);break;case Ds:t.value<r&&(t.value=r)}return 0}function lc(e,n){var i,a,o;if(n.T&&n.valid&&(n.valid=0,Tl(n.type,n.value)),n.valid)return n.value.Q;switch(n.Ta){case ho:i=n.a.Q;break;case bo:for(a=null,o=n.a.S.list;null!=o;o=o.e)a=gl(a,cc(e,o.x));i=Ql(e,n.a.S.S,a);break;case wo:for(a=null,o=n.a.t.list;null!=o;o=o.e)a=gl(a,cc(e,o.x));switch(o=ic(e,n.a.t.t,a),n.a.t.Ac){case lo:i=null==o.t.P?-t:o.P;break;case co:i=null==o.t.W?+t:o.W;break;case fo:i=o.m;break;case po:i=o.r;break;case mo:i=o.J}break;case Mo:for(a=null,o=n.a.H.list;null!=o;o=o.e)a=gl(a,cc(e,o.x));switch(o=oc(e,n.a.H.H,a),n.a.H.Ac){case lo:i=null==o.H.P?-t:o.P;break;case co:i=null==o.H.W?+t:o.W;break;case fo:i=o.m;break;case po:i=o.r;break;case mo:i=o.J}break;case Eo:i=function(e){var t;do{t=mp(e)}while(2147483648<=t);return t%16777216}(e.Gd);break;case So:i=mp(e.Gd)/2147483648;break;case ko:i=fl(e);break;case Oo:i=Math.round(Date.now()/1e3);break;case Co:null==(o=cc(e,n.a.a.x)).M?i=o.Q:Cn(o.M,function(e){i=e})&&Uc(e,"cannot convert "+vl(o)+" to floating-point number");break;case zo:i=+lc(e,n.a.a.x);break;case Bo:i=-lc(e,n.a.a.x);break;case Fo:i=Math.abs(lc(e,n.a.a.x));break;case Ro:i=Math.ceil(lc(e,n.a.a.x));break;case Do:i=Math.floor(lc(e,n.a.a.x));break;case qo:i=function(e,r){return r>.999*Math.log(t)&&Uc(e,"exp("+r+"); floating-point overflow"),Math.exp(r)}(e,lc(e,n.a.a.x));break;case Vo:i=function(e,t){return 0>=t&&Uc(e,"log("+t+"); non-positive argument"),Math.log(t)}(e,lc(e,n.a.a.x));break;case Xo:i=function(e,t){return 0>=t&&Uc(e,"log10("+t+"); non-positive argument"),Math.log(t)/Math.LN10}(e,lc(e,n.a.a.x));break;case Uo:i=function(e,t){return 0>t&&Uc(e,"sqrt("+t+"); negative argument"),Math.sqrt(t)}(e,lc(e,n.a.a.x));break;case Go:i=function(e,t){return-1e6<=t&&1e6>=t||Uc(e,"sin("+t+"); argument too large"),Math.sin(t)}(e,lc(e,n.a.a.x));break;case Ho:i=function(e,t){return-1e6<=t&&1e6>=t||Uc(e,"cos("+t+"); argument too large"),Math.cos(t)}(e,lc(e,n.a.a.x));break;case Yo:i=function(e){return Math.atan(e)}(lc(e,n.a.a.x));break;case os:i=function(e,t){return Math.atan2(e,t)}(lc(e,n.a.a.x),lc(e,n.a.a.y));break;case Zo:i=ll(e,lc(e,n.a.a.x),0);break;case ss:i=ll(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case Jo:i=cl(e,lc(e,n.a.a.x),0);break;case us:i=cl(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case Qo:i=al(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case $o:i=ol(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case es:i=function(e,r,n){return r<n?0:(0<r&&0>n&&r>.999*t+n&&Uc(e,r+" less "+n+"; floating-point overflow"),r-n)}(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case ts:i=sl(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case rs:i=ul(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case ns:i=function(e,n,i){return Math.abs(i)<r&&Uc(e,n+" div "+i+"; floating-point zero divide"),1>Math.abs(i)&&Math.abs(n)>.999*t*Math.abs(i)&&Uc(e,n+" div "+i+"; floating-point overflow"),0<(n/=i)?Math.floor(n):0>n?Math.ceil(n):0}(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case is:i=function(e,t){var r;return 0==e?r=0:0==t?r=e:0!=(r=Math.abs(e)%Math.abs(t))&&(0>e&&(r=-r),0<e&&0>t||0>e&&0<t)&&(r+=t),r}(lc(e,n.a.a.x),lc(e,n.a.a.y));break;case as:i=function(e,r,n){return(0==r&&0>=n||0>r&&n!=Math.floor(n))&&Uc(e,r+" ** "+n+"; result undefined"),0==r?e=Math.pow(r,n):((1<Math.abs(r)&&1<n&&+Math.log(Math.abs(r))>.999*Math.log(t)/n||1>Math.abs(r)&&-1>n&&+Math.log(Math.abs(r))<.999*Math.log(t)/n)&&Uc(e,r+" ** "+n+"; floating-point overflow"),e=1<Math.abs(r)&&-1>n&&-Math.log(Math.abs(r))<.999*Math.log(t)/n||1>Math.abs(r)&&1<n&&-Math.log(Math.abs(r))>.999*Math.log(t)/n?0:Math.pow(r,n)),e}(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case ls:i=function(e,t,r){var n;return t>=r&&Uc(e,"Uniform("+t+", "+r+"); invalid range"),al(e,t*(1-(n=mp(e.Gd)/2147483648)),r*n)}(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case cs:i=function(e,t,r){return al(e,t,sl(e,r,fl(e)))}(e,lc(e,n.a.a.x),lc(e,n.a.a.y));break;case Ko:i=dc(e,n.a.a.x).size;break;case Wo:a=null==(o=cc(e,n.a.a.x)).M?String(o.Q):o.M,i=a.length;break;case Cs:a=null==(o=cc(e,n.a.a.x)).M?String(o.Q):o.M,o=cc(e,n.a.a.y),i=function(e,t,r){function n(){df(e,t,h,r,d,"time zone offset value incomplete or invalid")}function i(){df(e,t,h,r,d,"time zone offset value out of range")}function a(){t[h]!=r[d]&&df(e,t,h,r,d,"character mismatch"),h++}var o,s,u,l,c,f,p,m,h,d;for(s=u=l=c=f=p=-1,m=2147483647,d=h=0;d<r.length;d++)if("%"==r[d])if("b"==r[++d]||"h"==r[d]){var v;for(0<=u&&df(e,t,h,r,d,"month multiply specified");" "==t[h];)h++;for(u=1;12>=u;u++){v=mf[u-1];var g=!1;for(o=0;2>=o;o++)if(h[o].toUpperCase()!=v[o].toUpperCase()){g=!0;break}if(!g){for(h+=3,o=3;"\0"!=v[o]&&t[h].toUpperCase()==v[o].toUpperCase();o++)h++;break}}12<u&&df(e,t,h,r,d,"abbreviated month name missing or invalid")}else if("d"==r[d]){for(0<=l&&df(e,t,h,r,d,"day multiply specified");" "==t[h];)h++;"0"<=t[h]&&"9">=t[h]||df(e,t,h,r,d,"day missing or invalid"),l=t[h++]-0,"0"<=t[h]&&"9">=t[h]&&(l=10*l+(t[h++]-0)),1<=l&&31>=l||df(e,t,h,r,d,"day out of range")}else if("H"==r[d]){for(0<=c&&df(e,t,h,r,d,"hour multiply specified");" "==t[h];)h++;"0"<=t[h]&&"9">=t[h]||df(e,t,h,r,d,"hour missing or invalid"),c=t[h++]-0,"0"<=t[h]&&"9">=t[h]&&(c=10*c+(t[h++]-0)),0<=c&&23>=c||df(e,t,h,r,d,"hour out of range")}else if("m"==r[d]){for(0<=u&&df(e,t,h,r,d,"month multiply specified");" "==t[h];)h++;"0"<=t[h]&&"9">=t[h]||df(e,t,h,r,d,"month missing or invalid"),u=t[h++]-0,"0"<=t[h]&&"9">=t[h]&&(u=10*u+(t[h++]-0)),1<=u&&12>=u||df(e,t,h,r,d,"month out of range")}else if("M"==r[d]){for(0<=f&&df(e,t,h,r,d,"minute multiply specified");" "==t[h];)h++;"0"<=t[h]&&"9">=t[h]||df(e,t,h,r,d,"minute missing or invalid"),f=t[h++]-0,"0"<=t[h]&&"9">=t[h]&&(f=10*f+(t[h++]-0)),0<=f&&59>=f||df(e,t,h,r,d,"minute out of range")}else if("S"==r[d]){for(0<=p&&df(e,t,h,r,d,"second multiply specified");" "==t[h];)h++;"0"<=t[h]&&"9">=t[h]||df(e,t,h,r,d,"second missing or invalid"),p=t[h++]-0,"0"<=t[h]&&"9">=t[h]&&(p=10*p+(t[h++]-0)),0<=p&&60>=p||df(e,t,h,r,d,"second out of range")}else if("y"==r[d]){for(0<=s&&df(e,t,h,r,d,"year multiply specified");" "==t[h];)h++;"0"<=t[h]&&"9">=t[h]||df(e,t,h,r,d,"year missing or invalid"),s=t[h++]-0,"0"<=t[h]&&"9">=t[h]&&(s=10*s+(t[h++]-0)),s+=69<=s?1900:2e3}else if("Y"==r[d]){for(0<=s&&df(e,t,h,r,d,"year multiply specified");" "==t[h];)h++;for("0"<=t[h]&&"9">=t[h]||df(e,t,h,r,d,"year missing or invalid"),s=0,o=1;4>=o&&"0"<=t[h]&&"9">=t[h];o++)s=10*s+(t[h++]-0);1<=s&&4e3>=s||df(e,t,h,r,d,"year out of range")}else if("z"==r[d]){var b;for(2147483647!=m&&df(e,t,h,r,d,"time zone offset multiply specified");" "==t[h];)h++;if("Z"==t[h])b=c=f=0,h++;else{for("+"==t[h]?(b=1,h++):"-"==t[h]?(b=-1,h++):df(e,t,h,r,d,"time zone offset sign missing"),c=0,o=1;2>=o;o++)"0"<=t[h]&&"9">=t[h]||n(),c=10*c+(t[h++]-0);if(23<c&&i(),":"==t[h]&&("0"<=t[++h]&&"9">=t[h]||n()),f=0,"0"<=t[h]&&"9">=t[h]){for(o=1;2>=o;o++)"0"<=t[h]&&"9">=t[h]||n(),f=10*f+(t[h++]-0);59<f&&i()}}m=b*(60*c+f)}else"%"==r[d]?a():df(e,t,h,r,d,"invalid conversion specifier");else" "!=r[d]&&a();return 0>s&&(s=1970),0>u&&(u=1),0>l&&(l=1),0>c&&(c=0),0>f&&(f=0),0>p&&(p=0),2147483647==m&&(m=0),60*(60*(24*((o=Tn(l,u,s))-Tn(1,1,1970))+c)+f)+p-60*m}(e,a,null==o.M?String(o.Q):o.M);break;case Ps:i=pc(e,n.a.a.x)?lc(e,n.a.a.y):null==n.a.a.z?0:lc(e,n.a.a.z);break;case zs:for(i=+t,o=n.a.list;null!=o;o=o.e)a=lc(e,o.x),i>a&&(i=a);break;case Bs:for(i=-t,o=n.a.list;null!=o;o=o.e)a=lc(e,o.x),i<a&&(i=a);break;case js:(o={}).code=n,o.value=0,Vl(e,n.a.loop.domain,o,uc),i=o.value;break;case Fs:(o={}).code=n,o.value=1,Vl(e,n.a.loop.domain,o,uc),i=o.value;break;case Rs:(o={}).code=n,o.value=+t,Vl(e,n.a.loop.domain,o,uc),o.value==+t&&Uc(e,"min{} over empty set; result undefined"),i=o.value;break;case Ds:(o={}).code=n,o.value=-t,Vl(e,n.a.loop.domain,o,uc),o.value==-t&&Uc(e,"max{} over empty set; result undefined"),i=o.value}return n.valid=1,n.value.Q=i}function cc(e,t){var r;if(t.T&&t.valid&&(t.valid=0,Tl(t.type,t.value)),t.valid)return hl(t.value.Y);switch(t.Ta){case vo:r=ml(t.a.M);break;case go:r=hl(t.a.index.ya.value);break;case yo:var n;for(n=null,r=t.a.S.list;null!=r;r=r.e)n=gl(n,cc(e,r.x));r=tc(e,t.a.S.S,n);break;case Lo:r=pl(lc(e,t.a.a.x));break;case fs:n=cc(e,t.a.a.x),r=cc(e,t.a.a.y),r=ml((null==n.M?String(n.Q):n.M)+(null==r.M?String(r.Q):r.M));break;case Ps:r=pc(e,t.a.a.x)?cc(e,t.a.a.y):null==t.a.a.z?pl(0):cc(e,t.a.a.z);break;case Os:case Is:var i;r=null==(r=cc(e,t.a.a.x)).M?String(r.Q):r.M,t.Ta==Os?((i=lc(e,t.a.a.y))!=Math.floor(i)&&Uc(e,"substr('...', "+i+"); non-integer second argument"),(1>i||i>r.length+1)&&Uc(e,"substr('...', "+i+"); substring out of range")):(i=lc(e,t.a.a.y),n=lc(e,t.a.a.z),i==Math.floor(i)&&n==Math.floor(n)||Uc(e,"substr('...', "+i+", "+n+"); non-integer second and/or third argument"),(1>i||0>n||i+n>r.length+1)&&Uc(e,"substr('...', "+i+", "+n+"); substring out of range")),r=ml(r.slice(i-1,i+n-1));break;case Ls:r=ml(r=function(e,t,r){var n,i,a,o,s,u=0,l=0,c=0,f="";for(-62135596800<=t&&64092211199>=t||Uc(e,"time2str("+t+",...); argument out of range"),t=Math.floor(t+.5),i=Math.abs(t)/86400,n=Math.floor(i),0>t&&(n=i==Math.floor(i)?-n:-(n+1)),Pn(n+Tn(1,1,1970),function(e,t,r){c=e,l=t,u=r}),i=(a=t-86400*n|0)/60,a%=60,t=i/60,i%=60,o=0;o<r.length;o++)"%"==r[o]?"a"==r[++o]?s=pf[gf(n)-1].slice(0,3):"A"==r[o]?s=pf[gf(n)-1]:"b"==r[o]||"h"==r[o]?s=mf[l-1].slice(0,3):"B"==r[o]?s=mf[l-1]:"C"==r[o]?s=String(Math.floor(u/100)):"d"==r[o]?s=String(c):"D"==r[o]?s=l+"/"+c+"/"+u%100:"e"==r[o]?s=String(c):"F"==r[o]?b(s,u+"-"+l+"-"+c):"g"==r[o]?(s=n<bf(u)?u-1:n<bf(u+1)?u:u+1,s=String(s%100)):"G"==r[o]?(s=n<bf(u)?u-1:n<bf(u+1)?u:u+1,s=String(s)):"H"==r[o]?s=String(t):"I"==r[o]?s=String(0==t?12:12>=t?t:t-12):"j"==r[o]?s=String(Tn(c,l,u)-Tn(1,1,u)+1):"k"==r[o]?s=String(t):"l"==r[o]?s=String(0==t?12:12>=t?t:t-12):"m"==r[o]?s=String(l):"M"==r[o]?s=String(i):"p"==r[o]?s=11>=t?"AM":"PM":"P"==r[o]?s=11>=t?"am":"pm":"r"==r[o]?s=(0==t?12:12>=t?t:t-12)+":"+i+":"+a+" "+(11>=t?"AM":"PM"):"R"==r[o]?s=t+":"+i:"S"==r[o]?s=String(a):"T"==r[o]?s=t+":"+i+":"+a:"u"==r[o]?s=String(gf(n)):"U"==r[o]?(s=Tn(1,1,u)-Tn(1,1,1970),s+=7-gf(s),s=String((n+7-s)/7)):"V"==r[o]?(s=n<bf(u)?n-bf(u-1):n<bf(u+1)?n-bf(u):n-bf(u+1),s=String(s/7+1)):"w"==r[o]?s=String(gf(n)%7):"W"==r[o]?(s=Tn(1,1,u)-Tn(1,1,1970),s+=(8-gf(s))%7,s=String((n+7-s)/7)):"y"==r[o]?s=String(u%100):"Y"==r[o]?s=String(u):"%"==r[o]?s="%":vf(e,r,o):s=r[o],f+=s;return f}(e,n=lc(e,t.a.a.x),null==(r=cc(e,t.a.a.y)).M?String(r.Q):r.M))}return t.valid=1,t.value.Y=hl(r),r}function fc(e,t){var r=0;switch(t.code.Ta){case qs:t.value&=pc(e,t.code.a.loop.x),t.value||(r=1);break;case Vs:t.value|=pc(e,t.code.a.loop.x),t.value&&(r=1)}return r}function pc(e,t){var r,n;if(t.T&&t.valid&&(t.valid=0,Tl(t.type,t.value)),t.valid)return t.value.sg;switch(t.Ta){case To:r=0!=lc(e,t.a.a.x);break;case jo:r=!pc(e,t.a.a.x);break;case ps:r=t.a.a.x.type==$i?lc(e,t.a.a.x)<lc(e,t.a.a.y):0>dl(r=cc(e,t.a.a.x),n=cc(e,t.a.a.y));break;case ms:r=t.a.a.x.type==$i?lc(e,t.a.a.x)<=lc(e,t.a.a.y):0>=dl(r=cc(e,t.a.a.x),n=cc(e,t.a.a.y));break;case hs:r=t.a.a.x.type==$i?lc(e,t.a.a.x)==lc(e,t.a.a.y):0==dl(r=cc(e,t.a.a.x),n=cc(e,t.a.a.y));break;case ds:r=t.a.a.x.type==$i?lc(e,t.a.a.x)>=lc(e,t.a.a.y):0<=dl(r=cc(e,t.a.a.x),n=cc(e,t.a.a.y));break;case vs:r=t.a.a.x.type==$i?lc(e,t.a.a.x)>lc(e,t.a.a.y):0<dl(r=cc(e,t.a.a.x),n=cc(e,t.a.a.y));break;case gs:r=t.a.a.x.type==$i?lc(e,t.a.a.x)!=lc(e,t.a.a.y):0!=dl(r=cc(e,t.a.a.x),n=cc(e,t.a.a.y));break;case bs:r=pc(e,t.a.a.x)&&pc(e,t.a.a.y);break;case ys:r=pc(e,t.a.a.x)||pc(e,t.a.a.y);break;case As:r=mc(e,t.a.a.x),r=gc(e,t.a.a.y,r);break;case Es:r=mc(e,t.a.a.x),r=!gc(e,t.a.a.y,r);break;case Ss:for(r=1,n=(n=dc(e,t.a.a.x)).head;null!=n;n=n.e)if(!gc(e,t.a.a.y,n.w)){r=0;break}break;case ks:for(r=1,n=(n=dc(e,t.a.a.x)).head;null!=n;n=n.e)if(gc(e,t.a.a.y,n.w)){r=0;break}break;case qs:(r={}).code=t,r.value=1,Vl(e,t.a.loop.domain,r,fc),r=r.value;break;case Vs:(r={}).code=t,r.value=0,Vl(e,t.a.loop.domain,r,fc),r=r.value}return t.valid=1,t.value.sg=r}function mc(e,t){var r;if(t.T&&t.valid&&(t.valid=0,Tl(t.type,t.value)),t.valid)return yl(t.value.w);switch(t.Ta){case No:r=null;for(var n=t.a.list;null!=n;n=n.e)r=gl(r,cc(e,n.x));break;case Po:r=gl(null,cc(e,t.a.a.x))}return t.valid=1,t.value.w=yl(r),r}function hc(e,t){var r;switch(t.code.Ta){case Xs:r=mc(e,t.code.a.loop.x),null==zl(e,t.value,r)&&Nl(t.value,r);break;case Us:Nl(t.value,Ul(t.code.a.loop.domain))}return 0}function dc(e,t){var r,n;if(t.T&&t.valid&&(t.valid=0,Tl(t.type,t.value)),t.valid)return Al(e,t.value.set);switch(t.Ta){case xo:for(r=null,n=t.a.set.list;null!=n;n=n.e)r=gl(r,cc(e,n.x));r=Al(e,Zl(e,t.a.set.set,r));break;case _o:for(r=Pl(e,Qi,t.q),n=t.a.list;null!=n;n=n.e)_l(e,r,mc(e,n.x));break;case xs:for(n=dc(e,t.a.a.x),r=dc(e,t.a.a.y).head;null!=r;r=r.e)null==zl(e,n,r.w)&&Nl(n,yl(r.w));r=n;break;case ws:var i=dc(e,t.a.a.x);for(n=dc(e,t.a.a.y),r=Pl(e,Qi,i.q),i=i.head;null!=i;i=i.e)null==zl(e,n,i.w)&&Nl(r,yl(i.w));break;case Ms:n=dc(e,t.a.a.x),r=dc(e,t.a.a.y);var a=Pl(e,Qi,n.q);for(i=n.head;null!=i;i=i.e)null==zl(e,r,i.w)&&Nl(a,yl(i.w));for(i=r.head;null!=i;i=i.e)null==zl(e,n,i.w)&&Nl(a,yl(i.w));r=a;break;case Ns:for(i=dc(e,t.a.a.x),n=dc(e,t.a.a.y),r=Pl(e,Qi,i.q),i=i.head;null!=i;i=i.e)null!=zl(e,n,i.w)&&Nl(r,yl(i.w));break;case _s:var o,s;for(i=dc(e,t.a.a.x),n=dc(e,t.a.a.y),r=Pl(e,Qi,i.q+n.q),i=i.head;null!=i;i=i.e)for(a=n.head;null!=a;a=a.e){for(o=yl(i.w),s=a.w;null!=s;s=s.e)o=gl(o,hl(s.Y));Nl(r,o)}break;case Ts:for(n=lc(e,t.a.a.x),r=lc(e,t.a.a.y),i=null==t.a.a.z?1:lc(e,t.a.a.z),a=Pl(e,Qi,1),o=El(e,n,r,i),s=1;s<=o;s++)Nl(a,gl(null,pl(Sl(e,n,r,i,s))));r=a;break;case Ps:r=pc(e,t.a.a.x)?dc(e,t.a.a.y):dc(e,t.a.a.z);break;case Xs:(n={}).code=t,n.value=Pl(e,Qi,t.q),Vl(e,t.a.loop.domain,n,hc),r=n.value;break;case Us:(n={}).code=t,n.value=Pl(e,Qi,t.q),Vl(e,t.a.loop.domain,n,hc),r=n.value}return t.valid=1,t.value.set=Al(e,r),r}function vc(){}function gc(e,t,r){var n,i,a;switch(t.Ta){case xo:for(a=null,i=t.a.set.list;null!=i;i=i.e)a=gl(a,cc(e,i.x));n=null!=zl(e,t=Zl(e,t.a.set.set,a),a=wl(r,t.q));break;case _o:for(n=0,a=wl(r,t.q),i=t.a.list;null!=i&&!(n=0==xl(a,r=mc(e,i.x)));i=i.e);break;case xs:n=gc(e,t.a.a.x,r)||gc(e,t.a.a.y,r);break;case ws:n=gc(e,t.a.a.x,r)&&!gc(e,t.a.a.y,r);break;case Ms:a=gc(e,t.a.a.x,r),e=gc(e,t.a.a.y,r),n=a&&!e||!a&&e;break;case Ns:n=gc(e,t.a.a.x,r)&&gc(e,t.a.a.y,r);break;case _s:if(n=gc(e,t.a.a.x,r)){for(a=1;a<=t.a.a.x.q;a++)r=r.e;n=gc(e,t.a.a.y,r)}break;case Ts:if(El(e,a=lc(e,t.a.a.x),i=lc(e,t.a.a.y),t=null==t.a.a.z?1:lc(e,t.a.a.z)),null!=r.Y.M){n=0;break}if(r=r.Y.Q,0<t&&!(a<=r&&r<=i)||0>t&&!(i<=r&&r<=a)){n=0;break}n=Sl(e,a,i,t,1+((r-a)/t+.5|0))==r;break;case Ps:n=pc(e,t.a.a.x)?gc(e,t.a.a.y,r):gc(e,t.a.a.z,r);break;case Xs:Uc(e,"implementation restriction; in/within setof{} not allowed");break;case Us:a=wl(r,t.q),n=0==Dl(e,t.a.loop.domain,a,null,vc)}return n}function bc(e,t){switch(t.code.Ta){case js:var r;for(r=yc(e,t.code.a.loop.x),null==t.value?t.value=r:t.Xa.e=r;null!=r;r=r.e)t.Xa=r}return 0}function yc(e,t){var r;if(t.T&&t.valid&&(t.valid=0,Tl(t.type,t.value)),t.valid)return Ol(t.value.form);switch(t.Ta){case wo:var n=null;for(r=t.a.t.list;null!=r;r=r.e)n=gl(n,cc(e,r.x));r=ic(e,t.a.t.t,n),(n={u:1}).t=r,n.e=null,r=n;break;case Io:r=kl(lc(e,t.a.a.x));break;case zo:r=Cl(e,0,kl(0),1,yc(e,t.a.a.x));break;case Bo:r=Cl(e,0,kl(0),-1,yc(e,t.a.a.x));break;case Qo:r=Cl(e,1,yc(e,t.a.a.x),1,yc(e,t.a.a.y));break;case $o:r=Cl(e,1,yc(e,t.a.a.x),-1,yc(e,t.a.a.y));break;case ts:r=t.a.a.x.type==$i?Cl(e,lc(e,t.a.a.x),yc(e,t.a.a.y),0,kl(0)):Cl(e,lc(e,t.a.a.y),yc(e,t.a.a.x),0,kl(0));break;case rs:r=Cl(e,ul(e,1,lc(e,t.a.a.y)),yc(e,t.a.a.x),0,kl(0));break;case Ps:r=pc(e,t.a.a.x)?yc(e,t.a.a.y):null==t.a.a.z?kl(0):yc(e,t.a.a.z);break;case js:(r={}).code=t,r.value=kl(0),r.Xa=null,Vl(e,t.a.loop.domain,r,bc);var i,a=0;for(n=r=r.value;null!=n;n=n.e)null==n.t?a=al(e,a,n.u):n.t.ja=al(e,n.t.ja,n.u);for(i=r,r=null,n=i;null!=n;n=i)i=n.e,null==n.t&&0!=a?(n.u=a,a=0,n.e=r,r=n):null!=n.t&&0!=n.t.ja&&(n.u=n.t.ja,n.t.ja=0,n.e=r,r=n)}return t.valid=1,t.value.form=Ol(r),r}var xc=e.mpl_tab_num_args=function(e){return e.ff},wc=e.mpl_tab_get_arg=function(e,t){return e.a[t]};e.mpl_tab_get_args=function(e){return e.a};var Mc=e.mpl_tab_num_flds=function(e){return e.Wa},Nc=e.mpl_tab_get_name=function(e,t){return e.name[t]},_c=e.mpl_tab_get_type=function(e,t){return e.type[t]},Ac=e.mpl_tab_get_num=function(e,t){return e.Q[t]},Ec=e.mpl_tab_get_str=function(e,t){return e.M[t]},Sc=e.mpl_tab_set_num=function(e,t,r){e.type[t]="N",e.Q[t]=r},kc=e.mpl_tab_set_str=function(e,t,r){e.type[t]="S",e.M[t]=r};function Oc(e,t){var r,n,i,a=e.Mc;for(i=0,r=t.v.Oc.list;null!=r;r=r.e)switch(i++,r.code.type){case $i:a.type[i]="N",a.Q[i]=lc(e,r.code),a.M[i][0]="\0";break;case aa:null==(n=cc(e,r.code)).M?(a.type[i]="N",a.Q[i]=n.Q,a.M[i][0]="\0"):(a.type[i]="S",a.Q[i]=0,a.M[i]=n.M)}return(a=e.Mc).link.writeRecord(a)&&Uc(e,"error on writing data to table "+e.ib.v.nd.name),0}function Cc(e,t){return pc(e,t.code)||Uc(e,"check"+Ml("[",Ul(t.domain))+" failed"),0}function Lc(e,t,r){var n=r.value.set;for(Vc(e,t.name+Ml("[",r.w)+(null==n.head?" is empty":":")),t=n.head;null!=t;t=t.e)Vc(e,"   "+Ml("(",t.w))}function Tc(e,t,r){switch(t.type){case $i:case Zi:case Bi:Vc(e,t.name+Ml("[",r.w)+" = "+r.value.Q);break;case aa:Vc(e,t.name+Ml("[",r.w)+" = "+vl(r.value.Y))}}function Pc(e,r,n,i){i==uo||i==po?Vc(e,r.name+Ml("[",n.w)+".val = "+n.value.t.r):i==lo?Vc(e,r.name+Ml("[",n.w)+".lb = "+(null==n.value.t.t.P?-t:n.value.t.P)):i==co?Vc(e,r.name+Ml("[",n.w)+".ub = "+(null==n.value.t.t.W?+t:n.value.t.W)):i==fo?Vc(e,r.name+Ml("[",n.w)+".status = "+n.value.t.m):i==mo&&Vc(e,r.name+Ml("[",n.w)+".dual = "+n.value.t.J)}function Ic(e,r,n,i){i==uo||i==po?Vc(e,r.name+Ml("[",n.w)+".val = "+n.value.H.r):i==lo?Vc(e,r.name+Ml("[",n.w)+".lb = "+(null==n.value.H.H.P?-t:n.value.H.P)):i==co?Vc(e,r.name+Ml("[",n.w)+".ub = "+(null==n.value.H.H.W?+t:n.value.H.W)):i==fo?Vc(e,r.name+Ml("[",n.w)+".status = "+n.value.H.m):i==mo&&Vc(e,r.name+Ml("[",n.w)+".dual = "+n.value.H.J)}function zc(e,t){for(var r,n=t.list;null!=n;n=n.e)if(n.type==Hi)Vc(e,(r=n.v.ya).name+" = "+vl(r.value));else if(n.type==na){var i=n.v.set;for(null!=i.assign?Vl(e,i.domain,i,Jl):(null!=i.Yc&&0==i.data&&Yl(e,i),null!=i.O.head&&Zl(e,i,i.O.head.w)),null==i.O.head&&Vc(e,i.name+" has empty content"),r=i.O.head;null!=r;r=r.e)Lc(e,i,r)}else if(n.type==ta)for(null!=(i=n.v.S).assign?Vl(e,i.domain,i,rc):null!=i.O.head&&(i.type!=aa?Ql(e,i,i.O.head.w):tc(e,i,i.O.head.w)),null==i.O.head&&Vc(e,i.name+" has empty content"),r=i.O.head;null!=r;r=r.e)Tc(e,i,r);else if(n.type==ua)for(null==(i=n.v.t).O.head&&Vc(e,i.name+" has empty content"),r=i.O.head;null!=r;r=r.e)Pc(e,i,r,uo);else if(n.type==Fi)for(null==(i=n.v.H).O.head&&Vc(e,i.name+" has empty content"),r=i.O.head;null!=r;r=r.e)Ic(e,i,r,uo);else if(n.type==Xi)if((i=n.v.code).Ta==bo||i.Ta==yo||i.Ta==xo||i.Ta==wo||i.Ta==Mo){r=e;var a={value:{}},o=void 0;for(a.w=null,o=i.a.S.list||i.a.t.list;null!=o;o=o.e)a.w=gl(a.w,cc(r,o.x));switch(i.Ta){case bo:a.value.Q=Ql(r,i.a.S.S,a.w),Tc(r,i.a.S.S,a);break;case yo:a.value.Y=tc(r,i.a.S.S,a.w),Tc(r,i.a.S.S,a);break;case xo:a.value.set=Zl(r,i.a.set.set,a.w),Lc(r,i.a.set.set,a);break;case wo:a.value.t=ic(r,i.a.t.t,a.w),Pc(r,i.a.t.t,a,i.a.t.Ac);break;case Mo:a.value.H=oc(r,i.a.H.H,a.w),Ic(r,i.a.H.H,a,i.a.H.Ac)}}else switch(r=e,i.type){case $i:i=lc(r,i),Vc(r,String(i));break;case aa:Vc(r,vl(i=cc(r,i)));break;case Ji:Vc(r,(i=pc(r,i))?"true":"false");break;case sa:Vc(r,Ml("(",i=mc(r,i)));break;case qi:for(0==(i=dc(r,i)).head&&Vc(r,"set is empty"),i=i.head;null!=i;i=i.e)Vc(r,"   "+Ml("(",i.w));break;case Gi:for(a=void 0,null==(i=yc(r,i))&&Vc(r,"linear form is empty"),a=i;null!=a;a=a.e)Vc(r,null==a.t?"   "+a.u:"   "+a.u+" "+a.t.t.name+Ml("[",a.t.ga.w))}return 0}function Bc(e,t){null==e.Hg?"\n"==t?(e.he(e.dd,e.le),e.dd=""):e.dd+=t:e.Hg(t)}function jc(e,t){for(var r=0;r<t.length;r++)Bc(e,t[r])}function Fc(e,t){var r,n,i,a,o,s=cc(e,t.zd);for(n=null==s.M?String(s.Q):s.M,r=t.list,a=0;a<n.length;a++)if("%"==n[a])if(i=a++,"%"==n[a])Bc(e,"%");else{if(null==r)break;for(;"-"==n[a]||"+"==n[a]||" "==n[a]||"#"==n[a]||"0"==n[a];)a++;for(;g(n[a]);)a++;if("."==n[a])for(a++;g(n[a]);)a++;if("d"==n[a]||"i"==n[a]||"e"==n[a]||"E"==n[a]||"f"==n[a]||"F"==n[a]||"g"==n[a]||"G"==n[a]){switch(r.code.type){case $i:o=lc(e,r.code);break;case aa:null!=(s=cc(e,r.code)).M&&Uc(e,"cannot convert "+vl(s)+" to floating-point number"),o=s.Q;break;case Ji:o=pc(e,r.code)?1:0}"d"==n[a]||"i"==n[a]?(-2147483647<=o&&2147483647>=o||Uc(e,"cannot convert "+o+" to integer"),jc(e,b(n.slice(i,a+1),0|Math.floor(o+.5)))):jc(e,b(n.slice(i,a+1),o))}else if("s"==n[a]){switch(r.code.type){case $i:o=String(lc(e,r.code));break;case Ji:o=pc(e,r.code)?"T":"F";break;case aa:o=null==(s=cc(e,r.code)).M?String(s.Q):s.M}jc(e,b(n.slice(i,a+1),o))}else Uc(e,"format specifier missing or invalid");r=r.e}else"\\"==n[a]?"t"==n[++a]?Bc(e,"\t"):"n"==n[a]?Bc(e,"\n"):"\0"==n[a]?Uc(e,"invalid use of escape character \\ in format control string"):Bc(e,n[a]):Bc(e,n[a]);return 0}function Rc(e,t){for(var r=e.ib,n=t.list;null!=n;n=n.e)Dc(e,n);return e.ib=r,0}function Dc(e,t){switch(e.ib=t,t.type){case Fi:i("Generating "+t.v.H.name+"..."),Vl(e,(s=t.v.H).domain,s,sc);break;case oa:switch(t.v.nd.type){case Yi:i("Reading "+t.v.nd.name+"...");break;case ea:i("Writing "+t.v.nd.name+"...")}var r,n,a,o,s=t.v.nd;for(e.Mc=a={},a.id=0,a.link=null,a.ff=0,a.a=null,a.Wa=0,a.name=null,a.type=null,a.Q=null,a.M=null,r=s.a;null!=r;r=r.e)a.ff++;for(a.a=Array(1+a.ff),o=1;o<=a.ff;o++)a.a[o]=null;for(o=0,r=s.a;null!=r;r=r.e)o++,n=null==(n=cc(e,r.code)).M?String(n.Q):n.M,a.a[o]=n;switch(s.type){case Yi:for(null!=(o=s.v.qa.set)&&(o.data&&Uc(e,o.name+" already provided with data"),Bl(o.O,null).value.set=Pl(e,Qi,o.X),o.data=1),n=s.v.qa.list;null!=n;n=n.e)n.S.data&&Uc(e,n.S.name+" already provided with data"),n.S.data=1;for(n=s.v.qa.We;null!=n;n=n.e)a.Wa++;for(n=s.v.qa.list;null!=n;n=n.e)a.Wa++;for(a.name=Array(1+a.Wa),a.type=Array(1+a.Wa),a.Q=new Float64Array(1+a.Wa),a.M=Array(1+a.Wa),o=0,n=s.v.qa.We;null!=n;n=n.e)a.name[++o]=n.name,a.type[o]="?",a.Q[o]=0,a.M[o]="";for(n=s.v.qa.list;null!=n;n=n.e)a.name[++o]=n.name,a.type[o]="?",a.Q[o]=0,a.M[o]="";for(xf(e,"R");;){for(o=1;o<=a.Wa;o++)a.type[o]="?";if(0<(r=(r=(o=e).Mc).link.readRecord(r))&&Uc(o,"error on reading data from table "+o.ib.v.nd.name),r)break;for(o=1;o<=a.Wa;o++)"?"==a.type[o]&&Uc(e,"field "+a.name[o]+" missing in input table");for(r=null,o=0,n=s.v.qa.We;null!=n;n=n.e)switch(o++,a.type[o]){case"N":r=gl(r,pl(a.Q[o]));break;case"S":r=gl(r,ml(a.M[o]))}for(null!=s.v.qa.set&&_l(e,s.v.qa.set.O.head.value.set,yl(r)),n=s.v.qa.list;null!=n;n=n.e){var u;switch(o++,null!=zl(e,n.S.O,r)&&Uc(e,n.S.name+Ml("[",r)+" already defined"),u=Bl(n.S.O,yl(r)),n.S.type){case $i:case Zi:case Bi:"N"!=a.type[o]&&Uc(e,n.S.name+" requires numeric data"),u.value.Q=a.Q[o];break;case aa:switch(a.type[o]){case"N":u.value.Y=pl(a.Q[o]);break;case"S":u.value.Y=ml(a.M[o])}}}}e.Mc=null;break;case ea:for(r=s.v.Oc.list;null!=r;r=r.e)a.Wa++;for(a.name=Array(1+a.Wa),a.type=Array(1+a.Wa),a.Q=new Float64Array(1+a.Wa),a.M=Array(1+a.Wa),o=0,r=s.v.Oc.list;null!=r;r=r.e)a.name[++o]=r.name,a.type[o]="?",a.Q[o]=0,a.M[o]="";xf(e,"W"),Vl(e,s.v.Oc.domain,s,Oc),(s=e.Mc).link.flush(s),e.Mc=null}break;case ji:i("Checking (line "+t.bb+")..."),Vl(e,(s=t.v.Rg).domain,s,Cc);break;case Ri:Vc(e,"Display statement at line "+t.bb),Vl(e,(s=t.v.Sg).domain,s,zc);break;case ra:null==(s=t.v.nh).Ea?e.le=null:(a=cc(e,s.Ea),e.le=null==a.M?a.Q:a.M),Vl(e,s.domain,s,Fc);break;case Ui:Vl(e,(s=t.v.Ug).domain,s,Rc)}}function qc(e,t,r){e.bb=0,e.Vc=0,e.l="\n",e.b=0,e.Bb=0,e.h="",e.value=0,e.Hf=ca,e.Gf=0,e.Ff="",e.If=0,e.Te=0,e.Ue=0,e.Mf=0,e.Lf=0,e.Kf="",e.Nf=0,s(e.Zb,0," ",la),e.lc=0,e.cf=r,e.bf=t||"input",tu(e),nu(e)}function Vc(e,t){e.he(t,e.le)}function Xc(e){0<e.dd.length&&(e.he(e.dd,e.le),e.dd="")}function Uc(e,t){var r;switch(e.D){case 1:case 2:(r=Error(e.bf+":"+e.bb+": "+t)).line=e.bb,r.column=e.Vc;for(var n;0<e.lc;)e.lc--,n=e.Zb[0],o(e.Zb,0,e.Zb,1,la-1),e.Zb[la-1]=n;i("Context: "+e.bb+" > "+(" "==e.Zb[0]?"":"...")+e.Zb.join("").trim());break;case 3:n=null==e.ib?0:e.ib.bb;var a=null==e.ib?0:e.ib.Vc;(r=Error(n+": "+t)).line=n,r.column=a}throw e.D=4,r}function Gc(e,t){switch(e.D){case 1:case 2:i(e.bf+":"+e.bb+": warning: "+t);break;case 3:i(e.Yf+":"+(null==e.ib?0:e.ib.bb)+": warning: "+t)}}var Hc=e.mpl_initialize=function(){var e={bb:0,Vc:0,l:0,b:0,Bb:0,h:"",value:0,Hf:0,Gf:0,Ff:"",If:0,Te:0,Ue:0,Mf:0,Lf:0,Kf:"",Nf:0};return e.Zb=Array(la),s(e.Zb,0," ",la),e.lc=0,e.nc=0,e.V={},e.uc=null,e.Pf=0,e.rg=0,e.qg=0,e.Ke=0,e.Ob=0,e.pg=null,e.Ah="",e.Bh="",e.Gd=fp(),e.Of=0,e.ib=null,e.Mc=null,e.g=0,e.i=0,e.n=null,e.f=null,e.cf=null,e.bf=null,e.he=null,e.jh=null,e.Hg=null,e.le=null,e.D=0,e.Yf=null,e.xh="",e},Yc=e.mpl_read_model=function(e,t,r,a){function o(){return i(e.bb+" line"+(1==e.bb?"":"s")+" were read"),e.cf=null,e.D}if(0!=e.D&&n("mpl_read_model: invalid call sequence"),null==r&&n("mpl_read_model: no input specified"),e.D=1,i("Reading model section from "+t+" ..."),qc(e,t,r),function(e){var t,r;for(r=null;e.b!=ca&&!au(e,"data")&&!au(e,"end");)t=Ru(e,0),null==r?e.uc=t:r.e=t,r=t}(e),null==e.uc&&Uc(e,"empty model section not allowed"),e.Yf=e.bf,function(e){var t;for(t=e.uc;null!=t;t=t.e)switch(t.type){case na:t.v.set.O=Pl(e,qi,t.v.set.q);break;case ta:switch(t.v.S.type){case $i:case Zi:case Bi:t.v.S.O=Pl(e,$i,t.v.S.q);break;case aa:t.v.S.O=Pl(e,aa,t.v.S.q)}break;case ua:t.v.t.O=Pl(e,Vi,t.v.t.q);break;case Fi:t.v.H.O=Pl(e,Di,t.v.H.q)}}(e),au(e,"data")){if(a)return Gc(e,"data section ignored"),o();e.nc=1,nu(e),e.b!=Ka&&Uc(e,"semicolon missing where expected"),nu(e),e.D=2,i("Reading data section from "+t+" ..."),il(e)}return Fu(e),o()},Zc=e.mpl_read_data=function(e,t,r){return 1!=e.D&&2!=e.D&&n("mpl_read_data: invalid call sequence"),null==r&&n("mpl_read_data: no input specified"),e.D=2,i("Reading data section from "+t+" ..."),e.nc=1,qc(e,t,r),Gu(e,"data")&&(nu(e),e.b!=Ka&&Uc(e,"semicolon missing where expected"),nu(e)),il(e),Fu(e),i(e.bb+" line"+(1==e.bb?"":"s")+" were read"),e.cf=null,e.D},Jc=e.mpl_generate=function(e,t,r,a){for(1!=e.D&&2!=e.D&&n("mpl_generate: invalid call sequence"),e.D=3,e.ve=a,function(e,t,r){null==r?e.he=function(e){i(e)}:(e.he=r,e.jh=t),e.dd=""}(e,t,r),t=e.uc;null!=t&&(Dc(e,t),e.ib.type!=ia);t=t.e);for(e.ib=t,Xc(e),t=e.uc;null!=t;t=t.e)if(t.type==ua)for(r=(r=t.v.t).O.head;null!=r;r=r.e);for(t=e.uc;null!=t;t=t.e)if(t.type==Fi)for(r=(r=t.v.H).O.head;null!=r;r=r.e)for(r.value.H.ea=++e.g,a=r.value.H.form;null!=a;a=a.e)a.t.ga.value.t.C=-1;for(t=e.uc;null!=t;t=t.e)if(t.type==ua)for(r=(r=t.v.t).O.head;null!=r;r=r.e)0!=r.value.t.C&&(r.value.t.C=++e.i);for(e.n=Array(1+e.g),a=1;a<=e.g;a++)e.n[a]=null;for(t=e.uc;null!=t;t=t.e)if(t.type==Fi)for(r=(r=t.v.H).O.head;null!=r;r=r.e)e.n[a=r.value.H.ea]=r.value.H;for(a=1;a<=e.g;a++);for(e.f=Array(1+e.i),a=1;a<=e.i;a++)e.f[a]=null;for(t=e.uc;null!=t;t=t.e)if(t.type==ua)for(r=(r=t.v.t).O.head;null!=r;r=r.e)0!=(a=r.value.t.C)&&(e.f[a]=r.value.t);for(a=1;a<=e.i;a++);return i("Model has been successfully generated"),e.D},Kc=e.mpl_get_prob_name=function(e){return e.Yf},Wc=e.mpl_get_num_rows=function(e){return 3!=e.D&&n("mpl_get_num_rows: invalid call sequence"),e.g},Qc=e.mpl_get_num_cols=function(e){return 3!=e.D&&n("mpl_get_num_cols: invalid call sequence"),e.i},$c=e.mpl_get_row_name=function(e,t){var r;return 3!=e.D&&n("mpl_get_row_name: invalid call sequence"),1<=t&&t<=e.g||n("mpl_get_row_name: i = "+t+"; row number out of range"),255==(r=(r=e.n[t].H.name)+Ml("[",e.n[t].ga.w).slice(0,255)).length&&(r=r.slice(0,252)+"..."),r},ef=e.mpl_get_row_kind=function(e,t){var r;switch(3!=e.D&&n("mpl_get_row_kind: invalid call sequence"),1<=t&&t<=e.g||n("mpl_get_row_kind: i = "+t+"; row number out of range"),e.n[t].H.type){case Fi:r=411;break;case Wi:r=Ks;break;case Ki:r=Ws}return r},tf=e.mpl_get_row_bnds=function(e,r,i){var a;return 3!=e.D&&n("mpl_get_row_bnds: invalid call sequence"),1<=r&&r<=e.g||n("mpl_get_row_bnds: i = "+r+"; row number out of range"),r=null==(a=e.n[r]).H.W?+t:a.W,(e=null==a.H.P?-t:a.P)==-t&&r==+t?(a=Gs,e=r=0):r==+t?(a=Hs,r=0):e==-t?(a=Ys,e=0):a=a.H.P!=a.H.W?Zs:Js,i(e,r),a},rf=e.mpl_get_mat_row=function(e,t,r,i){var a=0;for(3!=e.D&&n("mpl_get_mat_row: invalid call sequence"),1<=t&&t<=e.g||n("mpl_get_mat_row: i = "+t+"; row number out of range"),e=e.n[t].form;null!=e;e=e.e)a++,null!=r&&(r[a]=e.t.C),null!=i&&(i[a]=e.u);return a},nf=e.mpl_get_row_c0=function(e,t){var r;return 3!=e.D&&n("mpl_get_row_c0: invalid call sequence"),1<=t&&t<=e.g||n("mpl_get_row_c0: i = "+t+"; row number out of range"),null==(r=e.n[t]).H.P&&null==r.H.W?-r.P:0},af=e.mpl_get_col_name=function(e,t){var r;return 3!=e.D&&n("mpl_get_col_name: invalid call sequence"),1<=t&&t<=e.i||n("mpl_get_col_name: j = "+t+"; column number out of range"),255==(r=(r=e.f[t].t.name)+Ml("[",e.f[t].ga.w)).length&&(r=r.slice(0,252)+"..."),r},of=e.mpl_get_col_kind=function(e,t){var r;switch(3!=e.D&&n("mpl_get_col_kind: invalid call sequence"),1<=t&&t<=e.i||n("mpl_get_col_kind: j = "+t+"; column number out of range"),e.f[t].t.type){case $i:r=421;break;case Zi:r=Qs;break;case Bi:r=$s}return r},sf=e.mpl_get_col_bnds=function(e,r,i){var a;return 3!=e.D&&n("mpl_get_col_bnds: invalid call sequence"),1<=r&&r<=e.i||n("mpl_get_col_bnds: j = "+r+"; column number out of range"),r=null==(a=e.f[r]).t.W?+t:a.W,(e=null==a.t.P?-t:a.P)==-t&&r==+t?(a=Gs,e=r=0):r==+t?(a=Hs,r=0):e==-t?(a=Ys,e=0):a=a.t.P!=a.t.W?Zs:Js,i(e,r),a},uf=e.mpl_has_solve_stmt=function(e){return 3!=e.D&&n("mpl_has_solve_stmt: invalid call sequence"),e.Ob},lf=e.mpl_put_row_soln=function(e,t,r,n,i){e.n[t].m=r,e.n[t].r=n,e.n[t].J=i},cf=e.mpl_put_col_soln=function(e,t,r,n,i){e.f[t].m=r,e.f[t].r=n,e.f[t].J=i},ff=e.mpl_postsolve=function(e){var t;for((3!=e.D||e.Of)&&n("mpl_postsolve: invalid call sequence"),e.Of=1,t=e.ib;null!=t;t=t.e)Dc(e,t);return e.ib=null,Xc(e),i("Model has been successfully processed"),e.D},pf="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),mf="January February March April May June July August September October November December".split(" ");function hf(e){for(var t="";0<e;)t+="^",e--;return t}function df(e,t,r,n,a,o){i("Input string passed to str2time:"),i(t),i(hf(r+1)),i("Format string passed to str2time:\n"),i(n),i(hf(a+1)),Uc(e,o)}function vf(e,t,r){i("Format string passed to time2str:"),i(t),i(hf(r)),Uc(e,"invalid conversion specifier")}function gf(e){return(e+Tn(1,1,1970))%7+1}function bf(e){switch(gf(e=Tn(1,1,e)-Tn(1,1,1970))){case 1:e+=0;break;case 2:e-=1;break;case 3:e-=2;break;case 4:e-=3;break;case 5:e+=3;break;case 6:e+=2;break;case 7:e+=1}return gf(e),e}var yf={};function xf(e,t){var r=e.Mc,n=yf[r.a[1].toLowerCase()];n?r.link=new n(r,t,e.ve):Uc(e,"Invalid table driver '"+r.a[1]+"'"),null==r.link&&Uc(e,"error on opening table "+e.ib.v.nd.name)}var wf=e.mpl_tab_drv_register=function(e,t){yf[e.toLowerCase()]=t};function Mf(e,t,r){if(this.mode=t,this.Ea=null,this.count=0,this.l="\n",this.Hb=0,this.pb="",this.Wa=0,this.Oa=[],this.ve=r,this.ng=0,this.Ae=1,this.og=2,this.Be=3,2>xc(e)&&n("csv_driver: file name not specified\n"),this.Ea=wc(e,2),"R"==t){for(r?(this.data=r(e.a,t),this.cursor=0):n("csv_driver: unable to open "+this.Ea),this.Eg=0,Nf(this);Nf(this),this.Hb!=this.Ae;){for(this.Hb!=this.Be&&n(this.Ea+":"+this.count+": invalid field name\n"),this.Wa++,t=Mc(e);1<=t&&Nc(e,t)!=this.pb;t--);this.Oa[this.Wa]=t}for(t=Mc(e);1<=t&&"RECNO"!=Nc(e,t);t--);this.Oa[0]=t}else if("W"==t){for(this.data="",r=Mc(e),t=1;t<=r;t++)this.data+=Nc(e,t)+(t<r?",":"\n");this.count++}}function Nf(e){if(-1==e.l)e.Hb=e.ng,e.pb="EOF";else if("\n"==e.l){if(e.Hb=e.Ae,e.pb="EOR",_f(e),","==e.l&&n(e.Ea+":"+e.count+": empty field not allowed\n"),"\n"==e.l&&n(e.Ea+":"+e.count+": empty record not allowed\n"),"#"==e.l&&1==e.count)for(;"#"==e.l;){for(;"\n"!=e.l;)_f(e);_f(e),e.Eg++}}else if(","==e.l&&_f(e),"'"==e.l||'"'==e.l){var t=e.l;for(e.pb="",e.Hb=e.Be,_f(e);;){if(e.l==t&&(_f(e),e.l!=t)){if(","==e.l||"\n"==e.l)break;n(e.Ea+":"+e.count+": invalid field")}e.pb+=e.l,_f(e)}0==e.pb.length&&n(e.Ea+":"+e.count+": empty field not allowed")}else{for(e.pb="",e.Hb=e.og;","!=e.l&&"\n"!=e.l;)"'"!=e.l&&'"'!=e.l||n(e.Ea+":"+e.count+": invalid use of single or double quote within field"),e.pb+=e.l,_f(e);0==e.pb.length&&n(e.Ea+":"+e.count+": empty field not allowed"),Cn(e.pb,function(){})&&(e.Hb=e.Be)}}function _f(e){var t;for("\n"==e.l&&e.count++;;)if("\r"!=(t=e.cursor<e.data.length?e.data[e.cursor++]:-1)){"\n"!=t&&h(t)&&n(e.Ea+":"+e.count+": invalid control character "+t);break}e.l=t}function Af(e,t,r){if(this.mode=t,this.Ea=null,2>xc(e)&&n("json driver: file name not specified"),this.Ea=wc(e,2),"R"==t)for(this.Oa={},r?(this.data=r(e.a,t),"string"==typeof this.data&&(this.data=JSON.parse(this.data)),this.cursor=1):n("json driver: unable to open "+this.Ea),e=0,t=this.data[0];e<t.length;e++)this.Oa[t[e]]=e;else if("W"==t){this.ve=r,this.data=[r=[]];var i=Mc(e);for(t=1;t<=i;t++)r.push(Nc(e,t))}}function Ef(){var e={$b:0};return e.wc=e.gh=e.hh=0,e.name=e.eb=null,e.ha=0,e.ee=e.de=0,e.Db=e.Pc=null,e.Kb=e.td=null,e.top=null,e.g=e.i=e.L=0,e.uf=e.Sd=null,e.da=e.ue=0,e.nf=e.xg=e.Kg=e.zg=0,e.la=null,e.Aa=null,e.ka=null,e.Pa=null,e}function Sf(e,t,r){0==r?(t.ca=null,t.e=e.Db,null==t.e?e.Pc=t:t.e.ca=t,e.Db=t):(t.ca=e.Pc,t.e=null,null==t.ca?e.Db=t:t.ca.e=t,e.Pc=t)}function kf(e,t){null==t.ca?e.Db=t.e:t.ca.e=t.e,null==t.e?e.Pc=t.ca:t.e.ca=t.ca}function Of(e,t){t.ja||(t.ja=1,kf(e,t),Sf(e,t,0))}function Cf(e,t,r){0==r?(t.ca=null,t.e=e.Kb,null==t.e?e.td=t:t.e.ca=t,e.Kb=t):(t.ca=e.td,t.e=null,null==t.ca?e.Kb=t:t.ca.e=t,e.td=t)}function Lf(e,t){null==t.ca?e.Kb=t.e:t.ca.e=t.e,null==t.e?e.td=t.ca:t.e.ca=t.ca}function Tf(e,t){t.ja||(t.ja=1,Lf(e,t),Cf(e,t,0))}function Pf(e){var r={};return r.ea=++e.ee,r.name=null,r.c=-t,r.d=+t,r.k=null,r.ja=0,Sf(e,r,1),r}function If(e){var t={};return t.C=++e.de,t.name=null,t.Ra=0,t.c=t.d=t.u=0,t.k=null,t.ja=0,t.qb={},t.ub={},Cf(e,t,1),t}function zf(e,t,r){var n={};n.n=e,n.f=t,n.j=r,n.ua=null,n.B=e.k,n.ra=null,n.I=t.k,null!=n.B&&(n.B.ua=n),null!=n.I&&(n.I.ra=n),e.k=t.k=n}function Bf(e,t){var r;return(r={}).Zd=t,r.info={},r.link=e.top,e.top=r,r.info}function jf(e){for(var t;null!=e.k;)e.k=(t=e.k).B,null==t.ra?t.f.k=t.I:t.ra.I=t.I,null!=t.I&&(t.I.ra=t.ra)}function Ff(e,t){jf(t),kf(e,t)}function Rf(e,t){for(var r;null!=t.k;)t.k=(r=t.k).I,null==r.ua?r.n.k=r.B:r.ua.B=r.B,null!=r.B&&(r.B.ua=r.ua);Lf(e,t)}function Df(e,r,n){var i,a,o,s=nn,u=nn,l=r.g,c=r.i;for(e.$b=r.dir,e.$b==Zt?o=1:e.$b==Jt&&(o=-1),e.wc=l,e.gh=c,e.hh=r.L,s&&null!=r.name&&(e.name=r.name),s&&null!=r.eb&&(e.eb=r.eb),e.ha=o*r.ha,i=Array(1+l),a=1;a<=l;a++){var f,p=r.n[a];if(i[a]=f=Pf(e),s&&null!=p.name&&(f.name=p.name),u){var m=p.ma;p.type==$t?(f.c=-t,f.d=+t):p.type==er?(f.c=p.c*m,f.d=+t):p.type==tr?(f.c=-t,f.d=p.d*m):p.type==rr?(f.c=p.c*m,f.d=p.d*m):p.type==nr&&(f.c=f.d=p.c*m)}else p.type==$t?(f.c=-t,f.d=+t):p.type==er?(f.c=p.c,f.d=+t):p.type==tr?(f.c=-t,f.d=p.d):p.type==rr?(f.c=p.c,f.d=p.d):p.type==nr&&(f.c=f.d=p.c)}for(l=1;l<=c;l++)if(f=r.f[l],a=If(e),s&&null!=f.name&&(a.name=f.name),n==vr&&(a.Ra=Number(f.kind==Wt)),u)for(p=f.va,f.type==$t?(a.c=-t,a.d=+t):f.type==er?(a.c=f.c/p,a.d=+t):f.type==tr?(a.c=-t,a.d=f.d/p):f.type==rr?(a.c=f.c/p,a.d=f.d/p):f.type==nr&&(a.c=a.d=f.c/p),a.u=o*f.u*p,f=f.k;null!=f;f=f.I)zf(i[f.n.ea],a,f.n.ma*f.j*p);else for(f.type==$t?(a.c=-t,a.d=+t):f.type==er?(a.c=f.c,a.d=+t):f.type==tr?(a.c=-t,a.d=f.d):f.type==rr?(a.c=f.c,a.d=f.d):f.type==nr&&(a.c=a.d=f.c),a.u=o*f.u,f=f.k;null!=f;f=f.I)zf(i[f.n.ea],a,f.j);e.da=n,e.ue=u}function qf(e,r){var n,i,a,o,s,u,l;for(B(r),w(r,e.name),M(r,e.eb),N(r,e.$b),e.$b==Zt?u=1:e.$b==Jt&&(u=-1),C(r,0,u*e.ha),n=e.Db;null!=n;n=n.e)n.ja=a=_(r,1),E(r,a,n.name),k(r,a,i=n.c==-t&&n.d==+t?$t:n.d==+t?er:n.c==-t?tr:n.c!=n.d?rr:nr,n.c,n.d);for(s=new Int32Array(1+r.g),l=new Float64Array(1+r.g),n=e.Kb;null!=n;n=n.e){for(a=A(r,1),S(r,a,n.name),we(r,a,n.Ra?Wt:Kt),O(r,a,i=n.c==-t&&n.d==+t?$t:n.d==+t?er:n.c==-t?tr:n.c!=n.d?rr:nr,n.c,n.d),C(r,a,u*n.u),o=0,i=n.k;null!=i;i=i.I)s[++o]=i.n.ja,l[o]=i.j;T(r,a,o,s,l)}for(e.g=r.g,e.i=r.i,e.L=r.L,e.uf=new Int32Array(1+e.g),e.Sd=new Int32Array(1+e.i),n=e.Db,a=0;null!=n;n=n.e)e.uf[++a]=n.ea;for(n=e.Kb,a=0;null!=n;n=n.e)e.Sd[++a]=n.C;e.name=e.eb=null,e.ha=0,e.Db=e.Pc=null,e.Kb=e.td=null}function Vf(e,r){var n,i,a,o;if(e.$b==Zt?i=1:e.$b==Jt&&(i=-1),e.da==hr?(e.nf=r.na,e.xg=r.sa):e.da==dr?e.Kg=r.df:e.da==vr&&(e.zg=r.za),e.da==hr){for(null==e.la&&(e.la=new Int8Array(1+e.ee)),o=1;o<=e.ee;o++)e.la[o]=0;for(null==e.ka&&(e.ka=new Int8Array(1+e.de)),n=1;n<=e.de;n++)e.ka[n]=0}for(null==e.Pa&&(e.Pa=new Float64Array(1+e.de)),n=1;n<=e.de;n++)e.Pa[n]=t;if(e.da!=vr)for(null==e.Aa&&(e.Aa=new Float64Array(1+e.ee)),o=1;o<=e.ee;o++)e.Aa[o]=t;if(e.da==hr){for(o=1;o<=e.g;o++)e.la[a=e.uf[o]]=(n=r.n[o]).m,e.Aa[a]=i*n.J;for(n=1;n<=e.i;n++)e.ka[a=e.Sd[n]]=(i=r.f[n]).m,e.Pa[a]=i.r}else if(e.da==dr){for(o=1;o<=e.g;o++)e.Aa[a=e.uf[o]]=i*(n=r.n[o]).mc;for(n=1;n<=e.i;n++)e.Pa[a=e.Sd[n]]=(i=r.f[n]).dc}else if(e.da==vr)for(n=1;n<=e.i;n++)e.Pa[a=e.Sd[n]]=(i=r.f[n]).Sa;for(a=e.top;null!=a;a=a.link)a.Zd(e,a.info)}function Xf(e,t){var r,n,i,a;if(e.$b==Zt?i=1:e.$b==Jt&&(i=-1),e.da==hr){for(t.valid=0,t.na=e.nf,t.sa=e.xg,t.aa=t.ha,t.some=0,n=1;n<=t.g;n++)(r=t.n[n]).m=e.la[n],r.J=e.ue?i*e.Aa[n]*r.ma:i*e.Aa[n],r.m==ir?r.J=0:r.m==ar?r.r=r.c:r.m==or?r.r=r.d:r.m==sr?r.r=0:r.m==ur&&(r.r=r.c);for(n=1;n<=t.i;n++)(r=t.f[n]).m=e.ka[n],r.r=e.ue?e.Pa[n]*r.va:e.Pa[n],r.m==ir?r.J=0:r.m==ar?r.r=r.c:r.m==or?r.r=r.d:r.m==sr?r.r=0:r.m==ur&&(r.r=r.c),t.aa+=r.u*r.r;for(n=1;n<=t.g;n++)if((r=t.n[n]).m==ir){for(a=0,i=r.k;null!=i;i=i.B)a+=i.j*i.f.r;r.r=a}for(n=1;n<=t.i;n++)if((r=t.f[n]).m!=ir){for(a=r.u,i=r.k;null!=i;i=i.I)a-=i.j*i.n.J;r.J=a}}else if(e.da==dr){for(t.df=e.Kg,t.ae=t.ha,n=1;n<=t.g;n++)(r=t.n[n]).mc=e.ue?i*e.Aa[n]*r.ma:i*e.Aa[n];for(n=1;n<=t.i;n++)(r=t.f[n]).dc=e.ue?e.Pa[n]*r.va:e.Pa[n],t.ae+=r.u*r.dc;for(n=1;n<=t.g;n++){for(a=0,i=(r=t.n[n]).k;null!=i;i=i.B)a+=i.j*i.f.dc;r.dc=a}for(n=1;n<=t.i;n++){for(a=(r=t.f[n]).u,i=r.k;null!=i;i=i.I)a-=i.j*i.n.mc;r.mc=a}}else if(e.da==vr){for(t.za=e.zg,t.ta=t.ha,n=1;n<=t.i;n++)(r=t.f[n]).Sa=e.Pa[n],t.ta+=r.u*r.Sa;for(n=1;n<=t.g;n++){for(a=0,i=(r=t.n[n]).k;null!=i;i=i.B)a+=i.j*i.f.Sa;r.Sa=a}}}function Uf(e,t){Bf(e,function(e,t){return e.da==hr&&(e.la[t.s]=ir),e.da!=vr&&(e.Aa[t.s]=0),0}).s=t.ea,Ff(e,t)}function Gf(e,r){var n,i;for((n=Bf(e,function(e,t){if(e.da==hr){if(e.ka[t.F]!=ir&&e.ka[t.F]!=ar&&e.ka[t.F]!=or)return 1;e.ka[t.F]=e.ka[t.F]}return e.Pa[t.F]=t.Ng+e.Pa[t.F],0})).F=r.C,n.Ng=r.c,e.ha+=r.u*r.c,i=r.k;null!=i;i=i.I)(n=i.n).c==n.d?n.d=n.c-=i.j*r.c:(n.c!=-t&&(n.c-=i.j*r.c),n.d!=+t&&(n.d-=i.j*r.c));r.d!=+t&&(r.d-=r.c),r.c=0}function Hf(e,r){var n,i;for((n=Bf(e,function(e,t){return e.da==hr&&(e.ka[t.F]=ur),e.Pa[t.F]=t.ph,0})).F=r.C,n.ph=r.c,e.ha+=r.u*r.c,i=r.k;null!=i;i=i.I)(n=i.n).c==n.d?n.d=n.c-=i.j*r.c:(n.c!=-t&&(n.c-=i.j*r.c),n.d!=+t&&(n.d-=i.j*r.c));Rf(e,r)}function Yf(e,t){var r,n,i;n=1e-9+1e-12*Math.abs(t.c),t.d-t.c>n||(Bf(e,function(e,t){if(e.da==hr)if(e.la[t.s]==ir)e.la[t.s]=ir;else{if(e.la[t.s]!=ur)return 1;e.la[t.s]=0<=e.Aa[t.s]?ar:or}return 0}).s=t.ea,r=.5*(t.d+t.c),i=Math.floor(r+.5),Math.abs(r-i)<=n&&(r=i),t.c=t.d=r)}function Zf(e,t){var r,n,i,a;if(a=1e-9+1e-12*Math.abs(t.c),t.d-t.c>a)return 0;if((r=Bf(e,function(e,t){var r,n;if(e.da==hr)if(e.ka[t.F]==ir)e.ka[t.F]=ir;else{if(e.ka[t.F]!=ur)return 1;for(n=t.l,r=t.k;null!=r;r=r.e)n-=r.j*e.Aa[r.Oa];e.ka[t.F]=0<=n?ar:or}return 0})).F=t.C,r.l=t.u,r.k=null,e.da==hr)for(n=t.k;null!=n;n=n.I)(i={}).Oa=n.n.ea,i.j=n.j,i.e=r.k,r.k=i;return r=.5*(t.d+t.c),n=Math.floor(r+.5),Math.abs(r-n)<=a&&(r=n),t.c=t.d=r,1}function Jf(e,r){var n;if(e.Ra&&(n=Math.floor(r+.5),r=1e-5>=Math.abs(r-n)?n:Math.ceil(r)),e.c!=-t&&(n=e.Ra?.001:.001+1e-6*Math.abs(e.c),r<e.c+n))return 0;if(e.d!=+t){if(n=e.Ra?1e-5:1e-5+1e-8*Math.abs(e.d),r>e.d+n)return 4;if(r>e.d-.001*n)return e.c=e.d,3}return n=e.c==-t?2:e.Ra&&r>e.c+.5?2:r>e.c+.3*(1+Math.abs(e.c))?2:1,e.c=r,n}function Kf(e,r){var n;if(e.Ra&&(n=Math.floor(r+.5),r=1e-5>=Math.abs(r-n)?n:Math.floor(r)),e.d!=+t&&(n=e.Ra?.001:.001+1e-6*Math.abs(e.d),r>e.d-n))return 0;if(e.c!=-t){if(n=e.Ra?1e-5:1e-5+1e-8*Math.abs(e.c),r<e.c-n)return 4;if(r<e.c+.001*n)return e.d=e.c,3}return n=e.d==+t?2:e.Ra&&r<e.d-.5?2:r<e.d-.3*(1+Math.abs(e.d))?2:1,e.d=r,n}function Wf(e,r,n){var i,a,o,s,u=null;for(i=1,o=r.k;null!=o;o=o.B)i<Math.abs(o.j)&&(i=Math.abs(o.j));for(o=r.k;null!=o;o=o.B)if(Math.abs(o.j)<1e-7*i)return 1;for((i=Bf(e,function(e,t){var r,n,i,a,o;if(e.da==vr)return 0;if(e.da==hr){if(e.la[t.s]!=ir)return 1;for(r=t.k;null!=r;r=r.e){if(e.ka[r.C]!=ur)return 1;e.ka[r.C]=r.m}}for(r=t.k;null!=r;r=r.e){for(i=r.l,n=r.k;null!=n;n=n.e)i-=n.j*e.Aa[n.Oa];r.l=i}for(n=null,a=0,r=t.k;null!=r;r=r.e)if(i=r.l,o=Math.abs(i/r.Jc),r.m==ar)0>i&&a<o&&(n=r,a=o);else{if(r.m!=or)return 1;0<i&&a<o&&(n=r,a=o)}return null!=n&&(e.da==hr&&(e.la[t.s]=t.m,e.ka[n.C]=ir),e.Aa[t.s]=n.l/n.Jc),0})).s=r.ea,i.m=r.c==r.d?ur:0==n?ar:or,i.k=null,o=r.k;null!=o;o=o.B)if(a=o.f,e.da!=vr&&((u={}).C=a.C,u.m=-1,u.Jc=o.j,u.l=a.u,u.k=null,u.e=i.k,i.k=u),0==n&&0>o.j||0!=n&&0<o.j?(e.da!=vr&&(u.m=ar),a.d=a.c):(e.da!=vr&&(u.m=or),a.c=a.d),e.da!=vr)for(a=a.k;null!=a;a=a.I)a!=o&&((s={}).Oa=a.n.ea,s.j=a.j,s.e=u.k,u.k=s);return r.c=-t,r.d=+t,0}function Qf(e,r,n){e.da==hr&&((e=Bf(e,function(e,t){return e.da!=hr?1:(e.la[t.s]=e.la[t.s]==ir?ir:t.m,0)})).s=r.ea,e.m=r.d==+t?ar:r.c==-t?or:r.c!=r.d?0==n?or:ar:ur),0==n?r.c=-t:1==n&&(r.d=+t)}function $f(e,t){var r,n,i;for(n=null,r=e.k;null!=r;r=r.B)(i={}).fa=t*r.j,i.jc=r.f,i.e=n,n=i;return n}function ep(e,t,r){var n,i,a;for(n=e;null!=n;n=n.e);for(i=0,n=e;null!=n;n=n.e)if(1!=n.fa){if(-1!=n.fa)break;i++}if(null==n&&t==1-i)return 1;for(n=e;null!=n;n=n.e)0>n.fa&&(t-=n.fa);for(n=e;null!=n;n=n.e)if(Math.abs(n.fa)>t)return 0;for(i=null,n=e;null!=n;n=n.e)(null==i||Math.abs(i.fa)>Math.abs(n.fa))&&(i=n);for(a=null,n=e;null!=n;n=n.e)n!=i&&(null==a||Math.abs(a.fa)>Math.abs(n.fa))&&(a=n);if(Math.abs(i.fa)+Math.abs(a.fa)<=t+(.001+1e-6*Math.abs(t)))return 0;for(t=1,n=e;null!=n;n=n.e)0<n.fa?n.fa=1:(n.fa=-1,t-=1);return r(t),2}function tp(e,r){var n,i,a,o,s,u=0;for(o=0;1>=o;o++){if(0==o){if(r.d==+t)continue;a=$f(r,1),s=+r.d}else{if(r.c==-t)continue;a=$f(r,-1),s=-r.c}if(n=ep(a,s,function(e){s=e}),1==o&&1==n||2==n){if(u++,r.c==-t||r.d==+t)n=null;else for(n=Pf(e),0==o?(n.c=r.c,n.d=+t):(n.c=-t,n.d=r.d),i=r.k;null!=i;i=i.B)zf(n,i.f,i.j);for(jf(r),r.c=-t,r.d=s;null!=a;a=a.e)zf(r,a.jc,a.fa);null!=n&&(r=n)}}return u}function rp(e,t,r){var n,i;for(n=e;null!=n;n=n.e);for(i=0,n=e;null!=n;n=n.e)if(1!=n.fa){if(-1!=n.fa)break;i++}if(null==n&&t==1-i)return 1;for(n=e;null!=n;n=n.e)0>n.fa&&(t-=n.fa);if(.001>t)return 0;for(i=1e-9+1e-12*Math.abs(t),n=e;null!=n;n=n.e)if(Math.abs(n.fa)<t-i)return 0;for(t=1,n=e;null!=n;n=n.e)0<n.fa?n.fa=1:(n.fa=-1,t-=1);return r(t),2}function np(e,r){var n,i,a,o,s,u=0;for(o=0;1>=o;o++){if(0==o){if(r.c==-t)continue;a=$f(r,1),s=+r.c}else{if(r.d==+t)continue;a=$f(r,-1),s=-r.d}if(n=rp(a,s,function(e){s=e}),1==o&&1==n||2==n){if(u++,r.c==-t||r.d==+t)n=null;else for(n=Pf(e),0==o?(n.c=-t,n.d=r.d):(n.c=r.c,n.d=+t),i=r.k;null!=i;i=i.B)zf(n,i.f,i.j);for(jf(r),r.c=s,r.d=+t;null!=a;a=a.e)zf(r,a.jc,a.fa);null!=n&&(r=n)}}return u}function ip(e,r,n){var i,a,o,s=0;for(a=0,i=e;null!=i;i=i.e)if(0<i.fa){if(i.jc.c==-t)return s;a+=i.fa*i.jc.c}else{if(i.jc.d==+t)return s;a+=i.fa*i.jc.d}for(i=e;null!=i;i=i.e)i.jc.Ra&&0==i.jc.c&&1==i.jc.d&&(0<i.fa?r-i.fa<(e=a)&&e<r&&.001<=(o=r-e)&&i.fa-o>=.01*(1+i.fa)&&(i.fa=o,s++):r<(e=a-i.fa)&&e<r-i.fa&&-.001>=(o=i.fa+(e-r))&&o-i.fa>=.01*(1-i.fa)&&(i.fa=o,a+=e-r,r=e,s++));return n(r),s}function ap(e,r){var n,i,a,o,s,u=Array(2);for(o=u[0]=u[1]=0;1>=o;o++){if(0==o){if(r.c==-t)continue;a=$f(r,1),s=+r.c}else{if(r.d==+t)continue;a=$f(r,-1),s=-r.d}if(u[o]=ip(a,s,function(e){s=e}),0<u[o]){if(r.c==-t||r.d==+t)n=null;else for(n=Pf(e),0==o?(n.c=-t,n.d=r.d):(n.c=r.c,n.d=+t),i=r.k;null!=i;i=i.B)zf(n,i.f,i.j);for(jf(r),r.c=s,r.d=+t,i=a;null!=i;i=i.e)zf(r,i.jc,i.fa);null!=n&&(r=n)}}return u[0]+u[1]}function op(e,r,n){function i(){for(o=r.k;null!=o;o=s){for(s=o.B,u=(a=o.f).k;null!=u;u=u.I)Of(e,u.n);Hf(e,a)}return Uf(e,r),0}var a,o,s,u,l;if(null==r.k){if(0==(l=function(e,r){return.001<r.c||-.001>r.d?1:(r.c=-t,r.d=+t,Uf(e,r),0)}(e,r)))return 0;if(1==l)return _n}if(null==r.k.B)if(a=r.k.f,r.c==r.d){if(0==(l=function(e,r){var n,i,a;if(0!=(n=function(e,r){var n;if(e.Ra){if(n=Math.floor(r+.5),!(1e-5>=Math.abs(r-n)))return 2;r=n}if(e.c!=-t){if(n=e.Ra?1e-5:1e-5+1e-8*Math.abs(e.c),r<e.c-n)return 1;if(r<e.c+.001*n)return e.d=e.c,0}if(e.d!=+t){if(n=e.Ra?1e-5:1e-5+1e-8*Math.abs(e.d),r>e.d+n)return 1;if(r>e.d-.001*n)return e.c=e.d,0}return e.c=e.d=r,0}(i=(a=r.k).f,r.c/a.j)))return n;if((n=Bf(e,function(e,t){var r,n;if(e.da==hr){if(e.ka[t.F]!=ur)return 1;e.la[t.s]=ur,e.ka[t.F]=ir}if(e.da!=vr){for(n=t.l,r=t.k;null!=r;r=r.e)n-=r.j*e.Aa[r.Oa];e.Aa[t.s]=n/t.Da}return 0})).s=r.ea,n.F=i.C,n.Da=a.j,n.l=i.u,n.k=null,e.da!=vr)for(a=i.k;null!=a;a=a.I)a.n!=r&&((i={}).Oa=a.n.ea,i.j=a.j,i.e=n.k,n.k=i);return Ff(e,r),0}(e,r))){for(o=a.k;null!=o;o=o.I)Of(e,o.n);return Hf(e,a),0}if(1==l||2==l)return _n}else{if(0<=(l=function(e,r){var n,i,a,o,s,u;if(i=(a=r.k).f,0<a.j?(s=r.c==-t?-t:r.c/a.j,n=r.d==+t?+t:r.d/a.j):(s=r.d==+t?-t:r.d/a.j,n=r.c==-t?+t:r.c/a.j),s==-t)s=0;else if(4==(s=Jf(i,s)))return 4;if(n==+t)u=0;else if(3==s)u=0;else if(4==(u=Kf(i,n)))return 4;if(!s&&!u)return r.c=-t,r.d=+t,Uf(e,r),0;if((n=Bf(e,function(e,r){var n,i;if(e.da==vr)return 0;for(i=r.l,n=r.k;null!=n;n=n.e)i-=n.j*e.Aa[n.Oa];if(e.da==hr){n=function(){return r.Vf?(e.la[r.s]=0<r.Da?ar:or,e.ka[r.F]=ir,e.Aa[r.s]=i/r.Da):(e.la[r.s]=ir,e.Aa[r.s]=0),0};var a=function(){return r.gg?(e.la[r.s]=0<r.Da?or:ar,e.ka[r.F]=ir,e.Aa[r.s]=i/r.Da):(e.la[r.s]=ir,e.Aa[r.s]=0),0};if(e.ka[r.F]==ir)e.la[r.s]=ir,e.Aa[r.s]=0;else if(e.ka[r.F]==ar)n();else if(e.ka[r.F]==or)a();else{if(e.ka[r.F]!=ur)return 1;if(1e-7<i&&(0<r.Da&&r.c!=-t||0>r.Da&&r.d!=+t||!r.Vf))return e.ka[r.F]=ar,n();if(-1e-7>i&&(0<r.Da&&r.d!=+t||0>r.Da&&r.c!=-t||!r.gg))return e.ka[r.F]=or,a();if(r.c!=-t&&r.d==+t)e.la[r.s]=ar;else if(r.c==-t&&r.d!=+t)e.la[r.s]=or;else{if(r.c==-t||r.d==+t)return 1;e.la[r.s]=r.Da*e.Pa[r.F]<=.5*(r.c+r.d)?ar:or}e.ka[r.F]=ir,e.Aa[r.s]=i/r.Da}}return e.da==dr&&(e.Aa[r.s]=2220446049250313e-31<i&&r.Vf||-2220446049250313e-31>i&&r.gg?i/r.Da:0),0})).s=r.ea,n.F=i.C,n.Da=a.j,n.l=i.u,n.c=r.c,n.d=r.d,n.Vf=s,n.gg=u,n.k=null,e.da!=vr)for(i=i.k;null!=i;i=i.I)i!=a&&((o={}).Oa=i.n.ea,o.j=i.j,o.e=n.k,n.k=o);return Ff(e,r),s>=u?s:u}(e,r))&&3>=l){if(Tf(e,a),2<=l)for(o=a.k;null!=o;o=o.I)Of(e,o.n);return 3==l&&Hf(e,a),0}if(4==l)return _n}if(51==(l=function(e){var r,n,i,a=0;for(n=0,r=e.k;null!=r;r=r.B)if(0<r.j){if(r.f.c==-t){n=-t;break}n+=r.j*r.f.c}else{if(r.f.d==+t){n=-t;break}n+=r.j*r.f.d}for(i=0,r=e.k;null!=r;r=r.B)if(0<r.j){if(r.f.d==+t){i=+t;break}i+=r.j*r.f.d}else{if(r.f.c==-t){i=+t;break}i+=r.j*r.f.c}return e.c!=-t&&(r=.001+1e-6*Math.abs(e.c),e.c-r>i)||e.d!=+t&&(r=.001+1e-6*Math.abs(e.d),e.d+r<n)?51:(e.c!=-t&&(r=1e-9+1e-12*Math.abs(e.c),e.c-r>n&&(a=e.c+r<=i?1|a:2|a)),e.d!=+t&&(r=1e-9+1e-12*Math.abs(e.d),e.d+r<i&&(a=e.d-r>=n?16|a:32|a)),a)}(r)))return _n;if(0==(15&l))r.c!=-t&&Qf(e,r,0);else if(1!=(15&l)&&2==(15&l)&&0==Wf(e,r,0))return i();if(0==(240&l))r.d!=+t&&Qf(e,r,1);else if(16!=(240&l)&&32==(240&l)&&0==Wf(e,r,1))return i();if(r.c==-t&&r.d==+t){for(o=r.k;null!=o;o=o.B)Tf(e,o.f);return Uf(e,r),0}return e.da==vr&&n&&0>sp(e,r,1)?_n:0}function sp(e,r,n){var i,a,o,s,u,l,c=0;for(u=!1,a=1,i=r.k;null!=i;i=i.B)i.f.qb.qb=-t,i.f.ub.ub=+t,a<Math.abs(i.j)&&(a=Math.abs(i.j));if(s=1e-6*a,r.c!=-t){for(a=null,i=r.k;null!=i;i=i.B)if(0<i.j&&i.f.d==+t||0>i.j&&i.f.c==-t){if(null!=a){u=!0;break}a=i}if(!u){for(u=r.c,i=r.k;null!=i;i=i.B)i!=a&&(u=0<i.j?u-i.j*i.f.d:u-i.j*i.f.c);if(null==a)for(i=r.k;null!=i;i=i.B)i.j>=+s?i.f.qb.qb=i.f.d+u/i.j:i.j<=-s&&(i.f.ub.ub=i.f.c+u/i.j);else a.j>=+s?a.f.qb.qb=u/a.j:a.j<=-s&&(a.f.ub.ub=u/a.j)}}if(u=!1,r.d!=+t){for(a=null,i=r.k;null!=i;i=i.B)if(0<i.j&&i.f.c==-t||0>i.j&&i.f.d==+t){if(null!=a){u=!0;break}a=i}if(!u){for(u=r.d,i=r.k;null!=i;i=i.B)i!=a&&(u=0<i.j?u-i.j*i.f.c:u-i.j*i.f.d);if(null==a)for(i=r.k;null!=i;i=i.B)i.j>=+s?i.f.ub.ub=i.f.c+u/i.j:i.j<=-s&&(i.f.qb.qb=i.f.d+u/i.j);else a.j>=+s?a.f.ub.ub=u/a.j:a.j<=-s&&(a.f.qb.qb=u/a.j)}}for(a=r.k;null!=a;)for(i=a.f,a=a.B,s=0;1>=s;s++){if(o=i.c,l=i.d,0==s){if(i.qb.qb==-t)continue;u=Jf(i,i.qb.qb)}else{if(i.ub.ub==+t)continue;u=Kf(i,i.ub.ub)}if(0==u||1==u)i.c=o,i.d=l;else if(2==u||3==u){if(c++,n)for(o=i.k;null!=o;o=o.I)o.n!=r&&Of(e,o.n);if(3==u){Hf(e,i);break}}else if(4==u)return-1}return c}function up(e,r){var n,i,a;if(null==r.k){if(0==(a=function(e,r){function n(){a.m=ar,r.d=r.c}function i(){a.m=or,r.c=r.d}var a;return.001<r.u&&r.c==-t||-.001>r.u&&r.d==+t?1:((a=Bf(e,function(e,t){return e.da==hr&&(e.ka[t.F]=t.m),0})).F=r.C,r.c==-t&&r.d==+t?(a.m=sr,r.c=r.d=0):r.d==+t?n():r.c==-t?i():r.c!=r.d?2220446049250313e-31<=r.u?n():-2220446049250313e-31>=r.u?i():Math.abs(r.c)<=Math.abs(r.d)?n():i():a.m=ur,Hf(e,r),0)}(e,r)))return 0;if(1==a)return An}if(null==r.k.I){var o=function(){if(function(e,r){var n,i,a,o;for(i=(a=r.k).n,(n=Bf(e,function(e,t){var r,n;if(e.da==hr){if(e.la[t.s]==ir||e.la[t.s]==sr)e.ka[t.F]=e.la[t.s];else if(e.la[t.s]==ar)e.ka[t.F]=0<t.Da?or:ar;else{if(e.la[t.s]!=or)return 1;e.ka[t.F]=0<t.Da?ar:or}e.la[t.s]=ur}for(e.da!=vr&&(e.Aa[t.s]+=t.l/t.Da),r=t.qd,n=t.k;null!=n;n=n.e)r-=n.j*e.Pa[n.Oa];return e.Pa[t.F]=r/t.Da,0})).s=i.ea,n.F=r.C,n.Da=a.j,n.qd=i.c,n.l=r.u,n.k=null,a=i.k;null!=a;a=a.B)a.f!=r&&((o={}).Oa=a.f.C,o.j=a.j,o.e=n.k,n.k=o,a.f.u-=a.j/n.Da*n.l);e.ha+=n.qd/n.Da*n.l,0<n.Da?(i.c=r.d==+t?-t:n.qd-n.Da*r.d,i.d=r.c==-t?+t:n.qd-n.Da*r.c):(i.c=r.c==-t?-t:n.qd-n.Da*r.c,i.d=r.d==+t?+t:n.qd-n.Da*r.d),Rf(e,r)}(e,r),n.c==-t&&n.d==+t){for(i=n.k;null!=i;i=i.B)Tf(e,i.f);Uf(e,n)}else Of(e,n);return 0};if((n=r.k.n).c==n.d){if(!r.Ra)return o()}else if(!r.Ra){if(0==(a=function(e,r){function n(){a.m=ar,o.d=o.c}function i(){a.m=or,o.c=o.d}var a,o,s,u,l,c;if((l=(o=(s=r.k).n).c)!=-t)for(u=o.k;null!=u;u=u.B)if(u!=s)if(0<u.j){if(u.f.d==+t){l=-t;break}l-=u.j*u.f.d}else{if(u.f.c==-t){l=-t;break}l-=u.j*u.f.c}if((c=o.d)!=+t)for(u=o.k;null!=u;u=u.B)if(u!=s)if(0<u.j){if(u.f.c==-t){c=+t;break}c-=u.j*u.f.c}else{if(u.f.d==+t){c=+t;break}c-=u.j*u.f.d}if(u=0<s.j?l==-t?-t:l/s.j:c==+t?-t:c/s.j,l=0<s.j?c==+t?+t:c/s.j:l==-t?+t:l/s.j,r.c!=-t&&(c=1e-9+1e-12*Math.abs(r.c),u<r.c-c)||r.d!=+t&&(c=1e-9+1e-12*Math.abs(r.d),l>r.d+c))return 1;if(r.c=-t,r.d=+t,(a=Bf(e,function(e,t){if(e.da==hr)if(e.la[t.s]==ir)e.la[t.s]=ir;else{if(e.la[t.s]!=ur)return 1;e.la[t.s]=t.m}return 0})).s=o.ea,a.m=-1,2220446049250313e-31<(s=r.u/s.j))if(o.c!=-t)n();else{if(1e-5<s)return 2;i()}else if(-2220446049250313e-31>s)if(o.d!=+t)i();else{if(-1e-5>s)return 2;n()}else o.d==+t?n():o.c==-t?i():Math.abs(o.c)<=Math.abs(o.d)?n():i();return 0}(e,r)))return o();if(1!=a&&2==a)return An}}return 0}function lp(e,r){var n,i,a;for(n=e.Db;null!=n;n=i)i=n.e,n.c==-t&&n.d==+t&&Uf(e,n);for(n=e.Db;null!=n;n=i)i=n.e,n.c!=-t&&n.d!=+t&&n.c<n.d&&Yf(e,n);for(n=e.Kb;null!=n;n=i)i=n.e,n.c==n.d&&Hf(e,n);for(n=e.Kb;null!=n;n=i)i=n.e,n.c!=-t&&n.d!=+t&&n.c<n.d&&0!=(a=Zf(e,n))&&1==a&&Hf(e,n);for(n=e.Db;null!=n;n=n.e)n.ja=1;for(n=e.Kb;null!=n;n=n.e)n.ja=1;for(i=1;i;){for(i=0;null!=(n=e.Db)&&n.ja;){if(i=e,(a=n).ja&&(a.ja=0,kf(i,a),Sf(i,a,1)),0!=(n=op(e,n,r)))return n;i=1}for(;null!=(n=e.Kb)&&n.ja;){if(i=e,(a=n).ja&&(a.ja=0,Lf(i,a),Cf(i,a,1)),0!=(n=up(e,n)))return n;i=1}}if(e.da==vr&&!r)for(n=e.Db;null!=n;n=n.e)if(0>sp(e,n,0))return _n;return 0}function cp(e){var t,r;for(t=1,r=32;55>=r;t++,r++)e.nb[t]=e.nb[t]-e.nb[r]&2147483647;for(r=1;55>=t;t++,r++)e.nb[t]=e.nb[t]-e.nb[r]&2147483647;return e.Qf=54,e.nb[55]}function fp(){var e,t={};for(t.nb=Array(56),t.nb[0]=-1,e=1;55>=e;e++)t.nb[e]=0;return t.Qf=0,pp(t,1),t}function pp(e,t){var r,n,i=1;for(t=n=t-0&2147483647,e.nb[55]=n,r=21;r;r=(r+21)%55)e.nb[r]=i,i=(i=n-i&2147483647)-(t=1&t?1073741824+(t>>1):t>>1)&2147483647,n=e.nb[r];cp(e),cp(e),cp(e),cp(e),cp(e)}function mp(e){return 0<=e.nb[e.Qf]?e.nb[e.Qf--]:cp(e)}function hp(e){return-.3*(1-(e=mp(e)/2147483647))+.7*e}Mf.prototype.readRecord=function(e){var t;for(0<this.Oa[0]&&Sc(e,this.Oa[0],this.count-this.Eg-1),t=1;t<=this.Wa;t++){if(Nf(this),this.Hb==this.ng)return-1;if(this.Hb==this.Ae){var r=this.Wa-t+1;n(1==r?this.Ea+":"+this.count+": one field missing":this.Ea+":"+this.count+": "+r+" fields missing")}else if(this.Hb==this.og){if(0<this.Oa[t]){var i=0;Cn(this.pb,function(e){i=e}),Sc(e,this.Oa[t],i)}}else this.Hb==this.Be&&0<this.Oa[t]&&kc(e,this.Oa[t],this.pb)}return Nf(this),this.Hb!=this.Ae&&n(this.Ea+":"+this.count+": too many fields"),0},Mf.prototype.writeRecord=function(e){var t,r,n,i;for(r=Mc(e),t=1;t<=r;t++){switch(_c(e,t)){case"N":this.data+=Ac(e,t);break;case"S":for(this.data+='"',n=Ec(e,t),i=0;n.length>i;i++)this.data='"'==n[i]?this.data+'""':this.data+n[i];this.data+='"'}this.data+=t<r?",":"\n"}return this.count++,0},Mf.prototype.flush=function(e){this.ve(e.a,this.mode,this.data)},wf("CSV",Mf),Af.prototype.writeRecord=function(e){var t,r=Mc(e),n=[];for(t=1;t<=r;t++)switch(_c(e,t)){case"N":n.push(Ac(e,t));break;case"S":n.push(Ec(e,t))}return this.data.push(n),0},Af.prototype.readRecord=function(e){var t=this.data[this.cursor++];if(null==t)return-1;for(var r=1;r<=Mc(e);r++){var i=this.Oa[Nc(e,r)];if(null!=i)switch(i=t[i],typeof i){case"number":Sc(e,r,i);break;case"boolean":Sc(e,r,Number(i));break;case"string":kc(e,r,i);break;default:n("Unexpected data type "+i+" in "+this.Ea)}}return 0},Af.prototype.flush=function(e){this.ve(e.a,this.mode,this.data)},wf("JSON",Af);var dp=1,vp=2,gp=1,bp=2,yp=0,xp=1e-10;function wp(e,t,r){return(t-1)*e.K+r-t*(t-1)/2}function Mp(e,t,r){var n;0==t?(t=1,n=0):Math.abs(e)<=Math.abs(t)?(e=-e/t,t=(n=1/Math.sqrt(1+e*e))*e):(e=-t/e,n=(t=1/Math.sqrt(1+e*e))*e),r(t,n)}function Np(e,t,r,i){if(e.pa<e.i&&n("scf_solve_it: singular matrix"),t){t=e.i;var a,o,s,u=e.Nb,l=e.v,c=e.s,f=e.ig;for(a=1;a<=t;a++)f[a]=r[c[a]+i];for(a=1;a<=t;a++)for(o=wp(e,a,a),s=f[a]/=l[o],c=a+1,o++;c<=t;c++,o++)f[c]-=l[o]*s;for(c=1;c<=t;c++)r[c+i]=0;for(a=1;a<=t;a++)for(s=f[a],c=1,o=(a-1)*e.K+1;c<=t;c++,o++)r[c+i]+=u[o]*s}else{var p;for(t=e.i,u=e.Nb,l=e.v,f=e.s,a=e.ig,c=1;c<=t;c++){for(p=0,o=1,s=(c-1)*e.K+1;o<=t;o++,s++)p+=u[s]*r[o+i];a[c]=p}for(c=t;1<=c;c--){for(p=a[c],o=t,s=wp(e,c,t);o>c;o--,s--)p-=l[s]*a[o];a[c]=p/l[s]}for(c=1;c<=t;c++)r[f[c]+i]=a[c]}}yp&&(Fn=function(e,t){var r,n,a,o,s=e.i,u=e.Nb,l=e.v,c=e.s,f=e.l,p=0;for(r=1;r<=s;r++)for(n=1;n<=s;n++){for(o=0,a=1;a<=s;a++)o+=u[(r-1)*e.K+a]*f[(a-1)*e.K+n];a=r<=(a=c[n])?l[wp(e,r,a)]:0,p<(o=Math.abs(o-a)/(1+Math.abs(a)))&&(p=o)}1e-8<p&&i(t+": dmax = "+p+"; relative error too large")});var _p=e.glp_scale_prob=function(e,t){function r(e,t){var r,n,i;for(n=1,r=e.n[t].k;null!=r;r=r.B)i=(i=Math.abs(r.j))*r.n.ma*r.f.va,(null==r.ua||n>i)&&(n=i);return n}function a(e,t){var r,n,i;for(n=1,r=e.n[t].k;null!=r;r=r.B)i=(i=Math.abs(r.j))*r.n.ma*r.f.va,(null==r.ua||n<i)&&(n=i);return n}function o(e,t){var r,n,i;for(n=1,r=e.f[t].k;null!=r;r=r.I)i=(i=Math.abs(r.j))*r.n.ma*r.f.va,(null==r.ra||n>i)&&(n=i);return n}function s(e,t){var r,n,i;for(n=1,r=e.f[t].k;null!=r;r=r.I)i=(i=Math.abs(r.j))*r.n.ma*r.f.va,(null==r.ra||n<i)&&(n=i);return n}function u(e){var t,n,i;for(t=n=1;t<=e.g;t++)i=r(e,t),(1==t||n>i)&&(n=i);return n}function l(e){var t,r,n;for(t=r=1;t<=e.g;t++)n=a(e,t),(1==t||r<n)&&(r=n);return r}function c(e,t){var r,n,i;for(n=0;1>=n;n++)if(n==t)for(r=1;r<=e.g;r++)i=a(e,r),te(e,r,ne(e,r)/i);else for(r=1;r<=e.i;r++)i=s(e,r),re(e,r,ie(e,r)/i)}function f(e){var t,n,i;for(t=n=1;t<=e.g;t++)i=a(e,t)/r(e,t),(1==t||n<i)&&(n=i);return n}function p(e){var t,r,n;for(t=r=1;t<=e.i;t++)n=s(e,t)/o(e,t),(1==t||r<n)&&(r=n);return r}function m(e){var t,n,i,c=0;for(n=f(e)>p(e),t=1;15>=t&&(i=c,c=l(e)/u(e),!(1<t&&c>.9*i));t++){i=e;var m=n,h=void 0,d=h=void 0,v=void 0;for(d=0;1>=d;d++)if(d==m)for(h=1;h<=i.g;h++)v=r(i,h)*a(i,h),te(i,h,ne(i,h)/Math.sqrt(v));else for(h=1;h<=i.i;h++)v=o(i,h)*s(i,h),re(i,h,ie(i,h)/Math.sqrt(v))}}t&~(lr|cr|fr|pr|mr)&&n("glp_scale_prob: flags = "+t+"; invalid scaling options"),t&mr&&(t=lr|cr|pr),function(e,t){function r(e,t,r,n){return e+": min|aij| = "+t+"  max|aij| = "+r+"  ratio = "+n}var n,a;if(i("Scaling..."),ae(e),i(r(" A",n=u(e),a=l(e),a/n)),!(.1<=n&&10>=a&&(i("Problem data seem to be well scaled"),t&pr))&&(t&lr&&(m(e),i(r("GM",n=u(e),a=l(e),a/n))),t&cr&&(c(e,f(e)>p(e)),i(r("EQ",n=u(e),a=l(e),a/n))),t&fr)){for(n=1;n<=e.g;n++)te(e,n,On(ne(e,n)));for(n=1;n<=e.i;n++)re(e,n,On(ie(e,n)));i(r("2N",n=u(e),a=l(e),a/n))}}(e,t)};function Ap(e,r){function n(e,t,r,n){var i=e.g,a=e.Ca,s=e.Ba,u=e.Ia;if((e=e.head[t])<=i)i=1,r[1]=e,n[1]=1;else for(o(r,1,s,t=a[e-i],i=a[e-i+1]-t),o(n,1,u,t,i),r=1;r<=i;r++)n[r]=-n[r];return i}function a(e){var t=nt(e.U,e.g,n,e);return e.valid=0==t,t}function u(e,t,r){var n,i=e.g;if(r<=i){var a=Array(2);n=Array(2),a[1]=r,n[1]=1,t=ot(e.U,t,1,a,0,n)}else{var o,s=e.Ca,u=(a=e.Ba,e.Ia);for(n=e.jb,o=s[r-i],r=s[r-i+1],s=0,i=o;i<r;i++)n[++s]=-u[i];t=ot(e.U,t,s,a,o-1,n)}return e.valid=0==t,t}function f(e,t,r){var n,i,a,s=e.g,u=e.jb,l=e.jb,c=e.g,f=e.Ca,p=e.Ba,m=e.Ia,h=e.head;for(o(l,1,t,1,c),t=1;t<=c;t++)if(0!=(a=r[t]))if((n=h[t])<=c)l[n]-=a;else for(i=f[n-c],n=f[n-c+1];i<n;i++)l[p[i]]+=m[i]*a;for(it(e.U,u),e=1;e<=s;e++)r[e]+=u[e]}function p(e,t,r){var n,i,a,o,s=e.g,u=e.jb,l=e.jb,c=e.g,f=e.Ca,p=e.Ba,m=e.Ia,h=e.head;for(n=1;n<=c;n++){if(o=t[n],(i=h[n])<=c)o-=r[i];else for(a=f[i-c],i=f[i-c+1];a<i;a++)o+=m[a]*r[p[a]];l[n]=o}for(at(e.U,u),e=1;e<=s;e++)r[e]+=u[e]}function m(e,t,r){var n,i=e.g,a=e.De,o=e.Kd,s=e.Ce,u=e.Ee;if(r<=i)s[n=a[r]+o[r]++]=t,u[n]=1;else{n=e.Ca;var l,c=e.Ba;for(e=e.Ia,l=n[r-i],r=n[r-i+1],i=l;i<r;i++)s[n=a[n=c[i]]+o[n]++]=t,u[n]=-e[i]}}function h(e,t,r){var n,i=e.g,a=e.De,o=e.Kd,s=e.Ce,u=e.Ee;if(r<=i){for(i=n=a[r];s[i]!=t;i++);n+=--o[r],s[i]=s[n],u[i]=u[n]}else{var l,c;for(n=e.Ca,e=e.Ba,c=n[r-i],r=n[r-i+1];c<r;c++){for(i=n=a[l=e[c]];s[i]!=t;i++);n+=--o[l],s[i]=s[n],u[i]=u[n]}}}function d(e,t){var r,n,i=e.c,a=e.d;switch(r=e.head[e.g+t],e.m[t]){case ar:n=i[r];break;case or:n=a[r];break;case sr:n=0;break;case ur:n=i[r]}return n}function v(e,t){var r,n,i,a,s=e.g,u=e.i,l=e.Ca,c=e.Ba,p=e.Ia,m=e.head,h=e.Gc;for(r=1;r<=s;r++)h[r]=0;for(r=1;r<=u;r++)if(n=m[s+r],0!=(a=d(e,r)))if(n<=s)h[n]-=a;else for(i=l[n-s],n=l[n-s+1];i<n;i++)h[c[i]]+=a*p[i];o(t,1,h,1,s),it(e.U,t),f(e,h,t)}function g(e){var t,r=e.i,n=e.Qa,i=e.Hc;t=e.g;var a,s=e.u,u=e.head,l=e.Gc;for(a=1;a<=t;a++)l[a]=s[u[a]];for(o(i,1,l,1,t),at(e.U,i),p(e,l,i),t=1;t<=r;t++){if(l=u=void 0,l=(a=e.u)[u=e.head[(s=e.g)+t]],u<=s)l-=i[u];else for(var c=e.Ba,f=e.Ia,m=void 0,h=(m=void 0,m=(a=e.Ca)[u-s],a[u-s+1]);m<h;m++)l+=f[m]*i[c[m]];n[t]=l}}function b(e){var t=e.g,r=e.i,n=e.head,i=e.hd,a=e.gamma;for(e.Rb=1e3,s(i,1,0,t+r),e=1;e<=r;e++)i[n[t+e]]=1,a[e]=1}function y(e,t){var r,n,i,a,o=e.i,s=e.m,u=e.Qa,l=e.gamma;for(a=n=0,r=1;r<=o;r++){switch(i=u[r],s[r]){case ar:if(i>=-t)continue;break;case or:if(i<=+t)continue;break;case sr:if(-t<=i&&i<=+t)continue;break;case ur:continue}a<(i=i*i/l[r])&&(n=r,a=i)}e.F=n}function x(e){var t,r,n=e.g,i=e.yb,a=e.Ua,o=e.Ua;for(r=e.head[n+e.F],t=1;t<=n;t++)o[t]=0;if(r<=n)o[r]=-1;else{var s=e.Ca;t=e.Ba;var u,l=e.Ia;for(u=s[r-n],r=s[r-n+1];u<r;u++)o[t[u]]=l[u]}for(it(e.U,a),o=0,t=1;t<=n;t++)0!=a[t]&&(i[++o]=t);e.Tb=o}function w(e){var t,r,n=e.g,i=e.yb,a=e.Ua,o=e.Hc;for(r=e.head[n+e.F],t=1;t<=n;t++)o[t]=0;if(r<=n)o[r]=-1;else{var s=e.Ca;t=e.Ba;var u,l=e.Ia;for(u=s[r-n],r=s[r-n+1];u<r;u++)o[t[u]]=l[u]}for(f(e,o,a),o=0,t=1;t<=n;t++)0!=a[t]&&(i[++o]=t);e.Tb=o}function M(e,t){var r,n,i,a=e.Tb,o=e.yb,s=e.Ua;for(n=0,r=1;r<=a;r++)n<(i=Math.abs(s[o[r]]))&&(n=i);for(e.rh=n,i=t*(1+.01*n),n=0;n<a;)r=o[a],Math.abs(s[r])<i?a--:(o[a]=o[++n],o[n]=r);e.sh=n}function N(e,r){var n,i,a,o,s,u,l,c,f,p=e.g,m=e.type,h=e.c,d=e.d,v=e.u,g=e.head,b=e.D,y=e.Ha,x=e.F,w=e.yb,M=e.Ua,N=e.sh;for(l=0<e.Qa[x]?-1:1,m[n=g[p+x]]==rr?(x=-1,i=0,f=d[n]-h[n],s=1):(i=x=0,f=t,s=0),a=1;a<=N;a++){if(n=g[p=w[a]],0<(o=l*M[p]))if(1==b&&0>v[n])u=r*(1+X*Math.abs(h[n])),c=(h[n]+u-y[p])/o,n=ar;else{if(1==b&&0<v[n])continue;if(m[n]!=tr&&m[n]!=rr&&m[n]!=nr)continue;u=r*(1+X*Math.abs(d[n])),c=(d[n]+u-y[p])/o,n=or}else if(1==b&&0<v[n])u=r*(1+X*Math.abs(d[n])),c=(d[n]-u-y[p])/o,n=or;else{if(1==b&&0>v[n])continue;if(m[n]!=er&&m[n]!=rr&&m[n]!=nr)continue;u=r*(1+X*Math.abs(h[n])),c=(h[n]-u-y[p])/o,n=ar}0>c&&(c=0),(f>c||f==c&&s<Math.abs(o))&&(x=p,i=n,f=c,s=Math.abs(o))}if(!(0==r||0>=x||0==f))for(u=f,i=x=0,f=t,s=0,a=1;a<=N;a++){if(n=g[p=w[a]],0<(o=l*M[p]))if(1==b&&0>v[n])c=(h[n]-y[p])/o,n=ar;else{if(1==b&&0<v[n])continue;if(m[n]!=tr&&m[n]!=rr&&m[n]!=nr)continue;c=(d[n]-y[p])/o,n=or}else if(1==b&&0<v[n])c=(d[n]-y[p])/o,n=or;else{if(1==b&&0>v[n])continue;if(m[n]!=er&&m[n]!=rr&&m[n]!=nr)continue;c=(h[n]-y[p])/o,n=ar}0>c&&(c=0),c<=u&&s<Math.abs(o)&&(x=p,i=n,f=c,s=Math.abs(o))}e.s=x,e.nf=0<x&&m[g[x]]==nr?ur:i,e.th=l*f}function _(e,t){var r,n=e.g,i=e.s;for(r=1;r<=n;r++)t[r]=0;t[i]=1,at(e.U,t)}function A(e,t){var r,n=e.g,i=e.s,a=e.Hc;for(r=1;r<=n;r++)a[r]=0;a[i]=1,p(e,a,t)}function E(e,t){var r,n,i,a,o=e.g,s=e.i,u=e.De,l=e.Kd,c=e.Ce,f=e.Ee,p=e.Vb,m=e.mb;for(r=1;r<=s;r++)m[r]=0;for(r=1;r<=o;r++)if(0!=(a=t[r]))for(i=(n=u[r])+l[r];n<i;n++)m[c[n]]-=a*f[n];for(o=0,r=1;r<=s;r++)0!=m[r]&&(p[++o]=r);e.Bc=o}function S(e){var t=e.Ha,r=e.F,n=e.Tb,i=e.yb,a=e.Ua,o=e.s,s=e.th;if(0<o&&(t[o]=d(e,r)+s),0!=s)for(r=1;r<=n;r++)(e=i[r])!=o&&(t[e]+=a[e]*s)}function k(e){var t,r,n=e.u,i=e.head,a=e.Tb,o=e.yb,s=e.Ua;for(r=n[i[e.g+e.F]],t=1;t<=a;t++)r+=n[i[e=o[t]]]*s[e];return r}function O(e){var t,r,n,i=e.Qa,a=e.F,o=e.Bc,s=e.Vb;for(n=i[a]/=(e=e.mb)[a],r=1;r<=o;r++)(t=s[r])!=a&&(i[t]-=e[t]*n)}function C(e){var t,r,n,i,a,o,s=e.g,u=e.type,l=e.Ca,c=e.Ba,f=e.Ia,p=e.head,m=e.hd,h=e.gamma,d=e.F,v=e.Tb,g=e.yb,b=e.Ua,y=e.s,x=e.Bc,w=e.Vb,M=e.mb,N=e.Hc;for(e.Rb--,i=a=m[p[s+d]]?1:0,t=1;t<=s;t++)N[t]=0;for(r=1;r<=v;r++)m[p[t=g[r]]]?(N[t]=t=b[t],i+=t*t):N[t]=0;for(at(e.U,N),v=M[d],r=1;r<=x;r++)if((e=w[r])!=d){if(t=M[e]/v,(g=p[s+e])<=s)o=N[g];else for(o=0,n=l[g-s],b=l[g-s+1];n<b;n++)o-=f[n]*N[c[n]];h[e]=(b=h[e]+t*t*i+2*t*o)>=(t=(m[g]?1:0)+a*t*t)?b:t,2220446049250313e-31>h[e]&&(h[e]=2220446049250313e-31)}u[p[y]]==nr?h[d]=1:(h[d]=i/(v*v),2220446049250313e-31>h[d]&&(h[d]=2220446049250313e-31))}function L(e){var t,r=e.g,n=e.head,i=e.m,a=e.F,o=e.s;if(e=e.nf,0>o)switch(i[a]){case ar:i[a]=or;break;case or:i[a]=ar}else t=n[o],n[o]=n[r+a],n[r+a]=t,i[a]=e}function T(e,t){var r,n,i=e.g,a=e.i,o=e.type,s=e.c,u=e.d,l=e.u,c=e.head,f=e.Ha,p=0;for(t*=.9,r=1;r<=i+a;r++)l[r]=0;for(a=1;a<=i;a++)o[r=c[a]]!=er&&o[r]!=rr&&o[r]!=nr||(n=t*(1+X*Math.abs(s[r])),f[a]<s[r]-n&&(l[r]=-1,p++)),o[r]!=tr&&o[r]!=rr&&o[r]!=nr||(n=t*(1+X*Math.abs(u[r])),f[a]>u[r]+n&&(l[r]=1,p++));return p}function P(e){var t,r=e.g,n=e.i,i=e.u,a=e.eb;for(e=e.$a,t=1;t<=r;t++)i[t]=0;for(t=1;t<=n;t++)i[r+t]=e*a[t]}function I(e,t){var r,n,i,a=e.g,o=e.type,s=e.c,u=e.d,l=e.u,c=e.head,f=e.D,p=e.Ha;for(r=1;r<=a;r++)if(n=c[r],1==f&&0>l[n]){if(i=t*(1+X*Math.abs(s[n])),p[r]>s[n]+i)return 1}else if(1==f&&0<l[n]){if(i=t*(1+X*Math.abs(u[n])),p[r]<u[n]-i)return 1}else{if((o[n]==er||o[n]==rr||o[n]==nr)&&(i=t*(1+X*Math.abs(s[n])),p[r]<s[n]-i))return 1;if((o[n]==tr||o[n]==rr||o[n]==nr)&&(i=t*(1+X*Math.abs(u[n])),p[r]>u[n]+i))return 1}return 0}function z(e,t){var r,n,i,a=e.g,o=e.c,s=e.d,u=e.u,l=e.head,c=e.Ha;for(r=1;r<=a;r++)if(0>u[n=l[r]]){if(i=t*(1+X*Math.abs(o[n])),c[r]<o[n]-i)return 1}else if(0<u[n]&&(i=t*(1+X*Math.abs(s[n])),c[r]>s[n]+i))return 1;return 0}function B(e){var t,r,n,i=e.g,a=e.i,o=e.eb,s=e.head,u=e.Ha;for(n=o[0],t=1;t<=i;t++)(r=s[t])>i&&(n+=o[r-i]*u[t]);for(u=1;u<=a;u++)(r=s[i+u])>i&&(n+=o[r-i]*d(e,u));return n}function j(e,t,r){var n,a,o=e.g,s=e.type,u=e.c,l=e.d,f=e.D,p=e.head,m=e.Ha;if(!(t.o<kr||0<t.fb&&1e3*c(e.hc)<t.fb||e.$==e.be||!r&&0!=e.$%t.bc)){for(n=a=0,t=1;t<=o;t++)(s[r=p[t]]==er||s[r]==rr||s[r]==nr)&&m[t]<u[r]&&(a+=u[r]-m[t]),(s[r]==tr||s[r]==rr||s[r]==nr)&&m[t]>l[r]&&(a+=m[t]-l[r]),s[r]==nr&&n++;i((1==f?" ":"*")+e.$+": obj = "+B(e)+"  infeas = "+a+" ("+n+")"),e.be=e.$}}function F(e,t,r,n,i){var a=e.g,s=e.i,u=e.$a,l=e.head,c=e.m,f=e.Ha,p=e.Qa;for(t.valid=1,e.valid=0,t.U=e.U,e.U=null,o(t.head,1,l,1,a),t.na=r,t.sa=n,t.aa=B(e),t.$=e.$,t.some=i,e=1;e<=a;e++)(r=l[e])<=a?((r=t.n[r]).m=ir,r.bind=e,r.r=f[e]/r.ma):((r=t.f[r-a]).m=ir,r.bind=e,r.r=f[e]*r.va),r.J=0;for(f=1;f<=s;f++)if((r=l[a+f])<=a){switch((r=t.n[r]).m=c[f],r.bind=0,c[f]){case ar:r.r=r.c;break;case or:r.r=r.d;break;case sr:r.r=0;break;case ur:r.r=r.c}r.J=p[f]*r.ma/u}else{switch((r=t.f[r-a]).m=c[f],r.bind=0,c[f]){case ar:r.r=r.c;break;case or:r.r=r.d;break;case sr:r.r=0;break;case ur:r.r=r.c}r.J=p[f]/r.va/u}}var R,D,q,V,X=.1,U=2,G=0,H=0,Y=0;for(function(e,t){var r,n,i=e.g,a=e.i,u=e.type,c=e.c,f=e.d,p=e.u,h=e.eb,d=e.Ca,v=e.Ba,g=e.Ia,b=e.head,y=e.m,x=e.hd,w=e.gamma;for(r=1;r<=i;r++)u[r]=(n=t.n[r]).type,c[r]=n.c*n.ma,f[r]=n.d*n.ma,p[r]=0;for(r=1;r<=a;r++)u[i+r]=(n=t.f[r]).type,c[i+r]=n.c/n.va,f[i+r]=n.d/n.va,p[i+r]=n.u*n.va;for(h[0]=t.ha,o(h,1,p,i+1,a),u=0,r=1;r<=a;r++)u<Math.abs(h[r])&&(u=Math.abs(h[r]));switch(0==u&&(u=1),t.dir){case Zt:e.$a=1/u;break;case Jt:e.$a=-1/u}for(1>Math.abs(e.$a)&&(e.$a*=1e3),r=h=1;r<=a;r++)for(d[r]=h,u=t.f[r].k;null!=u;u=u.I)v[h]=u.n.ea,g[h]=u.n.ma*u.j*u.f.va,h++;for(d[a+1]=h,o(b,1,t.head,1,i),d=0,r=1;r<=i;r++)(n=t.n[r]).m!=ir&&(b[i+ ++d]=r,y[d]=n.m);for(r=1;r<=a;r++)(n=t.f[r]).m!=ir&&(b[i+ ++d]=i+r,y[d]=n.m);for(e.valid=1,t.valid=0,e.U=t.U,t.U=null,b=e.g,y=e.i,d=e.Ca,v=e.Ba,g=e.De,r=e.Kd,h=1;h<=b;h++)r[h]=1;for(h=1;h<=y;h++)for(c=d[h],u=d[h+1];c<u;c++)r[v[c]]++;for(h=g[1]=1;h<=b;h++)r[h]>y&&(r[h]=y),g[h+1]=g[h]+r[h];for(e.Ce=new Int32Array(g[b+1]),e.Ee=new Float64Array(g[b+1]),y=e.i,d=e.head,v=e.m,s(e.Kd,1,0,b=e.g),g=1;g<=y;g++)v[g]!=ur&&m(e,g,r=d[b+g]);for(e.D=0,e.hc=l(),e.Sf=e.$=t.$,e.be=-1,e.Rb=0,s(x,1,0,i+a),r=1;r<=a;r++)w[r]=1}(R=function(e){var t=e.g,r=e.i;e=e.L;var n={};return n.g=t,n.i=r,n.type=new Int8Array(1+t+r),n.c=new Float64Array(1+t+r),n.d=new Float64Array(1+t+r),n.u=new Float64Array(1+t+r),n.eb=new Float64Array(1+r),n.Ca=new Int32Array(1+r+1),n.Ba=new Int32Array(1+e),n.Ia=new Float64Array(1+e),n.head=new Int32Array(1+t+r),n.m=new Int8Array(1+r),n.De=new Int32Array(1+t+1),n.Kd=new Int32Array(1+t),n.Ce=null,n.Ee=null,n.Ha=new Float64Array(1+t),n.Qa=new Float64Array(1+r),n.hd=new Int8Array(1+t+r),n.gamma=new Float64Array(1+r),n.yb=new Int32Array(1+t),n.Ua=new Float64Array(1+t),n.Vb=new Int32Array(1+r),n.mb=new Float64Array(1+r),n.jb=new Float64Array(1+t),n.Gc=new Float64Array(1+t),n.Hc=new Float64Array(1+t),n.jg=new Float64Array(1+t),n}(e),e),r.o>=Cr&&i("Objective scale factor = "+R.$a);;){if(0==U){if(0!=(V=a(R)))return r.o>=Sr&&(i("Error: unable to factorize the basis matrix ("+V+")"),i("Sorry, basis recovery procedure not implemented yet")),e.U=R.U,R.U=null,e.na=e.sa=gr,e.aa=0,e.$=R.$,e.some=0,yn;U=R.valid=1,G=H=0}if(0==G&&(v(R,R.Ha),G=1,0==R.D&&(0<T(R,r.Gb)?R.D=1:(P(R),R.D=2),H=0,j(R,r,1)),I(R,r.Gb)))r.o>=Sr&&i("Warning: numerical instability (primal simplex, phase "+(1==R.D?"I":"II")+")"),U=R.D=0,Y=5;else{switch(1!=R.D||z(R,r.Gb)||(R.D=2,P(R),H=0,j(R,r,1)),0==H&&(g(R),H=1),r.fd){case zr:0==R.Rb&&b(R)}if(2147483647>r.oc&&R.$-R.Sf>=r.oc){if(1!=G||2==R.D&&1!=H){1!=G&&(G=0),2==R.D&&1!=H&&(H=0);continue}switch(j(R,r,1),r.o>=Or&&i("ITERATION LIMIT EXCEEDED; SEARCH TERMINATED"),R.D){case 1:D=yr,P(R),g(R);break;case 2:D=br}return y(R,r.tb),F(R,e,D,q=0==R.F?br:yr,0),Mn}if(2147483647>r.sb&&1e3*c(R.hc)>=r.sb){if(1!=G||2==R.D&&1!=H){1!=G&&(G=0),2==R.D&&1!=H&&(H=0);continue}switch(j(R,r,1),r.o>=Or&&i("TIME LIMIT EXCEEDED; SEARCH TERMINATED"),R.D){case 1:D=yr,P(R),g(R);break;case 2:D=br}return y(R,r.tb),F(R,e,D,q=0==R.F?br:yr,0),Nn}if(j(R,r,0),y(R,r.tb),0==R.F){if(1!=G||1!=H){1!=G&&(G=0),1!=H&&(H=0);continue}switch(j(R,r,1),R.D){case 1:r.o>=Or&&i("PROBLEM HAS NO FEASIBLE SOLUTION"),D=xr,P(R),g(R),y(R,r.tb),q=0==R.F?br:yr;break;case 2:r.o>=Or&&i("OPTIMAL SOLUTION FOUND"),D=q=br}return F(R,e,D,q,0),0}x(R),Y&&w(R),M(R,r.xe);var Z=R.Qa[R.F],J=k(R);if(!(Math.abs(Z-J)>1e-5*(1+Math.abs(J)))&&(0>Z&&0>J||0<Z&&0<J)||(r.o>=Cr&&i("d1 = "+Z+"; d2 = "+J),1==H&&Y)){switch(R.Qa[R.F]=0<Z?0<J?J:2220446049250313e-31:0>J?J:-2220446049250313e-31,r.ne){case Br:N(R,0);break;case jr:N(R,.3*r.Gb)}if(0==R.s){if(1!=G||1!=H||!Y){1!=G&&(G=0),1!=H&&(H=0),Y=1;continue}switch(j(R,r,1),R.D){case 1:r.o>=Sr&&i("Error: unable to choose basic variable on phase I"),e.U=R.U,R.U=null,e.na=e.sa=gr,e.aa=0,e.$=R.$,e.some=0,V=yn;break;case 2:r.o>=Or&&i("PROBLEM HAS UNBOUNDED SOLUTION"),F(R,e,br,xr,R.head[R.g+R.F]),V=0}return V}if(0<R.s&&(Z=R.Ua[R.s],J=1e-5*(1+.01*R.rh),Math.abs(Z)<J&&(r.o>=Cr&&i("piv = "+Z+"; eps = "+J),!Y)))Y=5;else{if(0<R.s&&(_(R,Z=R.jg),Y&&A(R,Z),E(R,Z)),0<R.s&&(Z=R.Ua[R.s],J=R.mb[R.F],Math.abs(Z-J)>1e-8*(1+Math.abs(Z))||!(0<Z&&0<J||0>Z&&0>J))){if(r.o>=Cr&&i("piv1 = "+Z+"; piv2 = "+J),1!=U||!Y){1!=U&&(U=0),Y=5;continue}0==R.mb[R.F]&&(R.Bc++,R.Vb[R.Bc]=R.F),R.mb[R.F]=Z}if(S(R),G=2,0<R.s&&(O(R),H=2,1==R.D&&(R.Qa[R.F]-=R.u[Z=R.head[R.s]],R.u[Z]=0)),0<R.s)switch(r.fd){case zr:0<R.Rb&&C(R)}0<R.s&&(U=0==(V=u(R,R.s,R.head[R.g+R.F]))?2:R.valid=0),0<R.s&&(h(R,R.F,R.head[R.g+R.F]),R.type[R.head[R.s]]!=nr&&m(R,R.F,R.head[R.s])),L(R),R.$++,0<Y&&Y--}}else 1!=H&&(H=0),Y=5}}}function Ep(e,r){function n(e,t,r,n){var i=e.g,a=e.Ca,s=e.Ba,u=e.Ia;if((e=e.head[t])<=i)i=1,r[1]=e,n[1]=1;else for(o(r,1,s,t=a[e-i],i=a[e-i+1]-t),o(n,1,u,t,i),r=1;r<=i;r++)n[r]=-n[r];return i}function a(e){var t=nt(e.U,e.g,n,e);return e.valid=0==t,t}function u(e,t,r){var n,i=e.g;if(r<=i){var a=Array(2);n=Array(2),a[1]=r,n[1]=1,t=ot(e.U,t,1,a,0,n)}else{var o,s=e.Ca,u=(a=e.Ba,e.Ia);for(n=e.jb,o=s[r-i],r=s[r-i+1],s=0,i=o;i<r;i++)n[++s]=-u[i];t=ot(e.U,t,s,a,o-1,n)}return e.valid=0==t,t}function f(e,t,r){var n,i,a,s=e.g,u=e.jb,l=e.jb,c=e.g,f=e.Ca,p=e.Ba,m=e.Ia,h=e.head;for(o(l,1,t,1,c),t=1;t<=c;t++)if(0!=(a=r[t]))if((n=h[t])<=c)l[n]-=a;else for(i=f[n-c],n=f[n-c+1];i<n;i++)l[p[i]]+=m[i]*a;for(it(e.U,u),e=1;e<=s;e++)r[e]+=u[e]}function p(e,t,r){var n,i,a,o,s=e.g,u=e.jb,l=e.jb,c=e.g,f=e.Ca,p=e.Ba,m=e.Ia,h=e.head;for(n=1;n<=c;n++){if(o=t[n],(i=h[n])<=c)o-=r[i];else for(a=f[i-c],i=f[i-c+1];a<i;a++)o+=m[a]*r[p[a]];l[n]=o}for(at(e.U,u),e=1;e<=s;e++)r[e]+=u[e]}function m(e,t){var r,n,i=e.c,a=e.d;switch(r=e.head[e.g+t],e.m[t]){case ar:n=i[r];break;case or:n=a[r];break;case sr:n=0;break;case ur:n=i[r]}return n}function h(e,t){var r,n,i,a,s=e.g,u=e.i,l=e.Ca,c=e.Ba,p=e.Ia,h=e.head,d=e.Gc;for(r=1;r<=s;r++)d[r]=0;for(r=1;r<=u;r++)if(n=h[s+r],0!=(a=m(e,r)))if(n<=s)d[n]-=a;else for(i=l[n-s],n=l[n-s+1];i<n;i++)d[c[i]]+=a*p[i];o(t,1,d,1,s),it(e.U,t),f(e,d,t)}function d(e){var t,r=e.i,n=e.Qa,i=e.Hc;t=e.g;var a,s=e.u,u=e.head,l=e.Gc;for(a=1;a<=t;a++)l[a]=s[u[a]];for(o(i,1,l,1,t),at(e.U,i),p(e,l,i),t=1;t<=r;t++){if(l=u=void 0,l=(a=e.u)[u=e.head[(s=e.g)+t]],u<=s)l-=i[u];else for(var c=e.Ba,f=e.Ia,m=void 0,h=(m=void 0,m=(a=e.Ca)[u-s],a[u-s+1]);m<h;m++)l+=f[m]*i[c[m]];n[t]=l}}function v(e){var t=e.g,r=e.i,n=e.head,i=e.hd,a=e.gamma;for(e.Rb=1e3,s(i,1,0,t+r),e=1;e<=t;e++)i[r=n[e]]=1,a[e]=1}function g(e,t){var r,n,i,a,o,s,u,l=e.g,c=e.type,f=e.c,p=e.d,m=e.head,h=e.Ha,d=e.gamma;for(o=a=i=0,r=1;r<=l;r++)u=0,c[n=m[r]]!=er&&c[n]!=rr&&c[n]!=nr||(s=t*(1+D*Math.abs(f[n])),h[r]<f[n]-s&&(u=f[n]-h[r])),c[n]!=tr&&c[n]!=rr&&c[n]!=nr||(s=t*(1+D*Math.abs(p[n])),h[r]>p[n]+s&&(u=p[n]-h[r])),0!=u&&(2220446049250313e-31>(n=d[r])&&(n=2220446049250313e-31),o<(n=u*u/n)&&(i=r,a=u,o=n));e.s=i,e.Se=a}function b(e,t){var r,n=e.g,i=e.s;for(r=1;r<=n;r++)t[r]=0;t[i]=1,at(e.U,G)}function y(e,t){var r,n=e.g,i=e.s,a=e.Hc;for(r=1;r<=n;r++)a[r]=0;a[i]=1,p(e,a,t)}function x(e,t){var r,n,i=e.g;for(n=0,r=1;r<=i;r++)0!=t[r]&&n++;if(.2<=n/i){i=e.g,r=e.i,n=e.Ca;var a,o,s,u,l,c=e.Ba,f=e.Ia,p=e.head,m=e.m,h=e.Vb,d=e.mb;for(u=0,a=1;a<=r;a++)if(m[a]==ur)d[a]=0;else{if((o=p[i+a])<=i)l=-t[o];else for(s=n[o-i],o=n[o-i+1],l=0;s<o;s++)l+=t[c[s]]*f[s];0!=l&&(h[++u]=a),d[a]=l}e.Bc=u}else{for(c=e.g,i=e.i,f=e.lg,p=e.kg,m=e.mg,h=e.bind,d=e.m,r=e.Vb,n=e.mb,u=1;u<=i;u++)n[u]=0;for(a=1;a<=c;a++)if(0!=(o=t[a]))for(1<=(u=h[a]-c)&&d[u]!=ur&&(n[u]-=o),s=f[a+1],l=u=f[a];l<s;l++)1<=(u=h[c+p[l]]-c)&&d[u]!=ur&&(n[u]+=o*m[l]);for(c=0,u=1;u<=i;u++)0!=n[u]&&(r[++c]=u);e.Bc=c}}function w(e,t){var r,n,i,a=e.Bc,o=e.Vb,s=e.mb;for(n=0,r=1;r<=a;r++)n<(i=Math.abs(s[o[r]]))&&(n=i);for(e.uh=n,i=t*(1+.01*n),n=0;n<a;)r=o[a],Math.abs(s[r])<i?a--:(o[a]=o[++n],o[n]=r);e.vh=n}function M(e,r){var n,i,a,o,s,u,l,c,f,p=e.m,m=e.Qa,h=e.Vb,d=e.mb,v=e.vh;for(u=0<e.Se?1:-1,a=0,c=t,s=0,i=1;i<=v;i++){if(0<(o=u*d[n=h[i]])){if(p[n]!=ar&&p[n]!=sr)continue;l=(m[n]+r)/o}else{if(p[n]!=or&&p[n]!=sr)continue;l=(m[n]-r)/o}0>l&&(l=0),(c>l||c==l&&s<Math.abs(o))&&(a=n,c=l,s=Math.abs(o))}if(0!=r&&0!=a&&0!=c)for(f=c,a=0,c=t,s=0,i=1;i<=v;i++){if(0<(o=u*d[n=h[i]])){if(p[n]!=ar&&p[n]!=sr)continue;l=m[n]/o}else{if(p[n]!=or&&p[n]!=sr)continue;l=m[n]/o}0>l&&(l=0),l<=f&&s<Math.abs(o)&&(a=n,c=l,s=Math.abs(o))}e.F=a,e.bh=u*c}function N(e){var t,r,n=e.g,i=e.yb,a=e.Ua,o=e.Ua;for(r=e.head[n+e.F],t=1;t<=n;t++)o[t]=0;if(r<=n)o[r]=-1;else{var s=e.Ca;t=e.Ba;var u,l=e.Ia;for(u=s[r-n],r=s[r-n+1];u<r;u++)o[t[u]]=l[u]}for(it(e.U,a),o=0,t=1;t<=n;t++)0!=a[t]&&(i[++o]=t);e.Tb=o}function _(e){var t,r,n=e.g,i=e.yb,a=e.Ua,o=e.Hc;for(r=e.head[n+e.F],t=1;t<=n;t++)o[t]=0;if(r<=n)o[r]=-1;else{var s=e.Ca;t=e.Ba;var u,l=e.Ia;for(u=s[r-n],r=s[r-n+1];u<r;u++)o[t[u]]=l[u]}for(f(e,o,a),o=0,t=1;t<=n;t++)0!=a[t]&&(i[++o]=t);e.Tb=o}function A(e){var t,r,n=e.Qa,i=e.Bc,a=e.Vb,o=e.mb,s=e.F;if(n[s]=e=e.bh,0!=e)for(r=1;r<=i;r++)(t=a[r])!=s&&(n[t]-=o[t]*e)}function E(e){var t,r=e.Ha,n=e.s,i=e.F,a=e.Tb,o=e.yb,s=e.Ua;if(t=e.Se/s[n],r[n]=m(e,i)+t,0!=t)for(i=1;i<=a;i++)(e=o[i])!=n&&(r[e]+=s[e]*t)}function S(e){var t,r,n,i,a,o,s=e.g,u=e.type,l=e.head,c=e.hd,f=e.gamma,p=e.s,m=e.Bc,h=e.Vb,d=e.mb,v=e.F,g=e.Tb,b=e.yb,y=e.Ua,x=e.Hc;for(e.Rb--,a=o=c[l[p]]?1:0,t=1;t<=s;t++)x[t]=0;for(i=1;i<=m;i++)if(c[n=l[s+(r=h[i])]])if(a+=(r=d[r])*r,n<=s)x[n]+=r;else{var w=e.Ca;t=e.Ba;var M,N=e.Ia;for(M=w[n-s],n=w[n-s+1];M<n;M++)x[t[M]]-=r*N[M]}for(it(e.U,x),e=y[p],i=1;i<=g;i++)n=l[t=b[i]],t!=p&&u[l[t]]!=$t&&(f[t]=(m=f[t]+(r=y[t]/e)*r*a+2*r*x[t])>=(r=(c[n]?1:0)+o*r*r)?m:r,2220446049250313e-31>f[t]&&(f[t]=2220446049250313e-31));if(u[l[s+v]]==$t?f[p]=1:(f[p]=a/(e*e),2220446049250313e-31>f[p]&&(f[p]=2220446049250313e-31)),u[n=l[p]]==nr&&c[n])for(c[n]=0,i=1;i<=g;i++){if((t=b[i])==p){if(u[l[s+v]]==$t)continue;r=1/y[p]}else{if(u[l[t]]==$t)continue;r=y[t]/y[p]}f[t]-=r*r,2220446049250313e-31>f[t]&&(f[t]=2220446049250313e-31)}}function k(e){var t,r=e.g,n=e.type,i=e.head,a=e.bind,o=e.m,s=e.s,u=e.Se;t=i[s],i[s]=i[r+(e=e.F)],i[r+e]=t,a[i[s]]=s,a[i[r+e]]=r+e,o[e]=n[t]==nr?ur:0<u?ar:or}function O(e,t){var r,n,i=e.g,a=e.i,o=e.ac,s=e.head,u=e.Qa;for(r=1;r<=a;r++)if(n=s[i+r],u[r]<-t&&(o[n]==er||o[n]==$t)||u[r]>+t&&(o[n]==tr||o[n]==$t))return 1;return 0}function C(e){var t,r=e.g,n=e.i,i=e.type,a=e.c,o=e.d,s=e.ac,u=e.head,l=e.m;for(e=e.Qa,t=1;t<=r+n;t++)switch(s[t]){case $t:i[t]=rr,a[t]=-1e3,o[t]=1e3;break;case er:i[t]=rr,a[t]=0,o[t]=1;break;case tr:i[t]=rr,a[t]=-1,o[t]=0;break;case rr:case nr:i[t]=nr,a[t]=o[t]=0}for(a=1;a<=n;a++)l[a]=i[t=u[r+a]]==nr?ur:0<=e[a]?ar:or}function L(e){var t=e.g,r=e.i,n=e.type,i=e.c,a=e.d,s=e.bd,u=e.cd,l=e.head,c=e.m,f=e.Qa;for(o(n,1,e.ac,1,t+r),o(i,1,s,1,t+r),o(a,1,u,1,t+r),e=1;e<=r;e++)switch(s=l[t+e],n[s]){case $t:c[e]=sr;break;case er:c[e]=ar;break;case tr:c[e]=or;break;case rr:c[e]=2220446049250313e-31<=f[e]?ar:-2220446049250313e-31>=f[e]?or:Math.abs(i[s])<=Math.abs(a[s])?ar:or;break;case nr:c[e]=ur}}function T(e,t){var r,n=e.i,i=e.m,a=e.Qa;for(r=1;r<=n;r++)if(a[r]<-t&&(i[r]==ar||i[r]==sr)||a[r]>+t&&(i[r]==or||i[r]==sr))return 1;return 0}function P(e){var t,r,n,i=e.g,a=e.i,o=e.eb,s=e.head,u=e.Ha;for(n=o[0],t=1;t<=i;t++)(r=s[t])>i&&(n+=o[r-i]*u[t]);for(u=1;u<=a;u++)(r=s[i+u])>i&&(n+=o[r-i]*m(e,u));return n}function I(e,t,r){var n=e.g,a=e.i,o=e.u,s=e.ac,u=e.head,l=e.m,f=e.D,p=e.Ha,h=e.Qa;if(!(t.o<kr||0<t.fb&&1e3*c(e.hc)<t.fb||e.$==e.be||!r&&0!=e.$%t.bc)){if(t=0,1==f){for(l=1;l<=n;l++)t-=o[u[l]]*p[l];for(p=1;p<=a;p++)t-=o[u[n+p]]*m(e,p)}else for(p=1;p<=a;p++)0>h[p]&&(l[p]==ar||l[p]==sr)&&(t-=h[p]),0<h[p]&&(l[p]==or||l[p]==sr)&&(t+=h[p]);for(a=0,l=1;l<=n;l++)s[u[l]]==nr&&a++;i(1==e.D?" "+e.$+":  infeas = "+t+" ("+a+")":"|"+e.$+": obj = "+P(e)+"  infeas = "+t+" ("+a+")"),e.be=e.$}}function z(e,t,r,n,i){var a=e.g,s=e.i,u=e.$a,l=e.head,c=e.m,f=e.Ha,p=e.Qa;for(t.valid=1,e.valid=0,t.U=e.U,e.U=null,o(t.head,1,l,1,a),t.na=r,t.sa=n,t.aa=P(e),t.$=e.$,t.some=i,e=1;e<=a;e++)(r=l[e])<=a?((r=t.n[r]).m=ir,r.bind=e,r.r=f[e]/r.ma):((r=t.f[r-a]).m=ir,r.bind=e,r.r=f[e]*r.va),r.J=0;for(f=1;f<=s;f++)if((r=l[a+f])<=a){switch((r=t.n[r]).m=c[f],r.bind=0,c[f]){case ar:r.r=r.c;break;case or:r.r=r.d;break;case sr:r.r=0;break;case ur:r.r=r.c}r.J=p[f]*r.ma/u}else{switch((r=t.f[r-a]).m=c[f],r.bind=0,c[f]){case ar:r.r=r.c;break;case or:r.r=r.d;break;case sr:r.r=0;break;case ur:r.r=r.c}r.J=p[f]/r.va/u}}var B,j,F,R,D=.1,q=2,V=0,X=0,U=0;for(function(e,t){var r,n,i=e.g,a=e.i,u=e.type,c=e.c,f=e.d,p=e.u,m=e.ac,h=e.bd,d=e.cd,v=e.eb,g=e.Ca,b=e.Ba,y=e.Ia,x=e.lg,w=e.kg,M=e.mg,N=e.head,_=e.bind,A=e.m,E=e.hd,S=e.gamma;for(r=1;r<=i;r++)u[r]=(n=t.n[r]).type,c[r]=n.c*n.ma,f[r]=n.d*n.ma,p[r]=0;for(r=1;r<=a;r++)u[i+r]=(n=t.f[r]).type,c[i+r]=n.c/n.va,f[i+r]=n.d/n.va,p[i+r]=n.u*n.va;for(o(m,1,u,1,i+a),o(h,1,c,1,i+a),o(d,1,f,1,i+a),v[0]=t.ha,o(v,1,p,i+1,a),u=0,r=1;r<=a;r++)u<Math.abs(v[r])&&(u=Math.abs(v[r]));switch(0==u&&(u=1),t.dir){case Zt:e.$a=1/u;break;case Jt:e.$a=-1/u}for(1>Math.abs(e.$a)&&(e.$a*=1e3),r=1;r<=a;r++)p[i+r]*=e.$a;for(r=p=1;r<=a;r++)for(g[r]=p,v=t.f[r].k;null!=v;v=v.I)b[p]=v.n.ea,y[p]=v.n.ma*v.j*v.f.va,p++;for(g[a+1]=p,r=p=1;r<=i;r++)for(x[r]=p,v=t.n[r].k;null!=v;v=v.B)w[p]=v.f.C,M[p]=v.n.ma*v.j*v.f.va,p++;for(x[i+1]=p,o(N,1,t.head,1,i),g=0,r=1;r<=i;r++)(n=t.n[r]).m!=ir&&(N[i+ ++g]=r,A[g]=n.m);for(r=1;r<=a;r++)(n=t.f[r]).m!=ir&&(N[i+ ++g]=i+r,A[g]=n.m);for(g=1;g<=i+a;g++)_[N[g]]=g;for(e.valid=1,t.valid=0,e.U=t.U,t.U=null,e.D=0,e.hc=l(),e.Sf=e.$=t.$,e.be=-1,e.Rb=0,s(E,1,0,i+a),r=1;r<=i;r++)S[r]=1}(B=function(e){var t=e.g,r=e.i;e=e.L;var n={};return n.g=t,n.i=r,n.type=new Int8Array(1+t+r),n.c=new Float64Array(1+t+r),n.d=new Float64Array(1+t+r),n.u=new Float64Array(1+t+r),n.ac=new Int8Array(1+t+r),n.bd=new Float64Array(1+t+r),n.cd=new Float64Array(1+t+r),n.eb=new Float64Array(1+r),n.Ca=new Int32Array(1+r+1),n.Ba=new Int32Array(1+e),n.Ia=new Float64Array(1+e),n.lg=new Int32Array(1+t+1),n.kg=new Int32Array(1+e),n.mg=new Float64Array(1+e),n.head=new Int32Array(1+t+r),n.bind=new Int32Array(1+t+r),n.m=new Int8Array(1+r),n.Ha=new Float64Array(1+t),n.Qa=new Float64Array(1+r),n.hd=new Int8Array(1+t+r),n.gamma=new Float64Array(1+t),n.Vb=new Int32Array(1+r),n.mb=new Float64Array(1+r),n.yb=new Int32Array(1+t),n.Ua=new Float64Array(1+t),n.jb=new Float64Array(1+t),n.Gc=new Float64Array(1+t),n.Hc=new Float64Array(1+t),n.jg=new Float64Array(1+t),n}(e),e),r.o>=Cr&&i("Objective scale factor = "+B.$a);;){if(0==q){if(0!=(R=a(B)))return r.o>=Sr&&(i("Error: unable to factorize the basis matrix ("+R+")"),i("Sorry, basis recovery procedure not implemented yet")),e.U=B.U,B.U=null,e.na=e.sa=gr,e.aa=0,e.$=B.$,e.some=0,yn;q=B.valid=1,V=X=0}if(0!=X||(d(B),X=1,0==B.D&&(0!=O(B,.9*r.tb)?(B.D=1,C(B)):(B.D=2,L(B)),V=B.Rb=0),0==T(B,r.tb))){switch(1==B.D&&0==O(B,r.tb)&&(I(B,r,1),B.D=2,1!=X&&(d(B),X=1),L(B),V=B.Rb=0),0==V&&(h(B,B.Ha),2==B.D&&(B.Ha[0]=P(B)),V=1),r.fd){case zr:0==B.Rb&&v(B)}if(2==B.D&&0>B.$a&&r.hf>-t&&B.Ha[0]<=r.hf){if(1!=V||1!=X){1!=V&&(V=0),1!=X&&(X=0);continue}return I(B,r,1),r.o>=Or&&i("OBJECTIVE LOWER LIMIT REACHED; SEARCH TERMINATED"),z(B,e,yr,br,0),xn}if(2==B.D&&0<B.$a&&r.jf<+t&&B.Ha[0]>=r.jf){if(1!=V||1!=X){1!=V&&(V=0),1!=X&&(X=0);continue}return I(B,r,1),r.o>=Or&&i("OBJECTIVE UPPER LIMIT REACHED; SEARCH TERMINATED"),z(B,e,yr,br,0),wn}if(2147483647>r.oc&&B.$-B.Sf>=r.oc){if(2==B.D&&1!=V||1!=X){2==B.D&&1!=V&&(V=0),1!=X&&(X=0);continue}switch(I(B,r,1),r.o>=Or&&i("ITERATION LIMIT EXCEEDED; SEARCH TERMINATED"),B.D){case 1:F=yr,L(B),h(B,B.Ha);break;case 2:F=br}return z(B,e,yr,F,0),Mn}if(2147483647>r.sb&&1e3*c(B.hc)>=r.sb){if(2==B.D&&1!=V||1!=X){2==B.D&&1!=V&&(V=0),1!=X&&(X=0);continue}switch(I(B,r,1),r.o>=Or&&i("TIME LIMIT EXCEEDED; SEARCH TERMINATED"),B.D){case 1:F=yr,L(B),h(B,B.Ha);break;case 2:F=br}return z(B,e,yr,F,0),Nn}if(I(B,r,0),g(B,r.Gb),0==B.s){if(1!=V||1!=X){1!=V&&(V=0),1!=X&&(X=0);continue}switch(I(B,r,1),B.D){case 1:r.o>=Or&&i("PROBLEM HAS NO DUAL FEASIBLE SOLUTION"),L(B),h(B,B.Ha),j=yr,F=xr;break;case 2:r.o>=Or&&i("OPTIMAL SOLUTION FOUND"),j=F=br}return z(B,e,j,F,0),0}var G=B.jg;switch(b(B,G),U&&y(B,G),x(B,G),w(B,r.Gb),r.ne){case Br:M(B,0);break;case jr:M(B,.3*r.tb)}if(0==B.F){if(1!=V||1!=X||!U){1!=V&&(V=0),1!=X&&(X=0),U=1;continue}switch(I(B,r,1),B.D){case 1:r.o>=Sr&&i("Error: unable to choose basic variable on phase I"),e.U=B.U,B.U=null,e.na=e.sa=gr,e.aa=0,e.$=B.$,e.some=0,R=yn;break;case 2:r.o>=Or&&i("PROBLEM HAS NO FEASIBLE SOLUTION"),z(B,e,xr,br,B.head[B.s]),R=0}return R}var H=B.mb[B.F],Y=1e-5*(1+.01*B.uh);if(Math.abs(H)<Y&&(r.o>=Cr&&i("piv = "+H+"; eps = "+Y),!U))U=5;else{if(N(B),U&&_(B),H=B.Ua[B.s],Y=B.mb[B.F],Math.abs(H-Y)>1e-8*(1+Math.abs(H))||!(0<H&&0<Y||0>H&&0>Y)){if(r.o>=Cr&&i("piv1 = "+H+"; piv2 = "+Y),1!=q||!U){1!=q&&(q=0),U=5;continue}0==B.Ua[B.s]&&(B.Tb++,B.yb[B.Tb]=B.s),B.Ua[B.s]=Y}switch(E(B),2==B.D&&(B.Ha[0]+=B.Qa[B.F]/B.$a*(B.Se/B.Ua[B.s])),V=2,A(B),X=2,r.fd){case zr:0<B.Rb&&S(B)}q=0==(R=u(B,B.s,B.head[B.g+B.F]))?2:B.valid=0,k(B),B.$++,0<U&&U--}}else{if(r.o>=Sr&&i("Warning: numerical instability (dual simplex, phase "+(1==B.D?"I":"II")+")"),r.cb==Tr)return z(B,e,gr,gr,0),yn;q=B.D=0,U=5}}}}(exports||this),Distribution.prototype.construct=function(e){},Distribution.prototype.pdf=function(e){},Distribution.prototype.sample=function(e){},Distribution.prototype.estimate=function(e){},Distribution.prototype.info=function(){var e,t="{<br>",r=new Array;for(e in this)switch(type(this[e])){case"string":case"boolean":case"number":t+=e+": "+this[e]+"<br>";break;case"vector":t+=e+": "+printVector(this[e])+"<br>";break;case"matrix":t+=e+": matrix of size "+this[e].m+"-by-"+this[e].n+"<br>";break;case"function":r.push(e);break;default:t+=e+": "+typeof this[e]+"<br>"}return(t+="<i>Functions: "+r.join(", ")+"</i><br>")+"}"},Uniform.prototype.construct=function(e,t){if(void 0===e)this.isDiscrete=!1,this.a=-1,this.b=1,this.dimension=1,this.px=.5,this.mean=0,this.variance=1/3,this.std=Math.sqrt(this.variance);else if(void 0===t)this.isDiscrete=!0,this.values="number"==typeof e?range(e):e,this.dimension=1,this.mean=(min(this.values)+max(this.values))/2,this.variance=(this.values.length*this.values.length-1)/12,this.std=Math.sqrt(this.variance);else{this.isDiscrete=!1,this.a=e,this.b=t,this.dimension=size(e,1),this.px=1/prod(sub(t,e)),this.mean=mul(.5,add(e,t));var r=sub(t,e);this.variance=entrywisediv(entrywisemul(r,r),12),this.std=sqrt(this.variance)}},Uniform.prototype.pdf=function(e){const t=type(e);var r=void 0;if(this.isDiscrete){var n=function(e,t){return t.indexOf(e)<0?0:1/t.length};if("number"==t)r=n(e,this.values);else if("vector"==t){r=zeros(e.length);for(var i=0;i<e.length;i++)r[i]=n(e[i],this.values)}else if("matrix"==t)for(r=zeros(e.m,e.n),i=0;i<e.m*e.n;i++)r.val[i]=n(e.val[i],this.values)}else if(n=function(e,t,r,n){return e>=t&&e<=r?n:0},"number"==t)1==this.dimension&&(r=n(e,this.a,this.b,this.px));else if("vector"==t){if(1==this.dimension)for(r=zeros(e.length),i=0;i<e.length;i++)r[i]=n(e[i],this.a,this.b,this.px);else if(this.dimension==e.length){r=n(e[0],this.a[0],this.b[0],this.px);for(var a=1;a<e.length&&0!=r;)r*=n(e[a],this.a[a],this.b[a],this.px),a++}}else if("matrix"==t)if(1==this.dimension)for(r=zeros(e.m,e.n),i=0;i<e.m*e.n;i++)r.val[i]=n(e.val[i],this.a,this.b,this.px);else if(this.dimension==e.n)for(r=zeros(e.m),i=0;i<e.m;i++)for(r[i]=n(e.val[i*e.n],this.a[0],this.b[0],this.px),a=1;a<e.n&&0!=r[i];)r[i]*=n(e.val[i*e.n+a],this.a[a],this.b[a],this.px),a++;return r},Uniform.prototype.sample=function(e){if(void 0===e&&(e=1),this.isDiscrete){for(var t=zeros(e),r=0;r<e;r++){for(var n=Math.random(),i=1,a=this.values.length;n>i/a;)i++;t[r]=this.values[i-1]}return 1==e?t[0]:t}return 1==this.dimension?add(entrywisemul(this.b-this.a,rand(e)),this.a):add(entrywisemul(outerprod(ones(e),sub(this.b,this.a)),rand(e,this.dimension)),outerprod(ones(e),this.a))},Uniform.prototype.estimate=function(e){const t=type(e);if("matrix"==t)var r=e.val;else r=e;for(var n=0;n<r.length&&Math.round(r[n])==r[n];)n++;if(this.isDiscrete=!(n<r.length),this.isDiscrete){for(n=0;n<r.length;n++){var i=Math.round(r[n]);this.values.indexOf(i)<0&&this.values.push(i)}this.dimension=1,this.mean=(min(this.values)+max(this.values))/2,this.variance=(this.values.length*this.values.length-1)/12,this.std=Math.sqrt(this.variance)}else{"matrix"==t?(this.a=min(e,1).val,this.b=max(e).val,this.dimension=this.a.length):(this.a=minVector(e),this.b=maxVector(e),this.dimension=1),this.mean=mul(.5,add(this.a,this.b));var a=sub(this.b,this.a);this.variance=entrywisediv(entrywisemul(a,a),12),this.std=sqrt(this.variance),this.px=1/prod(sub(this.b,this.a))}return this},Gaussian.prototype.construct=function(e,t){if(void 0===e)var r=1;else r="matrix"==type(e)?e.val:e;var n=size(r,1);void 0===t&&(t=1==n?1:ones(n)),this.mean=r,this.variance=t,this.std=sqrt(this.variance),this.dimension=n},Gaussian.prototype.pdf=function(e){if(1==this.dimension){if("number"==typeof e){var t=e-this.mean;return Math.exp(-t*t/(2*this.variance))/(this.std*Math.sqrt(2*Math.PI))}return t=sub(e,this.mean),entrywisediv(exp(entrywisediv(entrywisemul(t,t),-2*this.variance)),this.std*Math.sqrt(2*Math.PI))}if("vector"==type(e)){if(e.length!=this.dimension)return void error("Error in Gaussian.pdf(x): x.length = "+e.length+" != "+this.dimension+" = Gaussian.dimension.");var r=-.5*dot(t=subVectors(e,this.mean),divVectors(t,this.variance));return Math.exp(r)/(Math.pow(2*Math.PI,.5*this.dimension)*Math.sqrt(prodVector(this.variance)))}if(e.n==this.dimension){for(var n=zeros(e.m),i=Math.pow(2*Math.PI,.5*this.dimension)*Math.sqrt(prodVector(this.variance)),a=0;a<e.m;a++)r=-.5*dot(t=subVectors(e.row(a),this.mean),divVectors(t,this.variance)),n[a]=Math.exp(r)/i;return n}error("Error in Gaussian.pdf(X): X.n = "+e.n+" != "+this.dimension+" = Gaussian.dimension.")},Gaussian.prototype.sample=function(e){if(void 0===e&&(e=1),1==e)var t=add(entrywisemul(this.std,randn(this.dimension)),this.mean);else{var r=ones(e);t=add(entrywisemul(outerprod(r,this.std),randn(e,this.dimension)),outerprod(r,this.mean))}return t},Gaussian.prototype.estimate=function(e){return"matrix"==type(e)?(this.mean=mean(e,1).val,this.variance=variance(e,1).val,this.std=void 0,this.dimension=e.n):(this.mean=mean(e),this.variance=variance(e),this.std=Math.sqrt(this.variance),this.dimension=1),this},mvGaussian.prototype.construct=function(e,t){if(void 0===e)var r=1;else r="matrix"==type(e)?e.val:e;var n=size(r,1);void 0===t&&(t=1==n?1:eye(n)),this.mean=r,this.variance=t,this.dimension=n,this.L=chol(this.variance),void 0===this.L&&error("Error in new Distribution (mvGaussian, mu, Sigma): Sigma is not positive definite"),this.det=det(this.variance)},mvGaussian.prototype.pdf=function(e){if(1==this.dimension){if("number"==typeof e){var t=e-this.mean;return Math.exp(-t*t/(2*this.variance))/Math.sqrt(2*this.variance*Math.PI)}return t=sub(e,this.mean),entrywisediv(exp(entrywisediv(entrywisemul(t,t),-2*this.variance)),Math.sqrt(2*this.variance*Math.PI))}if("vector"==type(e)){if(e.length!=this.dimension)return void error("Error in mvGaussian.pdf(x): x.length = "+e.length+" != "+this.dimension+" = mvGaussian.dimension.");var r=-.5*dot(t=subVectors(e,this.mean),cholsolve(this.L,t));return Math.exp(r)/Math.sqrt(Math.pow(2*Math.PI,this.dimension)*this.det)}if(e.n==this.dimension){for(var n=zeros(e.m),i=Math.sqrt(Math.pow(2*Math.PI,this.dimension)*this.det),a=0;a<e.m;a++)r=-.5*dot(t=subVectors(e.row(a),this.mean),cholsolve(this.L,t)),n[a]=Math.exp(r)/i;return n}error("Error in Gaussian.pdf(X): X.n = "+e.n+" != "+this.dimension+" = Gaussian.dimension.")},mvGaussian.prototype.sample=function(e){void 0===e&&(e=1);var t=add(mul(randn(e,this.dimension),transpose(this.L)),outerprod(ones(e),this.mean));return 1==e?t.val:t},mvGaussian.prototype.estimate=function(e){if("matrix"==type(e))return this.mean=mean(e,1).val,this.variance=cov(e),this.dimension=e.n,this.L=chol(this.variance),void 0===this.L&&error("Error in mvGaussian.estimate(X): covariance estimate is not positive definite"),this.det=det(this.variance),this;error("mvGaussian.estimate( X ) needs a matrix X")},Bernoulli.prototype.construct=function(e){void 0===e&&(e=.5);var t=size(e,1);this.mean=e,this.variance=entrywisemul(e,sub(1,e)),this.std=sqrt(this.variance),this.dimension=t},Bernoulli.prototype.pdf=Bernoulli.prototype.pmf=function(e){const t=type(e);var r=function(e,t){return 1==e?t:0==e?1-t:0};if(1!=this.dimension){switch(t){case"vector":for(a=r(e[0],this.mean[0]),l=1;l<this.dimension;l++)a*=r(e[l],this.mean[l]);break;case"spvector":a=1;for(var n=0;n<e.ind[0];n++)a*=1-this.mean[n];for(l=0;l<e.val.length-1;l++)for(a*=this.mean[e.ind[l]],n=e.ind[l]+1;n<e.ind[l+1];n++)a*=1-this.mean[n];for(a*=this.mean[e.ind[l]],n=e.ind[l]+1;n<this.dimension;n++)a*=1-this.mean[n];break;case"matrix":for(a=zeros(e.m),o=0;o<e.m;o++)for(a[o]=r(e.val[o*e.n],this.mean[0]),l=1;l<e.n;l++)a[o]*=r(e.val[o*e.n+l],this.mean[l]);break;case"spmatrix":for(a=ones(e.m),o=0;o<e.m;o++){var i=e.row(o);for(n=0;n<i.ind[0];n++)a[o]*=1-this.mean[n];for(l=0;l<i.val.length-1;l++)for(a[o]*=this.mean[i.ind[l]],n=i.ind[l]+1;n<i.ind[l+1];n++)a[o]*=1-this.mean[n];for(a[o]*=this.mean[i.ind[l]],n=i.ind[l]+1;n<this.dimension;n++)a[o]*=1-this.mean[n]}break;default:a=void 0}return a}if("number"==t)return r(e,this.mean);if("vector"==t){for(var a=zeros(e.length),o=0;o<e.length;o++)a[o]=r(e[o],this.mean);return a}if("matrix"==t){for(var s=zeros(e.m,e.n),u=e.m*e.n,l=0;l<u;l++)s.val[l]=r(e.val[l],this.mean);return s}},Bernoulli.prototype.logpdf=Bernoulli.prototype.logpmf=function(e){const t=type(e);var r=function(e,t){return 1==e?Math.log(t):0==e?Math.log(1-t):-1/0};if(1!=this.dimension){switch(t){case"vector":for(a=0,l=0;l<this.dimension;l++)a+=r(e[l],this.mean[l]);break;case"spvector":a=0;for(var n=0;n<e.ind[0];n++)a+=Math.log(1-this.mean[n]);for(l=0;l<e.val.length-1;l++)for(a+=Math.log(this.mean[e.ind[l]]),n=e.ind[l]+1;n<e.ind[l+1];n++)a+=Math.log(1-this.mean[n]);for(a+=Math.log(this.mean[e.ind[l]]),n=e.ind[l]+1;n<this.dimension;n++)a+=Math.log(1-this.mean[n]);break;case"matrix":for(a=zeros(e.m),o=0;o<e.m;o++)for(l=0;l<e.n;l++)a[o]+=r(e.val[o*e.n+l],this.mean[l]);break;case"spmatrix":for(a=zeros(e.m),o=0;o<e.m;o++){var i=e.row(o);for(n=0;n<i.ind[0];n++)a[o]+=Math.log(1-this.mean[n]);for(l=0;l<i.val.length-1;l++)for(a[o]+=Math.log(this.mean[i.ind[l]]),n=i.ind[l]+1;n<i.ind[l+1];n++)a[o]+=Math.log(1-this.mean[n]);for(a[o]+=Math.log(this.mean[i.ind[l]]),n=i.ind[l]+1;n<this.dimension;n++)a[o]+=Math.log(1-this.mean[n])}break;default:a=void 0}return a}if("number"==t)return r(e,this.mean);if("vector"==t){for(var a=zeros(e.length),o=0;o<e.length;o++)a[o]=r(e[o],this.mean);return a}if("matrix"==t){for(var s=zeros(e.m,e.n),u=e.m*e.n,l=0;l<u;l++)s.val[l]=r(e.val[l],this.mean);return s}},Bernoulli.prototype.sample=function(e){return void 0===e||1==e?isLower(rand(this.dimension),this.mean):isLower(rand(e,this.dimension),outerprod(ones(e),this.mean))},Bernoulli.prototype.estimate=function(e){switch(type(e)){case"matrix":case"spmatrix":this.mean=mean(e,1).val,this.variance=entrywisemul(this.mean,sub(1,this.mean)),this.std=sqrt(this.variance),this.dimension=e.n;break;case"vector":case"spvector":this.dimension=1,this.mean=mean(e),this.variance=this.mean*(1-this.mean),this.std=Math.sqrt(this.variance);break;default:error("Error in Bernoulli.estimate( X ): X must be a (sp)matrix or (sp)vector.")}return this},Poisson.prototype.construct=function(e){void 0===e&&(e=5);var t=size(e,1);this.mean=e,this.variance=this.mean,this.std=sqrt(this.variance),this.dimension=t},Poisson.prototype.pdf=Poisson.prototype.pmf=function(e){const t=type(e);var r=function(e,t){if(e<0||Math.round(e)!=e)return 0;if(0==e)return 1;for(var r=t,n=2;n<=e;n++)r*=t/n;return Math.exp(-t)*r};if(1==this.dimension){if("number"==t)return r(e,this.mean);if("vector"==t){for(var n=zeros(e.length),i=0;i<e.length;i++)n[i]=r(e[i],this.mean);return n}if("matrix"==t){for(var a=zeros(e.m,e.n),o=e.m*e.n,s=0;s<o;s++)a.val[s]=r(e.val[s],this.mean);return n}}else{if("vector"==t){for(n=r(e[0],this.mean[0]),s=0;s<this.dimension;s++)n*=r(e[s],this.mean[s]);return n}if("matrix"==t){for(n=zeros(e.m),i=0;i<e.m;i++)for(n[i]=r(e.val[i*e.n],this.mean[0]),s=0;s<e.n;s++)n[i]*=r(e.val[i*e.n+s],this.mean[s]);return n}}},Poisson.prototype.sample=function(e){var t=function(e){var t=Math.random(),r=0;const n=Math.exp(-e);for(;t>n;)t*=Math.random(),r++;return r};if(void 0===e||1==e){if(1==this.dimension)return t(this.mean);var r=zeros(this.dimension);for(k=0;k<this.dimension;k++)r[k]=t(this.mean[k]);return r}if(1==this.dimension){for(var n=zeros(e),i=0;i<e;i++)n[i]=t(this.mean);return n}for(n=zeros(e,this.dimension),i=0;i<e;i++)for(k=0;k<this.dimension;k++)n[i*this.dimension+k]=t(this.mean[k]);return n},Poisson.prototype.estimate=function(e){return"matrix"==type(e)?(this.mean=mean(e,1).val,this.variance=this.mean,this.std=sqrt(this.variance),this.dimension=e.n):(this.dimension=1,this.mean=mean(e),this.variance=this.mean,this.std=Math.sqrt(this.variance)),this};const Complex_I=new Complex(0,1);function Complex(e,t,r){this.type="Complex",void 0===e?(this.re=0,this.im=0):e instanceof Complex?(this.re=e.re,this.im=e.im):"number"!=typeof e||r?(this.re=e*Math.cos(t),this.im=e*Math.sin(t)):(this.re=e,this.im=t)}function addComplex(e,t){var r=new Complex(e);return r.re+=t.re,r.im+=t.im,r}function addComplexReal(e,t){var r=new Complex(e);return r.re+=t,r}function subComplex(e,t){var r=new Complex(e);return r.re-=t.re,r.im-=t.im,r}function minusComplex(e){return new Complex(-e.re,-e.im)}function mulComplex(e,t){return new Complex(e.re*t.re-e.im*t.im,e.im*t.re+e.re*t.im)}function mulComplexReal(e,t){return new Complex(e.re*t,e.im*t)}function divComplex(e,t){var r=t.re*t.re+t.im*t.im;return new Complex((e.re*t.re+e.im*t.im)/r,(e.im*t.re-e.re*t.im)/r)}function conj(e){if(e instanceof Complex)return new Complex(e.re,-e.im);if(e instanceof ComplexVector){for(var t=new ComplexVector(e),r=0;r<e.length;r++)t.im[r]=-t.im[r];return t}if(e instanceof ComplexMatrix){for(t=new ComplexMatrix(e),r=0;r<e.length;r++)t.im[r]=-t.im[r];return t}return new Complex(e)}function modulus(e){return e instanceof Complex?Math.sqrt(e.re*e.re+e.im*e.im):e instanceof ComplexVector?sqrt(addVectors(entrywisemulVector(e.re,e.re),entrywisemulVector(e.im,e.im))):e instanceof ComplexVector?new Matrix(e.m,e.n,sqrt(addVectors(entrywisemulVector(e.re,e.re),entrywisemulVector(e.im,e.im)),!0)):void 0}Complex.prototype.toString=function(){return this.re+(this.im>=0?" + ":" - ")+Math.abs(this.im)+"i"},Complex.prototype.info=function(){return this.re+(this.im>=0?" + ":" - ")+Math.abs(this.im)+"i"};var absComplex=modulus;function expComplex(e){return new Complex(Math.exp(e.re),e.im,!0)}function ComplexVector(e,t,r){this.type="ComplexVector",0==arguments.length||(e instanceof ComplexVector?(this.length=e.length,this.re=vectorCopy(e.re),this.im=vectorCopy(e.im)):"number"==typeof e?(this.length=e,this.re=new Float64Array(e),this.im=new Float64Array(e)):e instanceof Float64Array&&t instanceof Float64Array?(this.length=e.length,void 0!==r&&r?(this.re=e,this.im=t):(this.re=vectorCopy(e),this.im=vectorCopy(t))):error("Bad arguments to new ComplexVector()"))}function ComplexMatrix(e,t,r,n){this.type="ComplexMatrix",0==arguments.length||(e instanceof ComplexMatrix?(this.length=e.length,this.m=e.m,this.n=e.n,this.size=[e.m,e.n],this.re=vectorCopy(e.re),this.im=vectorCopy(e.im)):"number"==typeof e&&"number"==typeof t?(this.length=e,this.m=e,this.n=t,this.size=[e,t],void 0===r?(this.re=new Float64Array(e*t),this.im=new Float64Array(e*t)):r instanceof ComplexVector?(this.re=vectorCopy(r.re),this.im=vectorCopy(r.im)):r instanceof Float64Array&&void 0!==n&&n instanceof Float64Array&&(this.re=r,this.im=n)):e instanceof Matrix&&t instanceof Matrix?(this.length=e.length,this.m=e.m,this.n=e.n,this.size=[e.m,e.n],this.re=vectorCopy(e.val),this.im=vectorCopy(t.val)):error("Bad arguments to new ComplexMatrix()"))}function real(e){return e instanceof Complex?e.re:e instanceof ComplexVector?vectorCopy(e.re):e instanceof ComplexMatrix?new Matrix(e.m,e.n,e.re):copy(e)}function imag(e){return e instanceof Complex?e.im:e instanceof ComplexVector?vectorCopy(e.im):e instanceof ComplexMatrix?new Matrix(e.m,e.n,e.im):0}function transposeComplexMatrix(e){const t=e.m,r=e.n;if(t>1){var n,i,a=new ComplexMatrix(r,t),o=0;for(i=0;i<t;i++){var s=0;for(n=0;n<r;n++)a.re[s+i]=e.re[o+n],a.im[s+i]=-e.im[o+n],s+=t;o+=r}return a}return new ComplexVector(e.re,minusVector(e.im))}function addComplexVectors(e,t){var r=new ComplexVector(e);const n=e.length;for(var i=0;i<n;i++)r.re[i]+=t.re[i],r.im[i]+=t.im[i];return r}function subComplexVectors(e,t){var r=new ComplexVector(e);const n=e.length;for(var i=0;i<n;i++)r.re[i]-=t.re[i],r.im[i]-=t.im[i];return r}function addComplexMatrices(e,t){var r=new ComplexMatrix(e);const n=e.m*e.n;for(var i=0;i<n;i++)r.re[i]+=t.re[i],r.im[i]+=t.im[i];return r}function subComplexMatrices(e,t){var r=new ComplexMatrix(e);const n=e.m*e.n;for(var i=0;i<n;i++)r.re[i]-=t.re[i],r.im[i]-=t.im[i];return r}function addComplexVectorVector(e,t){var r=new ComplexVector(e);const n=e.length;for(var i=0;i<n;i++)r.re[i]+=t[i];return r}function subComplexVectorVector(e,t){var r=new ComplexVector(e);const n=e.length;for(var i=0;i<n;i++)r.re[i]-=t[i];return r}function addComplexMatrixMatrix(e,t){var r=new ComplexMatrix(e);const n=e.m*e.n;for(var i=0;i<n;i++)r.re[i]+=t.val[i];return r}function subComplexMatrixMatrix(e,t){var r=new ComplexMatrix(e);const n=e.m*e.n;for(var i=0;i<n;i++)r.re[i]-=t.val[i];return r}function addScalarComplexVector(e,t){var r=new ComplexVector(t);const n=t.length;for(var i=0;i<n;i++)r.re[i]+=e;return r}function subScalarComplexVector(e,t){var r=minusComplexVector(t);const n=t.length;for(var i=0;i<n;i++)r.re[i]+=e;return r}function addScalarComplexMatrix(e,t){var r=new ComplexMatrix(t);const n=t.m*t.n;for(var i=0;i<n;i++)r.re[i]+=e;return r}function entrywisemulComplexVectors(e,t){const r=e.length;for(var n=new ComplexVector(r),i=0;i<r;i++)n.re[i]=e.re[i]*t.re[i]-e.im[i]*t.im[i],n.im[i]=e.im[i]*t.re[i]+e.re[i]*t.im[i];return n}function entrywisedivComplexVectors(e,t){const r=e.length;for(var n=new ComplexVector(r),i=0;i<r;i++){var a=t.re[i],o=t.im[i],s=a*a+o*o;n.re[i]=(e.re[i]*a+e.im[i]*o)/s,n.im[i]=(e.im[i]*a-e.re[i]*o)/s}return n}function entrywisemulComplexMatrices(e,t){const r=e.m*e.n;for(var n=new ComplexMatrix(e.m,e.n),i=0;i<r;i++)n.re[i]=e.re[i]*t.re[i]-e.im[i]*t.im[i],n.im[i]=e.im[i]*t.re[i]+e.re[i]*t.im[i];return n}function entrywisedivComplexMatrices(e,t){const r=e.m*e.n;for(var n=new ComplexMatrix(e.m,e.n),i=0;i<r;i++){var a=t.re[i],o=t.im[i],s=a*a+o*o;n.re[i]=(e.re[i]*a+e.im[i]*o)/s,n.im[i]=(e.im[i]*a-e.re[i]*o)/s}return n}function entrywisemulComplexVectorVector(e,t){const r=e.length;for(var n=new ComplexVector(r),i=0;i<r;i++)n.re[i]=e.re[i]*t[i],n.im[i]=e.im[i]*t[i];return n}function entrywisemulComplexMatrixMatrix(e,t){const r=e.m*e.n;for(var n=new ComplexMatrix(e.m,e.n),i=0;i<r;i++)n.re[i]=e.re[i]*t.val[i],n.im[i]=e.im[i]*t.val[i];return n}function minusComplexVector(e){const t=e.length;for(var r=new ComplexVector(t),n=0;n<t;n++)r.re[n]=-e.re[n],r.im[n]=-e.im[n];return r}function minusComplexMatrix(e){var t=new ComplexMatrix(e.m,e.n);const r=e.m*e.n;for(var n=0;n<r;n++)t.re[n]=-e.re[n],t.im[n]=-e.im[n];return t}function sumComplexVector(e){var t=new Complex;const r=e.length;for(var n=0;n<r;n++)t.re+=e.re[n],t.im+=e.im[n];return t}function sumComplexMatrix(e){var t=new Complex;const r=e.m*e.n;for(var n=0;n<r;n++)t.re+=e.re[n],t.im+=e.im[n];return t}function norm1ComplexVector(e){var t=0;const r=e.length;for(var n=0;n<r;n++)t+=Math.sqrt(e.re[n]*e.re[n]+e.im[n]*e.im[n]);return t}function norm2ComplexVector(e){var t=0;const r=e.length;for(var n=0;n<r;n++)t+=e.re[n]*e.re[n]+e.im[n]*e.im[n];return Math.sqrt(t)}function normFroComplexMatrix(e){var t=0;const r=e.m*e.n;for(var n=0;n<r;n++)t+=e.re[n]*e.re[n]+e.im[n]*e.im[n];return Math.sqrt(t)}function dotComplexVectors(e,t){var r=new Complex;const n=e.length;for(var i=0;i<n;i++)r.re+=e.re[i]*t.re[i]+e.im[i]*t.im[i],r.im+=e.im[i]*t.re[i]-e.re[i]*t.im[i];return r}function dotComplexVectorVector(e,t){var r=new Complex;const n=e.length;for(var i=0;i<n;i++)r.re+=e.re[i]*t[i],r.im+=e.im[i]*t[i];return r}function mulScalarComplexVector(e,t){return new ComplexVector(mulScalarVector(e,t.re),mulScalarVector(e,t.im),!0)}function mulComplexComplexVector(e,t){const r=t.length;for(var n=new ComplexVector(r),i=e.re,a=e.im,o=0;o<r;o++)n.re[o]=i*t.re[o]-a*t.im[o],n.im[o]=a*t.re[o]+i*t.im[o];return n}function mulComplexVector(e,t){const r=t.length;for(var n=new ComplexVector(r),i=e.re,a=e.im,o=0;o<r;o++)n.re[o]=i*t[o],n.im[o]=a*t[o];return n}function mulScalarComplexMatrix(e,t){var r=mulScalarVector(e,t.re),n=mulScalarVector(e,t.im);return new ComplexMatrix(t.m,t.n,r,n)}function mulComplexComplexMatrix(e,t){const r=t.m*t.n;for(var n=new ComplexMatrix(t.m,t.n),i=e.re,a=e.im,o=0;o<r;o++)n.re[o]=i*t.re[o]-a*t.im[o],n.im[o]=a*t.re[o]+i*t.im[o];return n}function mulComplexMatrix(e,t){const r=t.m*t.n;for(var n=new ComplexMatrix(t.m,t.n),i=e.re,a=e.im,o=0;o<r;o++)n.re[o]=i*t.val[o],n.im[o]=a*t.val[o];return n}function mulComplexMatrixVector(e,t){const r=e.m,n=e.n;for(var i=new ComplexVector(r),a=0,o=0;o<r;o++){for(j=0;j<n;j++)i.re[o]+=e.re[a+j]*t[j],i.im[o]+=e.im[a+j]*t[j];a+=n}return i}function mulComplexMatrixComplexVector(e,t){const r=e.m,n=e.n;for(var i=new ComplexVector(r),a=0,o=0;o<r;o++){for(j=0;j<n;j++)i.re[o]+=e.re[a+j]*t.re[j]-e.im[a+j]*t.im[j],i.im[o]+=e.im[a+j]*t.re[j]+e.re[a+j]*t.im[j];a+=n}return i}function mulComplexMatrices(e,t){const r=e.length,n=t.n,i=t.length;for(var a=e.re,o=e.im,s=t.re,u=t.im,l=new Float64Array(r*n),c=new Float64Array(r*n),f=0,p=0,m=0;m<r;m++){for(var h=0,d=0;d<i;d++){aikre=a[f],aikim=o[f];for(var v=0;v<n;v++)l[p+v]+=aikre*s[h]-aikim*u[h],c[p+v]+=aikre*u[h]+aikim*s[h],h++;f++}p+=n}return new ComplexMatrix(r,n,l,c)}function mulComplexMatrixMatrix(e,t){const r=e.m,n=t.n,i=t.m;for(var a=e.re,o=e.im,s=t.val,u=new Float64Array(r*n),l=new Float64Array(r*n),c=0,f=0,p=0;p<r;p++){for(var m=0,h=0;h<i;h++){aikre=a[c],aikim=o[c];for(var d=0;d<n;d++)u[f+d]+=aikre*s[m],l[f+d]+=aikim*s[m],m++;c++}f+=n}return new ComplexMatrix(r,n,u,l)}function fft(e){const t=e.length,r=Math.log2(t),n=t/2;if(r%1==0){for(var i=new ComplexVector(e,zeros(t)),a=0,o=0;o<t-1;o++){if(o<a){var s=i.re[o];i.re[o]=i.re[a],i.re[a]=s,s=i.im[o],i.im[o]=i.im[a],i.im[a]=s}for(var u=n;u<=a;)a-=u,u/=2;a+=u}for(var l=1,c=new Complex(-1,0),f=new Complex,p=0;p<r;p++){var m=l;for(l*=2,f.re=1,f.im=0,a=0;a<m;a++){for(o=a;o<t;o+=l){var h=o+m,d=f.re*i.re[h]-f.im*i.im[h],v=f.im*i.re[h]+f.re*i.im[h];i.re[h]=i.re[o]-d,i.im[h]=i.im[o]-v,i.re[o]+=d,i.im[o]+=v}f=mulComplex(f,c)}c.im=-Math.sqrt((1-c.re)/2),c.re=Math.sqrt((1+c.re)/2)}return i}error("fft(x) only implemented for x.length = 2^m. Use dft(x) instead.")}function ifft(e){const t=e.length,r=Math.log2(t),n=t/2;if(r%1==0){for(var i=new ComplexVector(e,zeros(t)),a=0,o=0;o<t-1;o++){if(o<a){var s=i.re[o];i.re[o]=i.re[a],i.re[a]=s,s=i.im[o],i.im[o]=i.im[a],i.im[a]=s}for(var u=n;u<=a;)a-=u,u/=2;a+=u}for(var l=1,c=new Complex(-1,0),f=new Complex,p=0;p<r;p++){var m=l;for(l*=2,f.re=1,f.im=0,a=0;a<m;a++){for(o=a;o<t;o+=l){var h=o+m,d=f.re*i.re[h]-f.im*i.im[h],v=f.im*i.re[h]+f.re*i.im[h];i.re[h]=i.re[o]-d,i.im[h]=i.im[o]-v,i.re[o]+=d,i.im[o]+=v}f=mulComplex(f,c)}c.im=Math.sqrt((1-c.re)/2),c.re=Math.sqrt((1+c.re)/2)}var g=!1;for(o=0;o<t;o++)i.re[o]/=t,i.im[o]/=t,Math.abs(i.im[o])>1e-6&&(g=!0);return g?i:i.re}error("ifft(x) only implemented for x.length = 2^m. Use idft(x) instead.")}function dft(e){if("number"==typeof e)return new Complex(e,0);const t=e.length;if(1==t)return new Complex(e[0],0);if(Math.log2(t)%1==0)return fft(e);for(var r=new ComplexVector(t),n=0,i=0;i<t;i++){for(var a=0,o=0;o<t;o++)r.re[i]+=e[o]*Math.cos(a),r.im[i]+=e[o]*Math.sin(a),a+=n;n-=2*Math.PI/t}return r}function idft(e){if(!(e instanceof ComplexVector))return e instanceof Complex?e.re:"number"==typeof e?e:e instanceof Float64Array?idft(new ComplexVector(e,zeros(e.length),!0)):void 0;const t=e.length;if(1==t)return e.re[0];if(Math.log2(t)%1==0)return ifft(e);for(var r=new Float64Array(t),n=0,i=0;i<t;i++){for(var a=0,o=0,s=0;s<t;s++)o+=e.re[s]*Math.cos(a)-e.im[s]*Math.sin(a),a+=n;r[i]=o/t,n+=2*Math.PI/t}return r}function spectrum(e){return e instanceof Float64Array?absComplex(dft(e)):void 0}function Diagram(e){void 0===e&&(e="diagram"),this.canvasId=e,this.shapes=new Array,this.selectedShape=-1,this.selectedShapes=new Array,this.mousexprev=-1,this.mouseyprev=-1;var t=document.getElementById(this.canvasId).getContext("2d");t.setLineDash||(t.setLineDash=function(){})}function Plot(e){void 0===e&&(e="plotcanvas"),this.canvasId=e,this.minX=0,this.maxX=10,this.Nsamples=1e3,this.scaleX=1,this.scaleY=1,this.minY=0,this.maxY=1.5,this.fcts=new Array,this.lines=new Array,this.areas=new Array,this.points=new Array,this.paths=new Array,this.legend="topright";var t=document.getElementById(this.canvasId);this.buffer=document.createElement("canvas"),this.buffer.width=t.width,this.buffer.height=t.height,this.viewX=0,this.viewY=0;var r=this.buffer.getContext("2d");r.setLineDash||(r.setLineDash=function(){})}function ColorPlot(e){void 0===e&&(e="plotcanvas"),this.canvasId=e,this.minX=0,this.maxX=10,this.scaleX=1,this.scaleY=1,this.minY=0,this.maxY=1.5,this.minZ=0,this.maxZ=1,this.x=new Array,this.y=new Array,this.z=new Array,this.cmap=this.colormap();var t=document.getElementById(this.canvasId);this.buffer=document.createElement("canvas"),this.buffer.width=t.width,this.buffer.height=t.height,this.viewX=0,this.viewY=0}function Plot2D(e,t){this.canvasId=void 0===e?"plotcanvas2D":e,this.tableId=void 0===t?"":t,this.minX1=-10,this.maxX1=10,this.minX2=-10,this.maxX2=10,this.NsamplesX1=500,this.NsamplesX2=500,this.Xapp=new Array,this.Yapp=new Array,this.m=0;var r=document.getElementById(this.canvasId).getContext("2d");r.setLineDash||(r.setLineDash=function(){})}function Plot3D(e){this.canvasId=void 0===e?"plotcanvas3D":e;var t=document.getElementById(this.canvasId);this.minX1=-10,this.maxX1=10,this.minX2=-10,this.maxX2=10,this.minX3=-10,this.maxX3=10,this.NsamplesX1=50,this.NsamplesX2=50,this.NsamplesX3=50,this.axisNameX1="x1",this.axisNameX2="x2",this.axisNameX3="x3",this.X=new Array,this.Y=new Array,this.lines=new Array,this.planes=new Array,this.spheres=new Array,this.view2D=new Array,this.viewminX1=-10,this.viewmaxX1=10,this.viewminX2=-10,this.viewmaxX2=10,this.viewscaleX1=t.width/(this.viewmaxX1-this.viewminX1),this.viewscaleX2=t.width/(this.viewmaxX2-this.viewminX2),this.angleX=0,this.angleY=0,this.angleZ=0,this.cameraDistance=20,this.ROTATING=!1,this.mouseX=0,this.mouseY=0,this.animation=null,this.animateAuto=0;var r=document.getElementById(this.canvasId).getContext("2d");r.setLineDash||(r.setLineDash=function(){}),window.addEventListener&&t.addEventListener("DOMMouseScroll",this.mousezoom,!1),t.onmousewheel=this.mousezoom}function setcolor(e,t){if(t>10)setcolortransparent(e,t-10,.5);else switch(t){case-1:e.fillStyle="white",e.strokeStyle="white";break;case 0:e.fillStyle="rgb(0,0,0)",e.strokeStyle="rgb(0,0,0)";break;case 1:e.fillStyle="rgb(0,0,200)",e.strokeStyle="rgb(0,0,200)";break;case 2:e.fillStyle="rgb(200,0,0)",e.strokeStyle="rgb(200,0,0)";break;case 3:e.fillStyle="rgb(0,200,0)",e.strokeStyle="rgb(0,200,0)";break;case 4:e.fillStyle="rgb(200,0,200)",e.strokeStyle="rgb(200,0,200)";break;case 5:e.fillStyle="rgb(255,255,0)",e.strokeStyle="rgb(255,255,0)";break;case 6:e.fillStyle="rgb(0,255,255)",e.strokeStyle="rgb(0,255,255)";break;case 7:e.fillStyle="rgb(102,51,0)",e.strokeStyle="rgb(102,51,0)";break;case 8:e.fillStyle="rgb(204,51,0)",e.strokeStyle="rgb(204,51,0)";break;case 9:e.fillStyle="rgb(255,102,204)",e.strokeStyle="rgb(255,102,204)";break;case 10:e.fillStyle="rgb(120,120,120)",e.strokeStyle="rgb(120,120,120)";break;default:e.fillStyle="rgb(0,0,200)",e.strokeStyle="rgb(0,0,200)"}}function setcolortransparent(e,t,r){switch(t){case 0:e.fillStyle="rgba(0,0,0,"+r+" )",e.strokeStyle="rgba(0,0,0,"+r+" )";break;case 1:e.fillStyle="rgba(0,0,200,"+r+" )",e.strokeStyle="rgba(0,0,200,"+r+" )";break;case 2:e.fillStyle="rgba(200,0,0,"+r+" )",e.strokeStyle="rgba(200,0,0,"+r+" )";break;case 3:e.fillStyle="rgba(0,200,0,"+r+" )",e.strokeStyle="rgba(0,200,0,"+r+" )";break;case 4:e.fillStyle="rgba(200,0,200,"+r+" )",e.strokeStyle="rgba(200,0,200,"+r+" )";break;case 5:e.fillStyle="rgba(255,255,0,"+r+" )",e.strokeStyle="rgba(255,255,0,"+r+" )";break;case 6:e.fillStyle="rgba(0,255,255,"+r+" )",e.strokeStyle="rgba(0,255,255,"+r+" )";break;case 7:e.fillStyle="rgba(102,51,0,"+r+" )",e.strokeStyle="rgba(102,51,0,"+r+" )";break;case 8:e.fillStyle="rgba(204,51,0,"+r+" )",e.strokeStyle="rgba(204,51,0,"+r+" )";break;case 9:e.fillStyle="rgab(255,102,204,"+r+" )",e.strokeStyle="rgba(255,102,204,"+r+" )";break;case 10:e.fillStyle="rgba(120,120,120,"+r+" )",e.strokeStyle="rgba(120,120,120,"+r+" )";break;default:e.fillStyle="rgba(0,0,200,"+r+" )",e.strokeStyle="rgba(0,0,200,"+r+" )"}}function setcolorgradient(e,t,r){void 0===r&&(r=400*Math.sqrt(2));var n=e.createRadialGradient(0,0,r,0,2*Math.PI,!0);switch(n.addColorStop(1,"white"),t){case 0:n.addColorStop(0,"rgb(0,0,0 )");break;case 1:n.addColorStop(0,"rgb(0,0,200 )");break;case 2:n.addColorStop(0,"rgb(200,0,0 )");break;case 3:n.addColorStop(0,"rgb(0,200,0 )");break;case 4:n.addColorStop(0,"rgb(200,0,200 )");break;case 5:n.addColorStop(0,"rgb(255,255,0 )");break;default:n.addColorStop(0,"rgb(0,0,200 )")}e.fillStyle=n}function setcolortransparentgradient(e,t,r,n){void 0===n&&(n=400*Math.sqrt(2));var i=e.createRadialGradient(0,0,n,0,2*Math.PI,!0);switch(i.addColorStop(1,"white"),t){case 0:i.addColorStop(.3,"rgba(0,0,0,"+r+" )"),i.addColorStop(0,"rgb(0,0,0 )");break;case 1:i.addColorStop(.3,"rgba(0,0,200,"+r+" )"),i.addColorStop(0,"rgb(0,0,200 )");break;case 2:i.addColorStop(.3,"rgba(200,0,0,"+r+" )"),i.addColorStop(0,"rgb(200,0,0 )");break;case 3:i.addColorStop(.3,"rgba(0,200,0,"+r+" )"),i.addColorStop(0,"rgb(0,200,0 )");break;case 4:i.addColorStop(.3,"rgba(200,0,200,"+r+" )"),i.addColorStop(0,"rgb(200,0,200 )");break;case 5:i.addColorStop(.3,"rgba(255,255,0,"+r+" )"),i.addColorStop(0,"rgb(255,255,0 )");break;default:i.addColorStop(.3,"rgba(0,0,200,"+r+" )"),i.addColorStop(0,"rgb(0,0,200 )")}e.fillStyle=i}ComplexVector.prototype.toString=function(){return"["+this.type+" of size "+this.length+"]"},ComplexMatrix.prototype.toString=function(){return"["+this.type+" of size "+this.m+" x "+this.n+"]"},ComplexVector.prototype.get=function(e){return new Complex(this.re[e],this.im[e])},ComplexMatrix.prototype.get=function(e,t){return new Complex(this.re[e*this.n+t],this.im[e*this.n+t])},ComplexVector.prototype.set=function(e,t){"number"==typeof t?(this.re[e]=t,this.im[e]=0):(this.re[e]=t.re,this.im[e]=t.im)},ComplexMatrix.prototype.set=function(e,t,r){"number"==typeof r?(this.re[e*this.n+t]=r,this.im[e*this.n+t]=0):(this.re[e*this.n+t]=r.re,this.im[e*this.n+t]=r.im)},ComplexVector.prototype.getSubVector=function(e){const t=e.length;for(var r=new ComplexVector(t),n=0;n<t;n++)r.re[n]=this.re[e[n]],r.im[n]=this.im[e[n]];return r},ComplexVector.prototype.setVectorScalar=function(e,t){var r;for(r=0;r<e.length;r++)A.set(e[r],t)},ComplexVector.prototype.setVectorVector=function(e,t){var r;for(r=0;r<e.length;r++)A.set(e[r],t[r])},ComplexMatrix.prototype.transpose=function(){const e=A.m,t=A.n;if(e>1){var r,n,i=new ComplexMatrix(t,e),a=0;for(n=0;n<e;n++){var o=0;for(r=0;r<t;r++)i.re[o+n]=A.re[a+r],i.im[o+n]=A.im[a+r],o+=e;a+=t}return i}return new ComplexVector(A.re,A.im)},Diagram.prototype.rect=function(e,t,r,n,i,a,o,s){void 0===s&&(s=.6),void 0===o&&(o=0),void 0===a&&(a=""),void 0===i&&(i=1),this.shapes.push(["rect",e,t,r,n,i,a,o,s]),this.redraw()},Diagram.prototype.circle=function(e,t,r,n,i,a,o,s){void 0===s&&(s=.6),void 0===o&&(o=0),void 0===a&&(a=""),void 0===i&&(i=1),this.shapes.push(["circle",e,t,r,n,i,a,o,s]),this.redraw()},Diagram.prototype.image=function(e,t,r,n,i,a,o,s){void 0===s&&(s=.6),void 0===o&&(o=0),void 0===a&&(a="");var u=this,l=this.shapes.length,c=new Image;c.src=i,c.onload=function(){u.shapes[l][9]=!0,u.redraw()},this.shapes.push(["image",e,t,r,n,c,a,o,s,!1])},Diagram.prototype.redraw=function(){var e,t,r,n,i,a,o,s,u,l,c=document.getElementById(this.canvasId),f=c.getContext("2d");for(f.clearRect(0,0,c.width,c.height),e=0;e<this.shapes.length;e++){if(r=this.shapes[e][1],n=this.shapes[e][2],i=this.shapes[e][3],a=this.shapes[e][4],o=this.shapes[e][5],s=this.shapes[e][6],u=this.shapes[e][7],l=this.shapes[e][8],"rect"==(t=this.shapes[e][0]))setcolortransparent(f,o,l),f.beginPath(),f.moveTo(r*c.width,n*c.height+15),f.quadraticCurveTo(r*c.width,n*c.height,r*c.width+15,n*c.height),f.lineTo((r+i)*c.width-15,n*c.height),f.quadraticCurveTo((r+i)*c.width,n*c.height,(r+i)*c.width,n*c.height+15),f.lineTo((r+i)*c.width,(n+a)*c.height-15),f.quadraticCurveTo((r+i)*c.width,(n+a)*c.height,(r+i)*c.width-15,(n+a)*c.height),f.lineTo(r*c.width+15,(n+a)*c.height),f.quadraticCurveTo(r*c.width,(n+a)*c.height,r*c.width,(n+a)*c.height-15),f.closePath(),f.fill(),(e==this.selectedShape||this.selectedShapes.indexOf(e)>=0)&&(setcolortransparent(f,5,.3),f.fillRect((r-.005)*c.width,(n-.005)*c.height,(i+.01)*c.width,(a+.01)*c.height));else if("circle"==t)setcolortransparent(f,o,l),f.beginPath(),f.moveTo((r+i/2)*c.width,n*c.height),f.quadraticCurveTo((r+i)*c.width,n*c.height,(r+i)*c.width,(n+a/2)*c.height),f.quadraticCurveTo((r+i)*c.width,(n+a)*c.height,(r+i/2)*c.width,(n+a)*c.height),f.quadraticCurveTo(r*c.width,(n+a)*c.height,r*c.width,(n+a/2)*c.height),f.quadraticCurveTo(r*c.width,n*c.height,(r+i/2)*c.width,n*c.height),f.fill(),(e==this.selectedShape||this.selectedShapes.indexOf(e)>=0)&&(setcolortransparent(f,5,.3),f.fillRect((r-.005)*c.width,(n-.005)*c.height,(i+.01)*c.width,(a+.01)*c.height));else if("point"==t)setcolortransparent(f,o,l),f.beginPath(),f.arc(r*c.width,n*c.height,i*c.width,0,2*Math.PI,!0),f.closePath(),f.fill(),(e==this.selectedShape||this.selectedShapes.indexOf(e)>=0)&&(setcolortransparent(f,5,.3),f.fillRect((r-.005)*c.width,(n-.005)*c.height,(i+.01)*c.width,(a+.01)*c.height));else if("label"==t){setcolortransparent(f,o,l);var p=document.getElementById(this.shapes[e][9]);p.style.left=r*c.width,p.style.top=n*c.height,p.style.visibility="visible"}else"arrow"==t?(setcolortransparent(f,o,l),f.save(),f.translate(r*c.width,n*c.height),f.rotate(Math.PI*(this.shapes[e][9]/180)),f.beginPath(),f.moveTo(0,0),f.lineTo(i*c.width,0),f.lineTo(i*c.width,-4.5),f.lineTo(i*c.width+15,a/2*c.height),f.lineTo(i*c.width,a*c.height+4.5),f.lineTo(i*c.width,a*c.height),f.lineTo(0,a*c.height),f.closePath(),f.fill(),f.restore()):"image"==t&&this.shapes[e][9]&&(f.drawImage(this.shapes[e][5],r*c.width,n*c.height,i*c.width,a*c.height),(e==this.selectedShape||this.selectedShapes.indexOf(e)>=0)&&(setcolortransparent(f,3,.3),f.fillRect((r-.005)*c.width,(n-.005)*c.height,(i+.01)*c.width,(a+.01)*c.height)));if(""!=s){var m=s.split("*");f.textAlign="center";var h=Math.floor(50*i);if(f.font=h+"pt sans-serif",setcolor(f,u),1==m.length)f.fillText(s,(r+i/2)*c.width,(n+a/2)*c.height);else for(var d=0;d<m.length;d++)f.fillText(m[d],(r+i/2)*c.width,(n+a/2)*c.height-1.5*h*(m.length/2-d-.5))}}},Diagram.prototype.mouseselect=function(e){var t=document.getElementById(this.canvasId).getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;if(Math.abs(r-this.mousexprev)>=1||Math.abs(n-this.mouseyprev)>=1){this.mousexprev=r,this.mouseyprev=n;for(var i=this.shapes.length-1;i>=0&&0==this.isInShape(r,n,this.shapes[i]);)i--;i>=0?i!=this.selectedShape&&(this.selectedShape=i,this.redraw(),this.onSelect()):this.selectedShape>=0&&(this.onDeselect(),this.selectedShape=-1,this.redraw())}},Diagram.prototype.isInShape=function(e,t,r){var n=document.getElementById(this.canvasId);return"rect"==r[0]?e>r[1]*n.width&&e<(r[1]+r[3])*n.width&&t>r[2]*n.height&&t<(r[2]+r[4])*n.height:"circle"==r[0]&&e>r[1]*n.width&&e<(r[1]+r[3])*n.width&&t>r[2]*n.height&&t<(r[2]+r[4])*n.height},Diagram.prototype.onSelect=function(){},Diagram.prototype.onDeselect=function(){},Diagram.prototype.select=function(e){if("number"==typeof e)this.selectedShapes.indexOf(e)<0&&(this.selectedShapes.push(e),this.redraw());else{for(var t=0;t<e.length;t++)this.selectedShapes.indexOf(e[t])<0&&this.selectedShapes.push(e[t]);this.redraw()}},Diagram.prototype.deselect=function(e){if("number"==typeof e)(t=this.selectedShapes.indexOf(e))>=0&&(this.selectedShapes.splice(t,1),this.redraw());else{for(var t,r=0;r<e.length;r++)(t=this.selectedShapes.indexOf(e[r]))>=0&&this.selectedShapes.splice(t,1);this.redraw()}},Diagram.prototype.selectall=function(e){for(var t=0;t<this.shapes.length;t++)this.selectedShapes.push(t);this.redraw()},Diagram.prototype.deselectall=function(){for(;this.selectedShapes.length>0;)this.selectedShapes.pop();this.redraw()},Plot.prototype.addPoint=function(e,t,r,n,i){void 0===r&&(r=0),void 0===n&&(n=5),void 0===i&&(i=1.1),this.points.push([e,t,r,n,i])},Plot.prototype.plotAxis=function(){var e=this.buffer;if(e.getContext){var t=e.getContext("2d");if(t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.strokeStyle="black",this.minY<0&&this.maxY>0){var r=e.height- -this.minY*this.scaleY;t.beginPath(),t.moveTo(0,r),t.lineTo(e.width,r),t.closePath(),t.stroke();for(var n=-(o=Math.ceil((this.maxX-this.minX)/10));n>this.minX;n-=o){var i=(n-this.minX)*this.scaleX;t.beginPath(),t.moveTo(i,r-5),t.lineTo(i,r+5),t.stroke()}for(n=o;n<this.maxX;n+=o)i=(n-this.minX)*this.scaleX,t.beginPath(),t.moveTo(i,r-5),t.lineTo(i,r+5),t.stroke()}if(this.minX<0&&this.maxX>0){var a=-this.minX*this.scaleX;t.beginPath(),t.moveTo(a,0),t.lineTo(a,e.height),t.closePath(),t.stroke();for(var o,s=-(o=Math.ceil((this.maxY-this.minY)/10));s>this.minY;s-=o){var u=(s-this.minY)*this.scaleY;t.beginPath(),t.moveTo(a-5,e.height-u),t.lineTo(a+5,e.height-u),t.stroke()}for(s=o;s<this.maxY;s+=o)u=(s-this.minY)*this.scaleY,t.beginPath(),t.moveTo(a-5,e.height-u),t.lineTo(a+5,e.height-u),t.stroke()}}},Plot.prototype.replot=function(){var e,t,r,n,i,a,o,s,u,l,c,f,p=0,m=this.buffer;if(m.getContext){var h=m.getContext("2d");this.plotAxis(),h.shadowColor="#999",h.shadowBlur=3,h.shadowOffsetX=3,h.shadowOffsetY=3;const C=this.minX,L=this.minY,T=this.scaleX,P=this.scaleY,I=m.height;for(var d=function(e){return(e-C)*T},v=function(e){return I-(e-L)*P},g=0;g<this.areas.length;g++){e=(f=this.areas[g])[0],r=f[1],t=f[2],n=f[3],-1==(u=f[4])&&(u=g+1),setcolortransparent(h,u,i=f[5]);var b=Math.abs(t-e),y=Math.abs(n-r),x=Math.min(e,t),w=Math.max(r,n);h.fillRect((x-this.minX)*this.scaleX,m.height-(w-this.minY)*this.scaleY,b*this.scaleX,y*this.scaleY)}h.lineWidth="3";var M=1/0;for(g=0;g<this.lines.length;g++)((f=this.lines[g])[0]>=this.minX&&f[0]<=this.maxX&&f[1]>=this.minY&&f[1]<=this.maxY||f[2]>=this.minX&&f[2]<=this.maxX&&f[3]>=this.minY&&f[3]<=this.maxY||f[0]<this.minX&&f[2]>this.maxX&&(f[1]>=this.minY&&f[1]<=this.maxY||f[3]>=this.minY&&f[3]<=this.maxY)||f[2]<this.minX&&0>this.maxX&&(f[1]>=this.minY&&f[1]<=this.maxY||f[3]>=this.minY&&f[3]<=this.maxY)||f[1]<this.minY&&f[3]>this.maxY&&(f[0]>=this.minX&&f[0]<=this.maxY||f[2]>=this.minX&&f[2]<=this.maxX)||f[3]<this.minY&&f[1]>this.maxY&&(f[0]>=this.minX&&f[0]<=this.maxX||f[2]>=this.minX&&f[2]<=this.maxX))&&(e=d(f[0]),r=v(f[1]),t=d(f[2]),n=v(f[3]),(Math.abs(t-e)>1||Math.abs(n-r)>1)&&(l=f[5],-1==(u=f[4])&&(u=g+1),u!=M&&setcolor(h,u),l&&(h.setLineDash([5]),h.lineWidth="1"),h.beginPath(),h.moveTo(e,r),h.lineTo(t,n),h.stroke(),l&&(h.setLineDash([1,0]),h.lineWidth="3"),M=u));h.lineWidth="1";var N=1/0,_=1/0,A=(M=1/0,-1);for(g=0;g<this.points.length;g++)(f=this.points[g])[0]>=this.minX&&f[0]<=this.maxX&&f[1]>=this.minY&&f[1]<=this.maxY&&(k=d(f[0]),O=v(f[1]),(Math.abs(k-N)>1||Math.abs(O-_)>1)&&(u=f[2],a=f[3],A==(i=f[4])&&M==u||(i>1?setcolor(h,u):setcolortransparent(h,u,i)),h.beginPath(),h.arc(k,O,a,0,2*Math.PI,!0),h.closePath(),h.fill(),N=k,_=O,M=u,A=i));for(g=0;g<this.paths.length;g++){u=(f=this.paths[g])[1],a=f[2],l=f[4];var E=(i=f[3])>0;i>1?setcolor(h,u):setcolortransparent(h,u,i),l?(h.setLineDash([5]),h.lineWidth="1"):h.lineWidth="3",h.beginPath(),k=d(f[0][0][0]),O=v(f[0][0][1]),h.arc(k,O,a,0,2*Math.PI,!0),h.moveTo(k,O);for(var S=1;S<f[0].length;S++)k=d(f[0][S][0]),O=v(f[0][S][1]),k>=0&&k<=m.width&&O>=0&&O<=m.height&&(E&&h.arc(k,O,a,0,2*Math.PI,!0),h.lineTo(k,O));h.stroke(),h.setLineDash([1,0]),h.lineWidth="1"}for(g=0;g<this.fcts.length;g++){o=(f=this.fcts[g])[0],s=f[1],l=f[3],c=f[4],-1==(u=f[2])&&(u=g+1),setcolor(h,u),l?(h.setLineDash([5]),h.lineWidth="1"):h.lineWidth="3",!1!==c?(h.beginPath(),h.moveTo(m.width,m.height-(c-this.minY)*this.scaleY),h.lineTo(0,m.height-(c-this.minY)*this.scaleY)):(h.moveTo(0,m.height/2),h.beginPath());for(var k=this.minX;k<this.maxX;k+=(this.maxX-this.minX)/this.Nsamples){var O=o(k);(_=m.height-(O-this.minY)*this.scaleY)>=0&&_<=m.height?h.lineTo(d(k),_):h.moveTo(d(k),_)}h.stroke(),!1!==c&&(h.closePath(),setcolortransparent(h,u,.5),h.fill()),h.setLineDash([1,0]),h.lineWidth="1",""!=this.legend&&""!=s&&(setcolor(h,u),"topright"==this.legend?h.strokeText(s,m.width-100,20*(p+1)):"topleft"==this.legend?h.strokeText(s,10,20*(p+1)):"bottomright"==this.legend?h.strokeText(s,m.width-100,m.height-20*(p+1)):"bottomleft"==this.legend&&h.strokeText(s,10,m.height-20*(p+1)),p++)}}var C=document.getElementById(this.canvasId);(h=C.getContext("2d")).drawImage(this.buffer,this.viewX,this.viewY,C.width,C.height,0,0,C.width,C.height)},Plot.prototype.plot=function(e,t,r,n,i){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=-1),void 0===t&&(t=n?"":e.name),this.fcts.push([e,t,r,n,i]),this.replot()},Plot.prototype.plot_line=function(e,t,r,n,i,a){void 0===a&&(a=!1),void 0===i&&(i=-1),this.lines.push([e,t,r,n,i,a])},Plot.prototype.plot_area=function(e,t,r,n,i,a){void 0===a&&(a=1),void 0===i&&(i=-1),this.areas.push([e,t,r,n,i,a]),this.replot()},Plot.prototype.plot_path=function(e,t,r,n,i,a){void 0===a&&(a=!1),void 0===r&&(r=-1),void 0===i&&(i=1),void 0===n&&(n=5),this.paths.push([e,t,r,n,i,a])},Plot.prototype.clear=function(){var e=document.getElementById(this.canvasId);if(e.getContext){for(e.getContext("2d"),this.plotAxis();this.fcts.length>0;)this.fcts.pop();for(;this.lines.length>0;)this.lines.pop();for(;this.areas.length>0;)this.areas.pop();for(;this.points.length>0;)this.points.pop()}},Plot.prototype.setScalePlot=function(e,t,r,n){this.minX=e,this.maxX=t,this.Nsamples=r;var i=document.getElementById(this.canvasId);this.scaleX=i.width/(t-e),this.scaleY=this.scaleX*n,this.maxY=i.height/2/this.scaleY,this.minY=-this.maxY,this.originalminX=this.minX,this.originalmaxX=this.maxX,this.originalminY=this.minY,this.originalmaxY=this.maxY},Plot.prototype.view=function(e,t,r,n){this.minX=e,this.maxX=t,this.minY=r,this.maxY=n;var i=this.buffer;this.scaleX=i.width/(t-e),this.scaleY=i.height/(n-r),this.replot()},Plot.prototype.translate=function(e,t){var r=document.getElementById(this.canvasId),n=this.viewX-e,i=this.viewY-t;if(n>=0&&n<this.buffer.width-r.width&&i>=0&&i<this.buffer.height-r.height){this.viewX=n,this.viewY=i;var a=r.getContext("2d");a.clearRect(0,0,r.width,r.height),a.drawImage(this.buffer,this.viewX,this.viewY,r.width,r.height,0,0,r.width,r.height)}},Plot.prototype.zoom=function(e,t,r,n){var i=document.getElementById(this.canvasId),a=this.buffer;t>0?a.height*=t:a.height=i.height,e>0?a.width*=e:a.width=i.width,a.width<i.width&&(a.width=i.width),a.height<i.height&&(a.height=i.height),a.width>1e4&&(a.width=1e4);var o=this.scaleX,s=this.scaleY;this.scaleX=a.width/(this.maxX-this.minX),this.scaleY=a.height/(this.maxY-this.minY),arguments.length<4&&(r=i.width/2,n=i.height/2),this.viewX=(this.viewX+r)*this.scaleX/o-r,this.viewY=(this.viewY+n)*this.scaleY/s-n,this.viewX<0&&(this.viewX=0),this.viewY<0&&(this.viewY=0),this.viewX>a.width-i.width&&(this.viewX=a.width-i.width),this.viewY>a.height-i.height&&(this.viewY=a.height-i.height),o==this.scaleX&&s==this.scaleY||this.replot()},Plot.prototype.resetzoom=function(){var e=document.getElementById(this.canvasId),t=this.buffer;this.viewX=0,this.viewY=0,t.height=e.height,t.width=e.width,this.scaleX=e.width/(this.maxX-this.minX),this.scaleY=e.height/(this.maxY-this.minY),this.replot()},Plot.prototype.pick_point=function(e){if(0==e.button){e.preventDefault();var t=document.getElementById(this.canvasId),r=t.getBoundingClientRect();return[(e.clientX-r.left)/this.scaleX+this.minX,(t.height-(e.clientY-r.top))/this.scaleY+this.minY]}return!1},Plot.prototype.proximityX=function(e,t,r){return void 0===r&&(r=(this.maxX-this.minX)/20),Math.abs(e-t)<r},Plot.prototype.plotmathjax=function(e,t,r){var n=document.getElementById(this.canvasId);if(n.getContext){n.getContext("2d");var i=document.getElementById("jaxstring"+e);i.style.top=n.height/2-r*this.scaleY+n.offsetTop,i.style.left=(t-this.minX)*this.scaleX+n.offsetLeft,i.style.visibility="visible"}},Plot.prototype.jpeg=function(){var e=document.getElementById(this.canvasId).toDataURL("image/jpeg");document.location.href=e.replace("image/jpeg","image/octet-stream")},Plot.prototype.zoomoriginal=function(){this.view(this.originalminX,this.originalmaxX,this.originalminY,this.originalmaxY)},Plot.prototype.mousestartmove=function(e){var t=document.getElementById(this.canvasId);if(0==e.button){this.MOVING=!0;var r=t.getBoundingClientRect();this.xprev=e.clientX-r.left,this.yprev=e.clientY-r.top}else this.MOVING=!1},Plot.prototype.mousestopmove=function(e){this.MOVING=!1},Plot.prototype.mouseposition=function(e){var t=document.getElementById(this.canvasId),r=t.getBoundingClientRect(),n=e.clientX-r.left,i=e.clientY-r.top;if(!this.MOVING){var a=(t.height-i)/this.scaleY+this.minY;return"x = "+(n/this.scaleX+this.minX).toFixed(3)+", y = "+a.toFixed(3)}var o=this.xprev-n,s=i-this.yprev;(Math.abs(o)>1||Math.abs(s)>1)&&this.translate(o,s),this.xprev=n,this.yprev=i},ColorPlot.prototype.colormap=function(e){return[[0,0,143],[0,0,159],[0,0,175],[0,0,191],[0,0,207],[0,0,223],[0,0,239],[0,0,255],[0,15,255],[0,31,255],[0,47,255],[0,63,255],[0,79,255],[0,95,255],[0,111,255],[0,127,255],[0,143,255],[0,159,255],[0,175,255],[0,191,255],[0,207,255],[0,223,255],[0,239,255],[0,255,255],[15,255,239],[31,255,223],[47,255,207],[63,255,191],[79,255,175],[95,255,159],[111,255,143],[127,255,127],[143,255,111],[159,255,95],[175,255,79],[191,255,63],[207,255,47],[223,255,31],[239,255,15],[255,255,0],[255,239,0],[255,223,0],[255,207,0],[255,191,0],[255,175,0],[255,159,0],[255,143,0],[255,127,0],[255,111,0],[255,95,0],[255,79,0],[255,63,0],[255,47,0],[255,31,0],[255,15,0],[255,0,0],[239,0,0],[223,0,0],[207,0,0],[191,0,0],[175,0,0],[159,0,0],[143,0,0],[127,0,0]]},ColorPlot.prototype.addPoint=function(e,t,r){this.x.push(e),this.y.push(t),this.z.push(r)},ColorPlot.prototype.plotAxis=function(){var e=this.buffer;if(e.getContext){var t=e.getContext("2d");if(t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.strokeStyle="black",this.minY<0&&this.maxY>0){var r=e.height- -this.minY*this.scaleY;t.beginPath(),t.moveTo(0,r),t.lineTo(e.width,r),t.closePath(),t.stroke();for(var n=Math.ceil((this.maxX-this.minX)/10),i=-n;i>this.minX;i-=n){var a=(i-this.minX)*this.scaleX;t.beginPath(),t.moveTo(a,r-5),t.lineTo(a,r+5),t.stroke()}for(i=n;i<this.maxX;i+=n)a=(i-this.minX)*this.scaleX,t.beginPath(),t.moveTo(a,r-5),t.lineTo(a,r+5),t.stroke()}if(this.minX<0&&this.maxX>0){var o=-this.minX*this.scaleX;t.beginPath(),t.moveTo(o,0),t.lineTo(o,e.height),t.closePath(),t.stroke();for(var s=Math.ceil(this.minY);s<this.maxY;s++){var u=e.height-(s-this.minY)*this.scaleY;t.beginPath(),t.moveTo(o-5,u),t.lineTo(o+5,u),t.stroke()}}}},ColorPlot.prototype.replot=function(){var e,t,r,n=this.buffer;if(n.getContext){var i=n.getContext("2d");this.plotAxis(),i.shadowColor="#999",i.shadowBlur=3,i.shadowOffsetX=3,i.shadowOffsetY=3;for(var a=1/0,o=1/0,s=1/0,u=0;u<this.x.length;u++)this.x[u]>=this.minX&&this.x[u]<=this.maxX&&this.y[u]>=this.minY&&this.y[u]<=this.maxY&&(e=(this.x[u]-this.minX)*this.scaleX,t=n.height-(this.y[u]-this.minY)*this.scaleY,(r=Math.floor((this.z[u]-this.minZ)*this.scaleZ))>=this.cmap.length&&(r=this.cmap.length-1),r<0&&(r=0),(Math.abs(e-a)>1||Math.abs(t-o)>1||r!=s)&&(r!=s&&(i.fillStyle="rgb("+this.cmap[r][0]+","+this.cmap[r][1]+","+this.cmap[r][2]+")"),i.beginPath(),i.arc(e,t,5,0,2*Math.PI,!0),i.closePath(),i.fill(),s=r,a=e,o=t))}var l=document.getElementById(this.canvasId);(i=l.getContext("2d")).drawImage(this.buffer,this.viewX,this.viewY,l.width,l.height,0,0,l.width,l.height)},ColorPlot.prototype.clear=function(){this.plotAxis(),this.x=new Array,this.y=new Array,this.z=new Array},ColorPlot.prototype.setScale=function(e,t,r,n,i,a){this.minX=e,this.maxX=t,this.minY=r,this.maxY=n,this.minZ=i,this.maxZ=a;var o=document.getElementById(this.canvasId);this.scaleX=o.width/(t-e),this.scaleY=o.height/(n-r),this.scaleZ=this.cmap.length/(a-i),this.originalminX=this.minX,this.originalmaxX=this.maxX,this.originalminY=this.minY,this.originalmaxY=this.maxY},ColorPlot.prototype.view=function(e,t,r,n){this.minX=e,this.maxX=t,this.minY=r,this.maxY=n;var i=this.buffer;this.scaleX=i.width/(t-e),this.scaleY=i.height/(n-r),this.replot()},ColorPlot.prototype.translate=function(e,t){var r=document.getElementById(this.canvasId),n=this.viewX-e,i=this.viewY-t;if(n>=0&&n<this.buffer.width-r.width&&i>=0&&i<this.buffer.height-r.height){this.viewX=n,this.viewY=i;var a=r.getContext("2d");a.clearRect(0,0,r.width,r.height),a.drawImage(this.buffer,this.viewX,this.viewY,r.width,r.height,0,0,r.width,r.height)}},ColorPlot.prototype.zoom=function(e,t,r,n){var i=document.getElementById(this.canvasId),a=this.buffer;t>0?a.height*=t:a.height=i.height,e>0?a.width*=e:a.width=i.width,a.width<i.width&&(a.width=i.width),a.height<i.height&&(a.height=i.height),a.width>1e4&&(a.width=1e4);var o=this.scaleX,s=this.scaleY;this.scaleX=a.width/(this.maxX-this.minX),this.scaleY=a.height/(this.maxY-this.minY),arguments.length<4&&(r=i.width/2,n=i.height/2),this.viewX=(this.viewX+r)*this.scaleX/o-r,this.viewY=(this.viewY+n)*this.scaleY/s-n,this.viewX<0&&(this.viewX=0),this.viewY<0&&(this.viewY=0),this.viewX>a.width-i.width&&(this.viewX=a.width-i.width),this.viewY>a.height-i.height&&(this.viewY=a.height-i.height),o==this.scaleX&&s==this.scaleY||this.replot()},ColorPlot.prototype.resetzoom=function(){var e=document.getElementById(this.canvasId),t=this.buffer;this.viewX=0,this.viewY=0,t.height=e.height,t.width=e.width,this.scaleX=e.width/(this.maxX-this.minX),this.scaleY=e.height/(this.maxY-this.minY),this.replot()},ColorPlot.prototype.jpeg=function(){var e=document.getElementById(this.canvasId).toDataURL("image/jpeg");document.location.href=e.replace("image/jpeg","image/octet-stream")},ColorPlot.prototype.zoomoriginal=function(){this.view(this.originalminX,this.originalmaxX,this.originalminY,this.originalmaxY)},ColorPlot.prototype.mousestartmove=function(e){var t=document.getElementById(this.canvasId);if(0==e.button){this.MOVING=!0;var r=t.getBoundingClientRect();this.xprev=e.clientX-r.left,this.yprev=e.clientY-r.top}else this.MOVING=!1},ColorPlot.prototype.mousestopmove=function(e){this.MOVING=!1},ColorPlot.prototype.mouseposition=function(e){var t=document.getElementById(this.canvasId),r=t.getBoundingClientRect(),n=e.clientX-r.left,i=e.clientY-r.top;if(!this.MOVING){var a=(t.height-i)/this.scaleY+this.minY;return"x = "+(n/this.scaleX+this.minX).toFixed(3)+", y = "+a.toFixed(3)}var o=this.xprev-n,s=i-this.yprev;(Math.abs(o)>1||Math.abs(s)>1)&&this.translate(o,s),this.xprev=n,this.yprev=i},Plot2D.prototype.clear=function(){var e=document.getElementById(this.canvasId);if(e.getContext){var t=e.getContext("2d");this.scaleX1=e.width/(this.maxX1-this.minX1),this.scaleX2=e.height/(this.maxX2-this.minX2),this.NsamplesX1=e.width/4,this.NsamplesX2=e.height/4,t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.strokeStyle="black",t.lineWidth="1",this.minX2<0&&this.maxX2>0&&(t.beginPath(),t.moveTo(0,e.height+this.minX2*this.scaleX2),t.lineTo(e.width,e.height+this.minX2*this.scaleX2),t.closePath(),t.stroke()),this.minX1<0&&this.maxX1>0&&(t.beginPath(),t.moveTo(-this.minX1*this.scaleX1,0),t.lineTo(-this.minX1*this.scaleX1,e.height),t.closePath(),t.stroke())}},Plot2D.prototype.clearData=function(){for(""!=this.tableId&&(document.getElementById(this.tableId).innerHTML="<tr> <td> x1 </td><td> x2 </td><td> y </td></tr> ");this.Yapp.length>0;)this.Yapp.pop(),this.Xapp.pop();this.m=0},Plot2D.prototype.levelcurve=function(e,t){var r=document.getElementById(this.canvasId);if(r.getContext){var n=r.getContext("2d");n.fillStyle="rgb(0,0,200)",n.strokeStyle="rgb(0,0,200)";for(var i=new Array,a=0,o=0,s=this.minX1;s<this.maxX1;s+=(this.maxX1-this.minX1)/this.NsamplesX1){i[a]=new Array;for(var u=this.minX2;u<this.maxX2;u+=(this.maxX2-this.minX2)/this.NsamplesX2)i[a][o]=e([s,u]),o++;a++}for(a=0,o=0,s=this.minX1;s<this.maxX1;s+=(this.maxX1-this.minX1)/this.NsamplesX1){for(u=this.minX2;u<this.maxX2;u+=(this.maxX2-this.minX2)/this.NsamplesX2)(o>0&&i[a][o]>=t&&i[a][o-1]<=t||o>0&&i[a][o]<=t&&i[a][o-1]>=t||a>0&&i[a][o]<=t&&i[a-1][o]>=t||a>0&&i[a][o]>=t&&i[a-1][o]<=t)&&n.fillRect((s-this.minX1)*this.scaleX1-2,r.height-(u-this.minX2)*this.scaleX2-2,4,4),o++;a++}}},Plot2D.prototype.colormap=function(e){var t=document.getElementById(this.canvasId);if(t.getContext){for(var r=t.getContext("2d"),n=-1/0,i=1/0,a=new Array,o=0,s=0,u=this.minX1;u<this.maxX1;u+=(this.maxX1-this.minX1)/this.NsamplesX1){a[o]=new Array;for(var l=this.minX2;l<this.maxX2;l+=(this.maxX2-this.minX2)/this.NsamplesX2)a[o][s]=e([u,l]),a[o][s]>n&&(n=a[o][s]),a[o][s]<i&&(i=a[o][s]),s++;o++}var c=255/(n-i);for(o=0,s=0,u=this.minX1;u<this.maxX1;u+=(this.maxX1-this.minX1)/this.NsamplesX1){for(l=this.minX2;l<this.maxX2;l+=(this.maxX2-this.minX2)/this.NsamplesX2)r.fillStyle=Math.abs(a[o][s])<1e-5?"black":a[o][s]<0?"rgba(0,0,"+(255-Math.floor((a[o][s]-i)*c))+", 0.9)":"rgba("+Math.floor((a[o][s]-i)*c)+",0,0, 0.9)",r.fillRect((u-this.minX1)*this.scaleX1-2,t.height-(l-this.minX2)*this.scaleX2-2,4,4),Math.abs(a[o][s])<1&&(r.fillStyle="rgba(200,200,200,0.5)",r.fillRect((u-this.minX1)*this.scaleX1-2,t.height-(l-this.minX2)*this.scaleX2-2,4,4)),s++;o++}}},Plot2D.prototype.point=function(e,t,r,n,i){void 0===n&&(n=1.1),void 0===i&&(i=5);var a=document.getElementById(this.canvasId);if(a.getContext){var o=a.getContext("2d");n<1?setcolortransparent(o,r,n):setcolor(o,r),o.beginPath(),o.arc((e-this.minX1)*this.scaleX1,a.height-(t-this.minX2)*this.scaleX2,i,0,2*Math.PI,!0),o.closePath(),o.fill()}},Plot2D.prototype.pointmouse=function(e){if(0==e.button){e.preventDefault();var t=document.getElementById(this.canvasId);if(t.getContext){t.getContext("2d");var r=t.getBoundingClientRect(),n=e.clientX-r.left,i=e.clientY-r.top,a=parseInt(document.getElementById("selectcolor").value),o=a,s=n/this.scaleX1+this.minX1,u=(t.height-i)/this.scaleX2+this.minX2;this.point(s,u,a),this.Xapp[this.m]=new Array,this.Xapp[this.m][0]=s,this.Xapp[this.m][1]=u,this.Yapp[this.m]=o,this.m++,""!=this.tableId&&(document.getElementById(this.tableId).innerHTML+="<tr><td>"+s.toFixed(2)+"</td><td>"+u.toFixed(2)+"</td><td>"+o+"</td></tr>")}}},Plot2D.prototype.plot_data=function(){this.m!=this.Yapp.length&&(this.m=this.Yapp.length);for(var e=0;e<this.m;e++)this.point(this.Xapp[e][0],this.Xapp[e][1],this.Yapp[e])},Plot2D.prototype.plot_vector=function(e,t,r,n,i,a){void 0===a&&(a=0),e=(e-this.minX1)*this.scaleX1,r=(r-this.minX1)*this.scaleX1,t=(t-this.minX2)*this.scaleX2,n=(n-this.minX2)*this.scaleX2;var o=Math.atan((n-t)/(r-e)),s=Math.atan((r-e)/(n-t)),u=r,l=n,c=r,f=n;n>=t?(u-=10*Math.sin(s-Math.PI/12),l-=10*Math.cos(s-Math.PI/12)):(u+=10*Math.sin(s-Math.PI/12),l+=10*Math.cos(s-Math.PI/12)),r>=e?(c-=10*Math.cos(o-Math.PI/12),f-=10*Math.sin(o-Math.PI/12)):(c+=10*Math.cos(o-Math.PI/12),f+=10*Math.sin(o-Math.PI/12));var p=document.getElementById(this.canvasId);if(p.getContext){var m=p.getContext("2d");if(m.lineWidth="1",setcolor(m,a),m.beginPath(),m.moveTo(e,p.height-t),m.lineTo(r,p.height-n),m.lineTo(u,p.height-l),m.lineTo(c,p.height-f),m.lineTo(r,p.height-n),m.stroke(),m.fill(),void 0!==i){m.lineWidth="1";var h=5;r<e&&(h=-15),m.strokeText(i,r+h,p.height-n)}}},Plot2D.prototype.plot_line=function(e,t,r,n,i,a,o,s){void 0===a&&(a=0),void 0===o&&(o=!1),void 0===s&&(s=1),e=(e-this.minX1)*this.scaleX1,r=(r-this.minX1)*this.scaleX1,t=(t-this.minX2)*this.scaleX2,n=(n-this.minX2)*this.scaleX2;var u=document.getElementById(this.canvasId);if(u.getContext){var l=u.getContext("2d");l.lineWidth=""+s,setcolor(l,a),o&&l.setLineDash([5]),l.beginPath(),l.moveTo(e,u.height-t),l.lineTo(r,u.height-n),l.stroke(),l.setLineDash([1,0]),void 0!==i&&""!=i&&(l.lineWidth="1",l.strokeText(i,(r+e)/2-10,u.height-10-(n+t)/2))}},Plot2D.prototype.plot_classifier=function(e,t,r,n){void 0===n&&(n=!1),void 0===r&&(r=0);var i,a,o=this.minX1,s=this.maxX1;0!=e[1]?(i=(-t-e[0]*o)/e[1],a=(-t-e[0]*s)/e[1]):(o=-t/e[0],s=-t/e[0],i=this.minX2,a=this.maxX2);var u=document.getElementById(plot.canvasId);if(u.getContext){var l=u.getContext("2d");l.lineWidth="3",n?l.strokeStyle="grey":setcolor(l,r),l.setLineDash([1,0]),l.beginPath(),l.moveTo((o-this.minX1)*this.scaleX1,u.height/2-i*this.scaleX2),l.lineTo((s-this.minX1)*this.scaleX1,u.height/2-a*this.scaleX2),l.stroke()}},Plot2D.prototype.coord2datavector=function(e,t){var r=document.getElementById(this.canvasId),n=[0,0];return n[0]=e/this.scaleX1+this.minX1,n[1]=-(t-r.height)/this.scaleX2+this.minX2,n},Plot2D.prototype.plotmathjax=function(e,t,r){var n=document.getElementById(this.canvasId);if(n.getContext){n.getContext("2d");var i=document.getElementById("jaxstring"+e);i.style.top=n.height-(r-this.minX2)*this.scaleX2+n.offsetTop,i.style.left=(t-this.minX1)*this.scaleX1+n.offsetLeft,i.style.visibility="visible"}},Plot2D.prototype.clearmathjax=function(e){document.getElementById("jaxstring"+e).style.visibility="hidden"},Plot2D.prototype.text=function(e,t,r){var n=document.getElementById(this.canvasId);if(n.getContext){var i=n.getContext("2d");i.lineWidth="0.5",i.strokeStyle="black",i.strokeText(r,(e-this.minX1)*this.scaleX1,n.height-(t-this.minX2)*this.scaleX2)}},Plot3D.prototype.test=function(){this.X.push([5,0,0]),this.X.push([0,5,0]),this.X.push([0,0,5]),this.Y.push(1),this.Y.push(2),this.Y.push(3),this.X.push([2,0,0]),this.X.push([0,-6,0]),this.X.push([0,0,2]),this.Y.push(1),this.Y.push(2),this.Y.push(3),this.X.push([5,5,5]),this.Y.push(3),this.sphere([5,-5,1],50,"",1),this.sphere([-5,5,-3],30,"",3),this.replot(),this.animateAuto=100,this.animate(50)},Plot3D.prototype.computeRanges=function(){var e;for(e=0;e<this.Y.length;e++){var t=Math.sqrt(this.X[e][0]*this.X[e][0]+this.X[e][1]*this.X[e][1]+this.X[e][2]*this.X[e][2]);t>this.maxX2&&(this.maxX2=t,this.minX2=-t)}},Plot3D.prototype.replot=function(){var e,t,r,n,i,a,o=this.cameraDistance+this.maxX2-this.minX2;for(this.clear(),this.point2D(0,0,0,1,3),this.line([-1,0,0],[10,0,0],this.axisNameX1),this.line([0,-1,0],[0,10,0],this.axisNameX2),this.line([0,0,-1],[0,0,10],this.axisNameX3),a=0;a<this.Y.length;a++)e=(u=this.project(this.X[a]))[0],t=u[1],n=(r=u[2])<o?r/o:1,i=Math.floor(2+10*(1-n)),this.point2D(e,t,this.Y[a],n,i);for(a=0;a<this.lines.length;a++)this.line(this.lines[a][0],this.lines[a][1],this.lines[a][2],this.lines[a][3]);for(a=0;a<this.planes.length;a++)this.drawplane(this.planes[a][0],this.planes[a][1],this.planes[a][2],this.planes[a][3]);var s=new Array;for(a=0;a<this.spheres.length;a++){var u=this.project(this.spheres[a][0]);s[a]=u[2]}for(var l=0;l<this.spheres.length;l++){var c=0;for(a=1;a<this.spheres.length;a++)s[a]>s[c]&&(c=a);this.drawsphere(this.spheres[c][0],this.spheres[c][1],this.spheres[c][2],this.spheres[c][3]),s[c]=-1}},Plot3D.prototype.clear=function(){var e=document.getElementById(this.canvasId);e.getContext&&e.getContext("2d").clearRect(0,0,e.width,e.height)},Plot3D.prototype.clear_data=function(){for(;this.Y.length>0;)this.Y.pop(),this.X.pop()},Plot3D.prototype.clear_planes=function(){for(;this.planes.length>0;)this.planes.pop()},Plot3D.prototype.rotateX=function(e){this.angleX+=e,this.replot()},Plot3D.prototype.rotateY=function(e){this.angleY+=e,this.replot()},Plot3D.prototype.rotateZ=function(e,t){void 0===t&&(t=!0),this.angleZ+=e,t&&this.replot()},Plot3D.prototype.mouserotation=function(e){if(this.ROTATING){e.preventDefault();var t=e.clientX-this.mouseX,r=e.clientY-this.mouseY;this.mouseX=e.clientX,this.mouseY=e.clientY,Math.abs(t)>.2&&this.rotateZ(t/20,!(Math.abs(r)>.2)),Math.abs(r)>.2&&this.rotateX(r/20)}},Plot3D.prototype.mousedown=function(e){e.preventDefault(),this.ROTATING=!0,this.mouseX=e.clientX,this.mouseY=e.clientY,this.animateStop()},Plot3D.prototype.mouseup=function(e){e.preventDefault(),this.ROTATING=!1,this.animateAuto>0&&this.animate(this.animateAuto)},Plot3D.prototype.mousezoom=function(e){var t=0;e||(e=window.event),e.preventDefault(),e.wheelDelta?t=e.wheelDelta/30:e.detail&&(t=-e.detail),plot3.cameraDistance-=t,plot3.cameraDistance<5?plot3.cameraDistance=5:plot3.cameraDistance>100&&(plot3.cameraDistance=100),plot3.replot()},Plot3D.prototype.project=function(e){var t=new Array(3);t[0]=e[0],t[1]=Math.cos(this.angleX)*e[1]-Math.sin(this.angleX)*e[2],t[2]=Math.sin(this.angleX)*e[1]+Math.cos(this.angleX)*e[2];var r=new Array(3);r[0]=Math.cos(this.angleY)*t[0]-Math.sin(this.angleY)*t[2],r[1]=t[1],r[2]=Math.sin(this.angleY)*t[0]+Math.cos(this.angleY)*t[2];var n=new Array(3);n[0]=Math.cos(this.angleZ)*r[0]-Math.sin(this.angleZ)*r[1],n[1]=Math.sin(this.angleZ)*r[0]+Math.cos(this.angleZ)*r[1],n[2]=r[2];var i=this.cameraDistance/20;return n[0]/=i,n[1]/=i,n[2]/=i,[n[0],n[2],this.cameraDistance+n[1]]},Plot3D.prototype.line=function(e,t,r,n,i,a){var o,s,u=this.project(e);o=u[0],s=u[1],u=this.project(t),this.line2D(o,s,u[0],u[1],r,n,i,a)},Plot3D.prototype.plot_line=function(e,t,r,n){void 0===n&&(n=0),this.lines.push([e,t,r,n]),this.line(e,t,r,n)},Plot3D.prototype.plane=function(e,t,r,n){void 0===n&&(n=3),void 0===r&&(r=""),this.planes.push([e,t,r,n]),this.drawplane(e,t,r,n)},Plot3D.prototype.drawplane=function(e,t,r,n){var i,a=new Array(3),o=new Array(3);a[0]=e[0],a[1]=t[1],a[2]=e[2],o[0]=t[0],o[1]=e[1],o[2]=t[2];var s=(i=this.project(e))[0],u=i[1],l=(i=this.project(t))[0],c=i[1],f=(i=this.project(a))[0],p=i[1];i=this.project(o),this.polygone2D([s,f,l,i[0]],[u,p,c,i[1]],r,n)},Plot3D.prototype.sphere=function(e,t,r,n){void 0===n&&(n=1),void 0===r&&(r=""),this.spheres.push([e,t,r,n]),this.drawsphere(e,t,r,n)},Plot3D.prototype.drawsphere=function(e,t,r,n){var i,a=(i=this.project(e))[0],o=i[1],s=i[2];if(s>=0){var u=1,l=this.cameraDistance+this.maxX2-this.minX2;s<l&&(u=s/l*.5);var c=Math.floor(t*(0+3*(1-u)*(1-u)));this.disk2D(a,o,c,r,n,u)}},Plot3D.prototype.point2D=function(e,t,r,n,i){if(e>=this.viewminX1&&e<=this.viewmaxX1&&t>=this.viewminX2&&t<=this.viewmaxX2){void 0===n&&(n=1.1),void 0===i&&(i=5);var a=document.getElementById(this.canvasId);if(a.getContext){var o=a.getContext("2d");n<1?setcolortransparent(o,r,n):setcolor(o,r),o.beginPath(),o.arc((e-this.viewminX1)*this.viewscaleX1,a.height-(t-this.viewminX2)*this.viewscaleX2,i,0,2*Math.PI,!0),o.closePath(),o.fill()}}},Plot3D.prototype.line2D=function(e,t,r,n,i,a,o,s){void 0===a&&(a=0),void 0===o&&(o=!1),void 0===s&&(s=1),e=(e-this.viewminX1)*this.viewscaleX1,r=(r-this.viewminX1)*this.viewscaleX1,t=(t-this.viewminX2)*this.viewscaleX2,n=(n-this.viewminX2)*this.viewscaleX2;var u=document.getElementById(this.canvasId);if(e<0&&(e=0),e>=u.width&&(e=u.width-1),t<=0&&(t=1),t>u.height&&(t=u.height),r<0&&(r=0),r>=u.width&&(r=u.width-1),n<=0&&(n=1),n>u.height&&(t=u.height),u.getContext){var l=u.getContext("2d");if(l.lineWidth=""+s,setcolor(l,a),o&&l.setLineDash([5]),l.beginPath(),l.moveTo(e,u.height-t),l.lineTo(r,u.height-n),l.stroke(),o&&l.setLineDash([1,0]),void 0!==i&&""!=i){var c=(r+e)/2-10,f=u.height+10-(n+t)/2;if(0==i.indexOf("jaxstring")){var p=document.getElementById(i);p.style.fontSize="70%",p.style.top=f+u.offsetTop,p.style.left=c+u.offsetLeft,p.style.visibility="visible"}else l.lineWidth="1",l.strokeText(i,c,f)}}},Plot3D.prototype.polygone2D=function(e,t,r,n){var i;for(void 0===n&&(n=3),i=0;i<e.length;i++)e[i]=(e[i]-this.viewminX1)*this.viewscaleX1,t[i]=(t[i]-this.viewminX2)*this.viewscaleX2;var a=document.getElementById(this.canvasId);if(a.getContext){var o=a.getContext("2d");for(setcolortransparent(o,n,.5),o.beginPath(),o.moveTo(e[0],a.height-t[0]),i=0;i<e.length;i++)o.lineTo(e[i],a.height-t[i]);if(o.fill(),void 0!==r&&""!=r){var s=-10+e[0],u=a.height+10-t[0];if(0==r.indexOf("jaxstring")){var l=document.getElementById(r);l.style.fontSize="70%",l.style.top=u+a.offsetTop,l.style.left=s+a.offsetLeft,l.style.visibility="visible"}else o.lineWidth="1",o.strokeText(r,s,u)}}},Plot3D.prototype.disk2D=function(e,t,r,n,i,a){if(void 0===a&&(a=1.1),void 0===r&&(r=5),e+r>=this.viewminX1&&e-r<=this.viewmaxX1&&t+r>=this.viewminX2&&t-r<=this.viewmaxX2){var o=document.getElementById(this.canvasId);if(o.getContext){var s=o.getContext("2d"),u=(e-this.viewminX1)*this.viewscaleX1,l=o.height-(t-this.viewminX2)*this.viewscaleX2;if(a<1?setcolortransparentgradient(s,i,a,Math.sqrt(u*u+l*l)+r):setcolorgradient(s,i,Math.sqrt(u*u+l*l)+r),s.beginPath(),s.arc(u,l,r,0,2*Math.PI,!0),s.closePath(),s.fill(),void 0!==n&&""!=n)if(0==n.indexOf("jaxstring")){var c=document.getElementById(n);c.style.fontSize="70%",c.style.top=l+o.offsetTop,c.style.left=u+o.offsetLeft,c.style.visibility="visible"}else{var f=n.split("*");s.textAlign="center";var p=Math.floor(.2*r),m=s.font;if(s.font=p+"pt sans-serif",s.fillStyle="black",1==f.length)s.fillText(n,u,l);else for(var h=0;h<f.length;h++)s.fillText(f[h],u,l-1.5*p*(f.length/2-h-.5));s.font=m}}}},Plot3D.prototype.animate=function(e){void 0===e&&(e=this.animateAuto),this.animateStop();var t=this;this.animation=setInterval(function(){t.rotateZ(.01)},e)},Plot3D.prototype.animateStop=function(){null!=this.animation&&(clearInterval(this.animation),this.animation=null)},Plot3D.prototype.isInSphere=function(e,t,r,n){var i=e-n[0][0],a=t-n[0][1],o=r-n[0][2];return i*i+a*a+o*o<=n[1]*n[1]},module.exports.rand=rand,module.exports.zeros=zeros,module.exports.set=set,module.exports.add=add,module.exports.get=get,module.exports.speye=speye,module.exports.sparse=sparse,module.exports.solve=solve,module.exports.norm=norm,module.exports.full=full},"6F5Y":function(e,t,r){"use strict";var n=r("1stm");t.name="isZero",t.factory=function(e,t,r,i){var a=i("isZero",{number:function(e){return 0===e},BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return a(e.value)},"Array | Matrix":function(e){return n(e,a)}});return a}},"6KiC":function(e,t,r){"use strict";var n=Array.isArray;t.name="lusolve",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=i(r("gpKz")),u=i(r("V7+q")),l=i(r("rHkX")),c=i(r("oJv1")),f=i(r("FKBR")),p=i(r("bHCY")),m=a("lusolve",{"Array, Array | Matrix":function(e,t){e=o(e);var r=s(e);return d(r.L,r.U,r.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var r=s(e);return d(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var r=s(e);return d(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,r,n){var i=u(e,r,n);return d(i.L,i.U,i.p,i.q,t)},"Object, Array | Matrix":function(e,t){return d(e.L,e.U,e.p,e.q,t)}}),h=function(t){if(e.isMatrix(t))return t;if(n(t))return o(t);throw new TypeError("Invalid Matrix LU decomposition")};function d(e,t,r,n,i){e=h(e),t=h(t),i=c(e,i,!1),r&&(i._data=l(r,i._data));var a=p(e,i),o=f(t,a);return n&&(o._data=l(n,o._data)),o}return m}},"6SCF":function(e,t,r){"use strict";e.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},"6XX6":function(e,t){e.exports=function e(t,r){"use strict";var n,i,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=c(t).replace(o,"")||"",p=c(r).replace(o,"")||"",m=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=p.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=parseInt(f.match(u),16)||1!==m.length&&f.match(s)&&Date.parse(f),v=parseInt(p.match(u),16)||d&&p.match(s)&&Date.parse(p)||null;if(v){if(d<v)return-1;if(d>v)return 1}for(var g=0,b=Math.max(m.length,h.length);g<b;g++){if(n=!(m[g]||"").match(l)&&parseFloat(m[g])||m[g]||0,i=!(h[g]||"").match(l)&&parseFloat(h[g])||h[g]||0,isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(typeof n!=typeof i&&(n+="",i+=""),n<i)return-1;if(n>i)return 1}return 0}},"6ayK":function(e,t,r){"use strict";e.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},"6cPB":function(e,t,r){"use strict";e.exports=function(e){return e&&e.constructor.prototype.isMatrix||!1}},"6pmK":function(e,t,r){"use strict";var n=r("1stm");t.name="cube",t.factory=function(e,t,r,i){var a=i("cube",{number:function(e){return e*e*e},Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return n(e,a,!0)},Unit:function(e){return e.pow(3)}});return a.toTex={1:"\\left(${args[0]}\\right)^3"},a}},"6zig":function(e,t,r){"use strict";e.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},"7/oF":function(e,t,r){"use strict";var n=r("199F").isInteger;function i(e,t){if(!n(e)||!n(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var r,i=e*t;0!==t;)t=e%(r=t),e=r;return Math.abs(i/e)}t.name="lcm",t.factory=function(e,t,n,a){var o=n(r("R4H5")),s=n(r("4fwU")),u=n(r("1d6v")),l=n(r("nr1U")),c=n(r("zbDx")),f=n(r("BLb5")),p=a("lcm",{"number, number":i,"BigNumber, BigNumber":function(t,r){if(!t.isInt()||!r.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(t.isZero()||r.isZero())return new e.BigNumber(0);for(var n=t.times(r);!r.isZero();){var i=r;r=t.mod(i),t=i}return n.div(t).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,p)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,p)},"Array, Array":function(e,t){return p(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return p(o(e),t)},"Matrix, Array":function(e,t){return p(e,o(t))},"SparseMatrix, number | BigNumber":function(e,t){return l(e,t,p,!1)},"DenseMatrix, number | BigNumber":function(e,t){return f(e,t,p,!1)},"number | BigNumber, SparseMatrix":function(e,t){return l(t,e,p,!0)},"number | BigNumber, DenseMatrix":function(e,t){return f(t,e,p,!0)},"Array, number | BigNumber":function(e,t){return f(o(e),t,p,!1).valueOf()},"number | BigNumber, Array":function(e,t){return f(o(t),e,p,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=p(e,t),i=0;i<r.length;i++)n=p(n,r[i]);return n}});return p.toTex=void 0,p}},"78Py":function(e,t,r){"use strict";var n=r("1stm");t.name="number",t.factory=function(e,t,r,i){var a=i("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},a}},"7DiD":function(e,t,r){"use strict";var n=r("1stm");t.name="unaryMinus",t.factory=function(e,t,i,a){var o=r("bFQJ"),s=a("unaryMinus",{number:function(e){return-e},Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=s(e.value),t},"Array | Matrix":function(e){return n(e,s,!0)}});return s.toTex={1:"".concat(o.operators.unaryMinus,"\\left(${args[0]}\\right)")},s}},"7EKm":function(e,t,r){"use strict";var n=r("1stm");t.name="log",t.factory=function(e,t,i,a){var o=i(r("WPGy")),s=a("log",{number:function(r){return r>=0||t.predictable?Math.log(r):new e.Complex(r,0).log()},Complex:function(e){return e.log()},BigNumber:function(r){return!r.isNegative()||t.predictable?r.ln():new e.Complex(r.toNumber(),0).log()},"Array | Matrix":function(e){return n(e,s)},"any, any":function(e,t){return o(s(e),s(t))}});return s.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},s}},"7Enr":function(e,t,r){"use strict";t.name="stirlingS2",t.factory=function(e,t,n,i){var a=n(r("NEdZ")),o=n(r("O1N0")),s=n(r("NU+P")),u=n(r("rVKH")),l=n(r("CaZ0")),c=n(r("E1be")),f=n(r("xDDq")),p=n(r("mtzS")),m=n(r("PbhI")),h=n(r("H+Qf")),d=i("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,t){if(!m(e)||p(e)||!m(t)||p(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(h(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var r=c(t),n=0,i=0;i<=t;i++){var d=l(-1,o(t,i)),v=f(t,i),g=l(i,e);n=a(n,s(s(v,g),d))}return u(n,r)}});return d.toTex={2:"\\mathrm{S}\\left(${args}\\right)"},d}},"7Pe3":function(e,t,r){"use strict";e.exports=[r("tGqf"),r("Wbaz"),r("2gKi"),r("lFTT"),r("Dqld")]},"7a9l":function(e,t,r){var n;!function(r){"use strict";var i=function(e){return.5*(Math.exp(e)+Math.exp(-e))},a=function(e){return.5*(Math.exp(e)-Math.exp(-e))},o=function(){throw SyntaxError("Invalid Param")};function s(e,t){var r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):r<3e3&&n<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}var u=function(e,t){var r={re:0,im:0};if(null==e)r.re=r.im=0;else if(void 0!==t)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return l.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return l.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else 2===e.length?(r.re=e[0],r.im=e[1]):o();break;case"string":r.im=r.re=0;var n=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,a=0;null===n&&o();for(var s=0;s<n.length;s++){var u=n[s];" "===u||"\t"===u||"\n"===u||("+"===u?i++:"-"===u?a++:"i"===u||"I"===u?(i+a===0&&o()," "===n[s+1]||isNaN(n[s+1])?r.im+=parseFloat((a%2?"-":"")+"1"):(r.im+=parseFloat((a%2?"-":"")+n[s+1]),s++),i=a=0):((i+a===0||isNaN(u))&&o(),"i"===n[s+1]||"I"===n[s+1]?(r.im+=parseFloat((a%2?"-":"")+u),s++):r.re+=parseFloat((a%2?"-":"")+u),i=a=0))}i+a>0&&o();break;case"number":r.im=0,r.re=e;break;default:o()}return isNaN(r.re)||isNaN(r.im),r};function l(e,t){if(!(this instanceof l))return new l(e,t);var r=u(e,t);this.re=r.re,this.im=r.im}l.prototype={re:0,im:0,sign:function(){var e=this.abs();return new l(this.re/e,this.im/e)},add:function(e,t){var r=new l(e,t);return this.isInfinite()&&r.isInfinite()?l.NAN:this.isInfinite()||r.isInfinite()?l.INFINITY:new l(this.re+r.re,this.im+r.im)},sub:function(e,t){var r=new l(e,t);return this.isInfinite()&&r.isInfinite()?l.NAN:this.isInfinite()||r.isInfinite()?l.INFINITY:new l(this.re-r.re,this.im-r.im)},mul:function(e,t){var r=new l(e,t);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?l.NAN:this.isInfinite()||r.isInfinite()?l.INFINITY:0===r.im&&0===this.im?new l(this.re*r.re,0):new l(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){var r=new l(e,t);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return l.NAN;if(this.isInfinite()||r.isZero())return l.INFINITY;if(this.isZero()||r.isInfinite())return l.ZERO;e=this.re,t=this.im;var n,i,a=r.re,o=r.im;return 0===o?new l(e/a,t/a):Math.abs(a)<Math.abs(o)?new l((e*(i=a/o)+t)/(n=a*i+o),(t*i-e)/n):new l((e+t*(i=o/a))/(n=o*i+a),(t-e*i)/n)},pow:function(e,t){var r=new l(e,t);if(e=this.re,t=this.im,r.isZero())return l.ONE;if(0===r.im){if(0===t&&e>=0)return new l(Math.pow(e,r.re),0);if(0===e)switch((r.re%4+4)%4){case 0:return new l(Math.pow(t,r.re),0);case 1:return new l(0,Math.pow(t,r.re));case 2:return new l(-Math.pow(t,r.re),0);case 3:return new l(0,-Math.pow(t,r.re))}}if(0===e&&0===t&&r.re>0&&r.im>=0)return l.ZERO;var n=Math.atan2(t,e),i=s(e,t);return e=Math.exp(r.re*i-r.im*n),t=r.im*i+r.re*n,new l(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new l(Math.sqrt(r),0);e=.5*Math.sqrt(2*(i+r))}else e=Math.abs(n)/Math.sqrt(2*(i-r));return t=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new l(e,n<0?-t:t)},exp:function(){var e=Math.exp(this.re);return new l(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new l(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var r=e*e;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new l(s(e,t),Math.atan2(t,e))},abs:function(){return function(e,t){var r=Math.abs(e),n=Math.abs(t);return r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=e/t):n=t/e,r*Math.sqrt(1+n*n))}(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new l(Math.sin(e)*i(t),Math.cos(e)*a(t))},cos:function(){var e=this.re,t=this.im;return new l(Math.cos(e)*i(t),-Math.sin(e)*a(t))},tan:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)+i(t);return new l(Math.sin(e)/r,a(t)/r)},cot:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)-i(t);return new l(-Math.sin(e)/r,a(t)/r)},sec:function(){var e=this.re,t=this.im,r=.5*i(2*t)+.5*Math.cos(2*e);return new l(Math.cos(e)*i(t)/r,Math.sin(e)*a(t)/r)},csc:function(){var e=this.re,t=this.im,r=.5*i(2*t)-.5*Math.cos(2*e);return new l(Math.sin(e)*i(t)/r,-Math.cos(e)*a(t)/r)},asin:function(){var e=this.re,t=this.im,r=new l(t*t-e*e+1,-2*e*t).sqrt(),n=new l(r.re-t,r.im+e).log();return new l(n.im,-n.re)},acos:function(){var e=this.re,t=this.im,r=new l(t*t-e*e+1,-2*e*t).sqrt(),n=new l(r.re-t,r.im+e).log();return new l(Math.PI/2-n.im,n.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new l(0,1/0);if(-1===t)return new l(0,-1/0)}var r=e*e+(1-t)*(1-t),n=new l((1-t*t-e*e)/r,-2*e/r).log();return new l(-.5*n.im,.5*n.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new l(Math.atan2(1,e),0);var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).atan():new l(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new l(0,1/0);var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).acos():new l(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new l(Math.PI/2,1/0);var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).asin():new l(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new l(a(e)*Math.cos(t),i(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new l(i(e)*Math.cos(t),a(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,r=i(e)+Math.cos(t);return new l(a(e)/r,Math.sin(t)/r)},coth:function(){var e=2*this.re,t=2*this.im,r=i(e)-Math.cos(t);return new l(a(e)/r,-Math.sin(t)/r)},csch:function(){var e=this.re,t=this.im,r=Math.cos(2*t)-i(2*e);return new l(-2*a(e)*Math.cos(t)/r,2*i(e)*Math.sin(t)/r)},sech:function(){var e=this.re,t=this.im,r=Math.cos(2*t)+i(2*e);return new l(2*i(e)*Math.cos(t)/r,-2*a(e)*Math.sin(t)/r)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else t=e.im,e.im=-e.re,e.re=t;return e},atanh:function(){var e=this.re,t=this.im,r=e>1&&0===t,n=1-e,i=1+e,a=n*n+t*t,o=0!==a?new l((i*n-t*t)/a,(t*n+i*t)/a):new l(-1!==e?e/0:0,0!==t?t/0:0),u=o.re;return o.re=s(o.re,o.im)/2,o.im=Math.atan2(o.im,u)/2,r&&(o.im=-o.im),o},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new l(0,Math.PI/2);var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).atanh():new l(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new l(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).asinh():new l(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return l.INFINITY;var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).acosh():new l(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return l.INFINITY;if(this.isInfinite())return l.ZERO;var e=this.re,t=this.im,r=e*e+t*t;return new l(e/r,-t/r)},conjugate:function(){return new l(this.re,-this.im)},neg:function(){return new l(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new l(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new l(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new l(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var r=new l(e,t);return Math.abs(r.re-this.re)<=l.EPSILON&&Math.abs(r.im-this.im)<=l.EPSILON},clone:function(){return new l(this.re,this.im)},toString:function(){var e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(r+=e),0!==t&&(0!==e?r+=t<0?" - ":" + ":t<0&&(r+="-"),1!==(t=Math.abs(t))&&(r+=t),r+="i"),r||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},l.ZERO=new l(0,0),l.ONE=new l(1,0),l.I=new l(0,1),l.PI=new l(Math.PI,0),l.E=new l(Math.E,0),l.INFINITY=new l(1/0,1/0),l.NAN=new l(NaN,NaN),l.EPSILON=1e-16,void 0===(n=(function(){return l}).apply(t,[]))||(e.exports=n)}()},"7iUD":function(e,t,r){"use strict";e.exports=[r("P8yy"),r("RSth"),r("g115"),r("G8Xs"),r("gpKz"),r("V7+q"),r("bHCY"),r("6KiC"),r("FKBR")]},"7lEX":function(e,t,r){"use strict";t.path="type",t.name="_numeric",t.factory=function(e,t,n,i){var a=n(r("uUDd")),o={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:n(r("78Py")),BigNumber:n(r("MI9+")),Fraction:n(r("wJ/n"))},u=function(e,t){var r=a(e);if(!(r in o))throw new TypeError("Cannot convert "+e+' of type "'+r+'"; valid input types are '+Object.keys(o).join(", "));if(!(t in s))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(s).join(", "));return t===r?e:s[t](e)};return u.toTex=function(e,t){return e.args[0].toTex()},u}},"7pQ7":function(e,t,r){"use strict";t.name="chain",t.factory=function(e,t,r,n){return n("chain",{"":function(){return new e.Chain},any:function(t){return new e.Chain(t)}})}},"8Giu":function(e,t,r){"use strict";var n=r("1stm");t.name="acsc",t.factory=function(e,t,r,i){var a=i("acsc",{number:function(r){return r<=-1||r>=1||t.predictable?Math.asin(1/r):new e.Complex(r,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(t){return new e.BigNumber(1).div(t).asin()},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},a}},"8a0s":function(e,t,r){"use strict";var n=r("LHK7"),i=r("X8kj"),a=n.array,o=n.object,s=n.string,u=n.number,l=Array.isArray,c=u.isNumber,f=u.isInteger,p=s.isString,m=a.validateIndex;t.name="SparseMatrix",t.path="type",t.factory=function(e,t,h,d){var v=h(r("ohYX")),g=h(r("hj6K")),b=h(r("xFnQ"));function y(t,r){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!p(r))throw new Error("Invalid datatype: "+r);if(e.isMatrix(t))!function(e,t,r){"SparseMatrix"===t.type?(e._values=t._values?o.clone(t._values):void 0,e._index=o.clone(t._index),e._ptr=o.clone(t._ptr),e._size=o.clone(t._size),e._datatype=r||t._datatype):x(e,t.valueOf(),r||t._datatype)}(this,t,r);else if(t&&l(t.index)&&l(t.ptr)&&l(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=r||t.datatype;else if(l(t))x(this,t,r);else{if(t)throw new TypeError("Unsupported type of data ("+n.types.type(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=r}}function x(e,t,r){e._values=[],e._index=[],e._ptr=[],e._datatype=r;var n=t.length,i=0,a=g,o=0;if(p(r)&&(a=d.find(g,[r,r])||g,o=d.convert(0,r)),n>0){var s=0;do{e._ptr.push(e._index.length);for(var u=0;u<n;u++){var c=t[u];if(l(c)){if(0===s&&i<c.length&&(i=c.length),s<c.length){var f=c[s];a(f,o)||(e._values.push(f),e._index.push(u))}}else 0===s&&i<1&&(i=1),a(c,o)||(e._values.push(c),e._index.push(u))}s++}while(s<i)}e._ptr.push(e._index.length),e._size=[n,i]}function w(t,r){if(!e.isIndex(r))throw new TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var n,a,o,s,u=r.size();if(u.length!==t._size.length)throw new i(u.length,t._size.length);var l=r.min(),c=r.max();for(n=0,a=t._size.length;n<a;n++)m(l[n],t._size[n]),m(c[n],t._size[n]);var f=t._values,p=t._index,h=t._ptr,d=r.dimension(0),v=r.dimension(1),g=[],b=[];d.forEach(function(e,t){b[e]=t[0],g[e]=!0});var x=f?[]:void 0,w=[],M=[];return v.forEach(function(e){for(M.push(w.length),o=h[e],s=h[e+1];o<s;o++)!0===g[n=p[o]]&&(w.push(b[n]),x&&x.push(f[o]))}),M.push(w.length),new y({values:x,index:w,ptr:M,size:u,datatype:t._datatype})}function M(t,r,n,s){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var u,l=r.size(),c=r.isScalar();if(e.isMatrix(n)?(u=n.size(),n=n.toArray()):u=a.size(n),c){if(0!==u.length)throw new TypeError("Scalar expected");t.set(r.min(),n,s)}else{if(1!==l.length&&2!==l.length)throw new i(l.length,t._size.length,"<");if(u.length<l.length){for(var f=0,p=0;1===l[f]&&1===u[f];)f++;for(;1===l[f];)p++,f++;n=a.unsqueeze(n,l.length,p,u)}if(!o.deepEqual(l,u))throw new i(l,u,">");for(var m=r.min()[0],h=r.min()[1],d=u[0],v=u[1],g=0;g<d;g++)for(var b=0;b<v;b++)t.set([g+m,b+h],n[g][b],s)}return t}function N(e,t,r,n){if(r-t==0)return r;for(var i=t;i<r;i++)if(n[i]===e)return i;return t}function _(e,t,r,n,i,a,o){i.splice(e,0,n),a.splice(e,0,t);for(var s=r+1;s<o.length;s++)o[s]++}function A(e,t,r,n){var i=n||0,a=g,o=0;p(e._datatype)&&(a=d.find(g,[e._datatype,e._datatype])||g,o=d.convert(0,e._datatype),i=d.convert(i,e._datatype));var s,u,l,c=!a(i,o),f=e._size[0],m=e._size[1];if(r>m){for(u=m;u<r;u++)if(e._ptr[u]=e._values.length,c)for(s=0;s<f;s++)e._values.push(i),e._index.push(s);e._ptr[r]=e._values.length}else r<m&&(e._ptr.splice(r+1,m-r),e._values.splice(e._ptr[r],e._values.length),e._index.splice(e._ptr[r],e._index.length));if(m=r,t>f){if(c){var h=0;for(u=0;u<m;u++){e._ptr[u]=e._ptr[u]+h,l=e._ptr[u+1]+h;var v=0;for(s=f;s<t;s++,v++)e._values.splice(l+v,0,i),e._index.splice(l+v,0,s),h++}e._ptr[m]=e._values.length}}else if(t<f){var b=0;for(u=0;u<m;u++){e._ptr[u]=e._ptr[u]-b;var y=e._ptr[u+1]-b;for(l=e._ptr[u];l<y;l++)(s=e._index[l])>t-1&&(e._values.splice(l,1),e._index.splice(l,1),b++)}e._ptr[u]=e._values.length}return e._size[0]=t,e._size[1]=r,e}function E(e,t,r,n,i){var a,s,u=n[0],l=n[1],c=[];for(a=0;a<u;a++)for(c[a]=[],s=0;s<l;s++)c[a][s]=0;for(s=0;s<l;s++)for(var f=r[s+1],p=r[s];p<f;p++)c[a=t[p]][s]=e?i?o.clone(e[p]):e[p]:1;return c}return(y.prototype=new v).type="SparseMatrix",y.prototype.isSparseMatrix=!0,y.prototype.getDataType=function(){return b(this._values)},y.prototype.storage=function(){return"sparse"},y.prototype.datatype=function(){return this._datatype},y.prototype.create=function(e,t){return new y(e,t)},y.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},y.prototype.subset=function(e,t,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return w(this,e);case 2:case 3:return M(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},y.prototype.get=function(e){if(!l(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new i(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];m(t,this._size[0]),m(r,this._size[1]);var n=N(t,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===t?this._values[n]:0},y.prototype.set=function(e,t,r){if(!l(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new i(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var n=e[0],a=e[1],o=this._size[0],s=this._size[1],u=g,c=0;p(this._datatype)&&(u=d.find(g,[this._datatype,this._datatype])||g,c=d.convert(0,this._datatype)),(n>o-1||a>s-1)&&(A(this,Math.max(n+1,o),Math.max(a+1,s),r),o=this._size[0],s=this._size[1]),m(n,o),m(a,s);var f=N(n,this._ptr[a],this._ptr[a+1],this._index);return f<this._ptr[a+1]&&this._index[f]===n?u(t,c)?function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var a=t+1;a<i.length;a++)i[a]--}(f,a,this._values,this._index,this._ptr):this._values[f]=t:_(f,n,a,t,this._values,this._index,this._ptr),this},y.prototype.resize=function(e,t,r){if(!l(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");return e.forEach(function(t){if(!u.isNumber(t)||!u.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(e)+")")}),A(r?this.clone():this,e[0],e[1],t)},y.prototype.reshape=function(e,t){if(!l(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach(function(t){if(!u.isNumber(t)||!u.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(e)+")")}),this._size[0]*this._size[1]!=e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var a=0;a<r._ptr[i+1]-r._ptr[i];a++)n.push(i);for(var o=r._values.slice(),c=r._index.slice(),f=0;f<r._index.length;f++){var p=c[f]*r._size[1]+n[f];n[f]=p%e[1],c[f]=Math.floor(p/e[1])}r._values.length=0,r._index.length=0,r._ptr.length=e[1]+1,r._size=e.slice();for(var m=0;m<r._ptr.length;m++)r._ptr[m]=0;for(var h=0;h<o.length;h++){var d=c[h],v=n[h],g=o[h];_(N(d,r._ptr[v],r._ptr[v+1],r._index),d,v,g,r._values,r._index,r._ptr)}return r},y.prototype.clone=function(){return new y({values:this._values?o.clone(this._values):void 0,index:o.clone(this._index),ptr:o.clone(this._ptr),size:o.clone(this._size),datatype:this._datatype})},y.prototype.size=function(){return this._size.slice(0)},y.prototype.map=function(e,t){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var r=this;return function(e,t,r,n,i,a,o){var s=[],u=[],l=[],c=g,f=0;p(e._datatype)&&(c=d.find(g,[e._datatype,e._datatype])||g,f=d.convert(0,e._datatype));for(var m=function(e,t,r){e=a(e,t,r),c(e,f)||(s.push(e),u.push(t))},h=0;h<=i;h++){l.push(s.length);var v=e._ptr[h],b=e._ptr[h+1];if(o)for(var x=v;x<b;x++){var w=e._index[x];w>=0&&w<=r&&m(e._values[x],w-0,h-0)}else{for(var M={},N=v;N<b;N++)M[e._index[N]]=e._values[N];for(var _=0;_<=r;_++)m(_ in M?M[_]:0,_-0,h-0)}}return l.push(s.length),new y({values:s,index:u,ptr:l,size:[r-0+1,i-0+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(t,n,i){return e(t,[n,i],r)},t)},y.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var a=this._ptr[i],o=this._ptr[i+1];if(t)for(var s=a;s<o;s++)e(this._values[s],[this._index[s],i],this);else{for(var u={},l=a;l<o;l++)u[this._index[l]]=this._values[l];for(var c=0;c<r;c++)e(c in u?u[c]:0,[c,i],this)}}},y.prototype.toArray=function(){return E(this._values,this._index,this._ptr,this._size,!0)},y.prototype.valueOf=function(){return E(this._values,this._index,this._ptr,this._size,!1)},y.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+s.format(t,e)+" x "+s.format(r,e)+"] density: "+s.format(n,e)+"\n",a=0;a<r;a++)for(var o=this._ptr[a+1],u=this._ptr[a];u<o;u++)i+="\n    ("+s.format(this._index[u],e)+", "+s.format(a,e)+") ==> "+(this._values?s.format(this._values[u],e):"X");return i},y.prototype.toString=function(){return s.format(this.toArray())},y.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},y.prototype.diagonal=function(t){if(t){if(e.isBigNumber(t)&&(t=t.toNumber()),!c(t)||!f(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var r=t>0?t:0,n=t<0?-t:0,i=this._size[1],a=Math.min(this._size[0]-n,i-r),o=[],s=[],u=[];u[0]=0;for(var l=r;l<i&&o.length<a;l++)for(var p=this._ptr[l+1],m=this._ptr[l];m<p;m++){var h=this._index[m];if(h===l-r+n){o.push(this._values[m]),s[o.length-1]=h-n;break}}return u.push(o.length),new y({values:o,index:s,ptr:u,size:[a,1]})},y.fromJSON=function(e){return new y(e)},y.diagonal=function(t,r,n,i,a){if(!l(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(e.isBigNumber(t)&&(t=t.toNumber()),!c(t)||!f(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(e.isBigNumber(n)&&(n=n.toNumber()),!c(n)||!f(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=g,s=0;p(a)&&(o=d.find(g,[a,a])||g,s=d.convert(0,a));var u,m=n>0?n:0,h=n<0?-n:0,v=t[0],b=t[1],x=Math.min(v-h,b-m);if(l(r)){if(r.length!==x)throw new Error("Invalid value array length");u=function(e){return r[e]}}else if(e.isMatrix(r)){var w=r.size();if(1!==w.length||w[0]!==x)throw new Error("Invalid matrix length");u=function(e){return r.get([e])}}else u=function(){return r};for(var M=[],N=[],_=[],A=0;A<b;A++){_.push(M.length);var E=A-m;if(E>=0&&E<x){var S=u(E);o(S,s)||(N.push(E+h),M.push(S))}}return _.push(M.length),new y({values:M,index:N,ptr:_,size:[v,b]})},y.prototype.swapRows=function(e,t){if(!(c(e)&&f(e)&&c(t)&&f(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return m(e,this._size[0]),m(t,this._size[0]),y._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},y._forEachRow=function(e,t,r,n,i){for(var a=n[e+1],o=n[e];o<a;o++)i(r[o],t[o])},y._swapRows=function(e,t,r,n,i,a){for(var o=0;o<r;o++){var s=a[o],u=a[o+1],l=N(e,s,u,i),c=N(t,s,u,i);if(l<u&&c<u&&i[l]===e&&i[c]===t){if(n){var f=n[l];n[l]=n[c],n[c]=f}}else if(l<u&&i[l]===e&&(c>=u||i[c]!==t)){var p=n?n[l]:void 0;i.splice(c,0,t),n&&n.splice(c,0,p),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1)}else if(c<u&&i[c]===t&&(l>=u||i[l]!==e)){var m=n?n[c]:void 0;i.splice(l,0,e),n&&n.splice(l,0,m),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1)}}},e.Matrix._storage.sparse=y,y},t.lazy=!1},"8t5a":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("7a9l"),a=r("199F").format,o=r("199F").isNumber;t.name="Complex",t.path="type",t.factory=function(e,t,r,s,u){return i.prototype.type="Complex",i.prototype.isComplex=!0,i.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},i.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},i.prototype.format=function(e){var t=this.im,r=this.re,n=a(this.re,e),i=a(this.im,e),s=o(e)?e:e?e.precision:null;if(null!==s){var u=Math.pow(10,-s);Math.abs(r/t)<u&&(r=0),Math.abs(t/r)<u&&(t=0)}return 0===t?n:0===r?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?n+" - i":n+" - "+i.substring(1)+"i":1===t?n+" + i":n+" + "+i+"i"},i.fromPolar=function(t){switch(arguments.length){case 1:var r=arguments[0];if("object"===n(r))return i(r);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var a=arguments[0],s=arguments[1];if(o(a)){if(e.isUnit(s)&&s.hasBase("ANGLE")&&(s=s.toNumber("rad")),o(s))return new i({r:a,phi:s});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},i.prototype.valueOf=i.prototype.toString,i.fromJSON=function(e){return new i(e)},i.EPSILON=t.epsilon,u.on("config",function(e,t){e.epsilon!==t.epsilon&&(i.EPSILON=e.epsilon)}),i.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},i},t.math=!0},"95nf":function(e,t,r){"use strict";e.exports={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},"9Hq5":function(e,t,r){"use strict";e.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},"9R+p":function(e,t,r){"use strict";e.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},"9Rxk":function(e,t,r){"use strict";e.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},"9SPs":function(e,t,r){"use strict";t.name="pickRandom",t.factory=function(e,t,n,i){var a=n(r("ZtGb"))("uniform").pickRandom;return a.toTex=void 0,a}},"9TFD":function(e,t,r){"use strict";var n=r("1stm"),i=r("199F");t.name="string",t.factory=function(e,t,r,a){var o=a("string",{"":function(){return""},number:i.format,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return n(e,o)},any:function(e){return String(e)}});return o.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},o}},"9a6t":function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("sTyi").resize;t.name="zeros",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=o("zeros",{"":function(){return"Array"===t.matrix?l([]):l([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var r=e.pop();return l(e,r)}return"Array"===t.matrix?l(e):l(e,"default")},Array:l,Matrix:function(e){var t=e.storage();return l(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return l(e.valueOf(),t)}});return u.toTex=void 0,u;function l(t,r){var a=function(t){var r=!1;return t.forEach(function(t,n,i){e.isBigNumber(t)&&(r=!0,i[n]=t.toNumber())}),r}(t)?new e.BigNumber(0):0;if(function(e){e.forEach(function(e){if("number"!=typeof e||!n(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")})}(t),r){var o=s(r);return t.length>0?o.resize(t,a):o}var u=[];return t.length>0?i(u,t,a):u}}},"9ec8":function(e,t,r){"use strict";e.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},"9k7+":function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("LOwM");t.name="rightArithShift",t.factory=function(e,t,a,o){var s=r("bFQJ"),u=a(r("R4H5")),l=a(r("hj6K")),c=a(r("9a6t")),f=a(r("eX2I")),p=a(r("4fwU")),m=a(r("0cRD")),h=a(r("v+4T")),d=a(r("nr1U")),v=a(r("zbDx")),g=a(r("BLb5")),b=o("rightArithShift",{"number, number":function(e,t){if(!n(e)||!n(t))throw new Error("Integers expected in function rightArithShift");return e>>t},"BigNumber, BigNumber":i,"SparseMatrix, SparseMatrix":function(e,t){return m(e,t,b,!1)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,b,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,b,!1)},"DenseMatrix, DenseMatrix":function(e,t){return v(e,t,b)},"Array, Array":function(e,t){return b(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return b(u(e),t)},"Matrix, Array":function(e,t){return b(e,u(t))},"SparseMatrix, number | BigNumber":function(e,t){return l(t,0)?e.clone():d(e,t,b,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(t,0)?e.clone():g(e,t,b,!1)},"number | BigNumber, SparseMatrix":function(e,t){return l(e,0)?c(t.size(),t.storage()):h(t,e,b,!0)},"number | BigNumber, DenseMatrix":function(e,t){return l(e,0)?c(t.size(),t.storage()):g(t,e,b,!0)},"Array, number | BigNumber":function(e,t){return b(u(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return b(e,u(t)).valueOf()}});return b.toTex={2:"\\left(${args[0]}".concat(s.operators.rightArithShift,"${args[1]}\\right)")},b}},"9oyc":function(e,t,r){"use strict";t.name="to",t.factory=function(e,t,n,i){var a=r("bFQJ"),o=n(r("R4H5")),s=n(r("zbDx")),u=n(r("BLb5")),l=i("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return s(e,t,l)},"Array, Array":function(e,t){return l(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return l(o(e),t)},"Matrix, Array":function(e,t){return l(e,o(t))},"Matrix, any":function(e,t){return u(e,t,l,!1)},"any, Matrix":function(e,t){return u(t,e,l,!0)},"Array, any":function(e,t){return u(o(e),t,l,!1).valueOf()},"any, Array":function(e,t){return u(o(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}".concat(a.operators.to,"${args[1]}\\right)")},l}},"9rHH":function(e,t,r){"use strict";e.exports={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]}},"9zv2":function(e,t,r){"use strict";e.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},A5Ca:function(e,t,r){"use strict";e.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]}},A5O7:function(e,t,r){"use strict";e.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]}},"A5T+":function(e,t,r){"use strict";e.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},A75f:function(e,t,r){"use strict";e.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},AGIY:function(e,t,r){"use strict";var n=r("sTyi").map,i=r("PXUV").escape;t.name="IndexNode",t.path="expression.node",t.factory=function(e,t,a,o){var s=a(r("K6lB")),u=a(r("V3b4")),l=Array.isArray;function c(t,r){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=r||!1,!l(t)||!t.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function f(t,r,n){return new u(e.isBigNumber(t)?t.toNumber():t,e.isBigNumber(r)?r.toNumber():r,e.isBigNumber(n)?n.toNumber():n)}return(c.prototype=new s).type="IndexNode",c.prototype.isIndexNode=!0,c.prototype._compile=function(t,r){var i=n(this.dimensions,function(n,i){if(e.isRangeNode(n)){if(n.needsEnd()){var a=Object.create(r);a.end=!0;var o=n.start._compile(t,a),s=n.end._compile(t,a),u=n.step?n.step._compile(t,a):function(){return 1};return function(e,r,n){var a=t.size(n).valueOf(),l=Object.create(r);return l.end=a[i],f(o(e,l,n),s(e,l,n),u(e,l,n))}}var l=n.start._compile(t,r),c=n.end._compile(t,r),p=n.step?n.step._compile(t,r):function(){return 1};return function(e,t,r){return f(l(e,t,r),c(e,t,r),p(e,t,r))}}if(e.isSymbolNode(n)&&"end"===n.name){var m=Object.create(r);m.end=!0;var h=n._compile(t,m);return function(e,r,n){var a=t.size(n).valueOf(),o=Object.create(r);return o.end=a[i],h(e,o,n)}}var d=n._compile(t,r);return function(e,t,r){return d(e,t,r)}});return function(e,r,a){var o=n(i,function(t){return t(e,r,a)});return t.index.apply(t,o)}},c.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},c.prototype.map=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this._ifNode(e(this.dimensions[r],"dimensions["+r+"]",this));return new c(t)},c.prototype.clone=function(){return new c(this.dimensions.slice(0))},c.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&e.isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},c.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},c.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},c.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},c.fromJSON=function(e){return new c(e.dimensions,e.dotNotation)},c.prototype.toHTML=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+i(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},c.prototype._toTex=function(e){var t=this.dimensions.map(function(t){return t.toTex(e)});return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},c}},ASst:function(e,t,r){"use strict";e.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},AaU7:function(e,t,r){"use strict";var n=r("XDH7").transform,i=r("HJTy");t.name="sum",t.path="expression.transform",t.factory=function(e,t,a,o){var s=a(r("Z+cb"));return o("sum",{"...any":function(t){if(2===t.length&&i(t[0])){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1))}try{return s.apply(null,t)}catch(a){throw n(a)}}})}},AoHJ:function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("3Cwk");t.name="bitAnd",t.factory=function(e,t,a,o){var s=r("bFQJ"),u=a(r("R4H5")),l=a(r("4fwU")),c=a(r("1d6v")),f=a(r("nr1U")),p=a(r("zbDx")),m=a(r("BLb5")),h=o("bitAnd",{"number, number":function(e,t){if(!n(e)||!n(t))throw new Error("Integers expected in function bitAnd");return e&t},"BigNumber, BigNumber":i,"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return l(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return l(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,h)},"Array, Array":function(e,t){return h(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return h(u(e),t)},"Matrix, Array":function(e,t){return h(e,u(t))},"SparseMatrix, any":function(e,t){return f(e,t,h,!1)},"DenseMatrix, any":function(e,t){return m(e,t,h,!1)},"any, SparseMatrix":function(e,t){return f(t,e,h,!0)},"any, DenseMatrix":function(e,t){return m(t,e,h,!0)},"Array, any":function(e,t){return m(u(e),t,h,!1).valueOf()},"any, Array":function(e,t){return m(u(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(s.operators.bitAnd,"${args[1]}\\right)")},h}},As8A:function(e,t,r){"use strict";var n=r("1stm"),i=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};t.name="tanh",t.factory=function(e,t,r,a){var o=a("tanh",{number:i,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return o(t.value)},"Array | Matrix":function(e){return n(e,o,!0)}});return o.toTex={1:"\\tanh\\left(${args[0]}\\right)"},o}},AwYi:function(e,t,r){"use strict";var n=r("1stm");t.name="unaryPlus",t.factory=function(e,t,i,a){var o=r("bFQJ"),s=a("unaryPlus",{number:function(e){return e},Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return n(e,s,!0)},"boolean | string":function(r){return"BigNumber"===t.number?new e.BigNumber(+r):+r}});return s.toTex={1:"".concat(o.operators.unaryPlus,"\\left(${args[0]}\\right)")},s}},B1sb:function(e,t,r){"use strict";e.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},B8AT:function(e,t,r){"use strict";t.name="dotPow",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=n(r("CaZ0")),s=r("bFQJ"),u=n(r("hYuG")),l=n(r("XXc+")),c=n(r("nr1U")),f=n(r("/z5F")),p=n(r("zbDx")),m=n(r("BLb5")),h=i("dotPow",{"any, any":o,"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,o,!1)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,o,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,o,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,o)},"Array, Array":function(e,t){return h(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return h(a(e),t)},"Matrix, Array":function(e,t){return h(e,a(t))},"SparseMatrix, any":function(e,t){return c(e,t,h,!1)},"DenseMatrix, any":function(e,t){return m(e,t,h,!1)},"any, SparseMatrix":function(e,t){return f(t,e,h,!0)},"any, DenseMatrix":function(e,t){return m(t,e,h,!0)},"Array, any":function(e,t){return m(a(e),t,h,!1).valueOf()},"any, Array":function(e,t){return m(a(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(s.operators.dotPow,"${args[1]}\\right)")},h}},BC0u:function(e,t,r){"use strict";e.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},BCdv:function(e,t,r){"use strict";e.exports=[r("XTu1")]},BEMT:function(e,t,r){"use strict";t.name="csFlip",t.path="algebra.sparse",t.factory=function(){return function(e){return-e-2}}},BGH5:function(e,t,r){"use strict";e.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]}},BKGL:function(e,t,r){"use strict";var n=r("1stm");t.name="sec",t.factory=function(e,t,r,i){var a=i("sec",{number:function(e){return 1/Math.cos(e)},Complex:function(e){return e.sec()},BigNumber:function(t){return new e.BigNumber(1).div(t.cos())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return a(t.value)},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\sec\\left(${args[0]}\\right)"},a}},BLb5:function(e,t,r){"use strict";var n=r("Z2I/").clone;t.name="algorithm14",t.factory=function(e,t,r,i){var a=e.DenseMatrix;return function(e,t,r,o){var s,u=e._data,l=e._size,c=e._datatype,f=r;"string"==typeof c&&(t=i.convert(t,s=c),f=i.find(r,[s,s]));var p=l.length>0?function e(t,r,n,i,a,o,s){var u=[];if(r===n.length-1)for(var l=0;l<i;l++)u[l]=s?t(o,a[l]):t(a[l],o);else for(var c=0;c<i;c++)u[c]=e(t,r+1,n,n[r+1],a[c],o,s);return u}(f,0,l,l[0],u,t,o):[];return new a({data:p,size:n(l),datatype:s})}}},BSwV:function(e,t,r){"use strict";e.exports=[r("Nsef"),r("BdOc"),r("o0nB"),r("n+Sg")]},BWRs:function(e,t,r){"use strict";t.name="csPost",t.path="algebra.sparse",t.factory=function(e,t,n){var i=n(r("L/+I"));return function(e,t){if(!e)return null;var r,n=0,a=[],o=[],s=t,u=2*t;for(r=0;r<t;r++)o[0+r]=-1;for(r=t-1;r>=0;r--)-1!==e[r]&&(o[s+r]=o[0+e[r]],o[0+e[r]]=r);for(r=0;r<t;r++)-1===e[r]&&(n=i(r,n,o,0,s,a,u));return a}}},BdOc:function(e,t,r){"use strict";var n=r("1stm");t.name="not",t.factory=function(e,t,i,a){var o=r("bFQJ"),s=a("not",{number:function(e){return!e},Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||s(e.value)},"Array | Matrix":function(e){return n(e,s)}});return s.toTex={1:o.operators.not+"\\left(${args[0]}\\right)"},s}},BfPy:function(e,t,r){"use strict";e.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},BrDR:function(e,t,r){"use strict";e.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},Bv1Z:function(e,t,r){"use strict";e.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},"C+ar":function(e,t,r){"use strict";e.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},C139:function(e,t,r){"use strict";e.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},C3Pk:function(e,t,r){"use strict";e.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},C4db:function(e,t,r){"use strict";e.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},C8y5:function(e,t,r){"use strict";e.exports={end:!0}},CDBF:function(e,t,r){"use strict";e.exports=[r("TZsI"),r("P04q"),r("rLM1"),r("QrDL"),r("592q")]},CN1L:function(e,t,r){"use strict";e.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},CaZ0:function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("sTyi").size;t.name="pow",t.factory=function(e,t,a,o){var s=r("bFQJ"),u=a(r("MKmT")),l=a(r("NU+P")),c=a(r("R4H5")),f=a(r("wJ/n")),p=a(r("78Py")),m=o("pow",{"number, number":h,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(r,n){return n.isInteger()||r>=0||t.predictable?r.pow(n):new e.Complex(r.toNumber(),0).pow(n.toNumber(),0)},"Fraction, Fraction":function(e,r){if(1!==r.d){if(t.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return h(e.valueOf(),r.valueOf())}return e.pow(r)},"Array, number":d,"Array, BigNumber":function(e,t){return d(e,t.toNumber())},"Matrix, number":v,"Matrix, BigNumber":function(e,t){return v(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function h(r,i){if(t.predictable&&!n(i)&&r<0)try{var a=f(i),o=p(a);if((i===o||Math.abs((i-o)/i)<1e-14)&&a.d%2==1)return(a.n%2==0?1:-1)*Math.pow(-r,i)}catch(s){}return r*r<1&&i===1/0||r*r>1&&i===-1/0?0:t.predictable&&(r<-1&&i===1/0||r>-1&&r<0&&i===-1/0)?NaN:n(i)||r>=0||t.predictable?Math.pow(r,i):new e.Complex(r,0).pow(i,0)}function d(e,t){if(!n(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var r=i(e);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var a=u(r[0]).valueOf(),o=e;t>=1;)1==(1&t)&&(a=l(o,a)),t>>=1,o=l(o,o);return a}function v(e,t){return c(d(e.valueOf(),t))}return m.toTex={2:"\\left(${args[0]}\\right)".concat(s.operators.pow,"{${args[1]}}")},m}},Ce6x:function(e,t,r){"use strict";e.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},ChVl:function(e,t,r){"use strict";e.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},Cmge:function(e,t,r){"use strict";var n=r("1stm");t.name="re",t.factory=function(e,t,r,i){var a=i("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},a}},CvSI:function(e,t,r){"use strict";e.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]}},CzQx:function(e,t,r){"use strict";e.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},D2JG:function(e,t,r){"use strict";t.factory=function(e,t,n,i){var a=n(r("uUDd"));return function(e,t,r){var n;return-1!==String(e).indexOf("Unexpected type")?(n=arguments.length>2?" (type: "+a(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):-1!==String(e).indexOf("complex numbers")?(n=arguments.length>2?" (type: "+a(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e}}},DKez:function(e,t,r){"use strict";e.exports=[r("sbU1"),r("MI9+")]},DQ65:function(e,t,r){"use strict";e.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]}},Dnvl:function(e,t,r){"use strict";var n=r("Tb0o"),i=r("bFQJ"),a=r("PXUV").escape;t.name="RelationalNode",t.path="expression.node",t.factory=function(e,t,o,s){var u=o(r("K6lB")),l=r("4bae").getSafeProperty;function c(e,t){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}return(c.prototype=new u).type="RelationalNode",c.prototype.isRelationalNode=!0,c.prototype._compile=function(e,t){var r=this,n=this.params.map(function(r){return r._compile(e,t)});return function(t,i,a){for(var o,s=n[0](t,i,a),u=0;u<r.conditionals.length;u++)if(o=s,s=n[u+1](t,i,a),!l(e,r.conditionals[u])(o,s))return!1;return!0}},c.prototype.forEach=function(e){var t=this;this.params.forEach(function(r,n){return e(r,"params["+n+"]",t)},this)},c.prototype.map=function(e){var t=this;return new c(this.conditionals.slice(),this.params.map(function(r,n){return t._ifNode(e(r,"params["+n+"]",t))},this))},c.prototype.clone=function(){return new c(this.conditionals,this.params)},c.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=n.getPrecedence(this,t),i=this.params.map(function(i,a){var o=n.getPrecedence(i,t);return"all"===t||null!==o&&o<=r?"("+i.toString(e)+")":i.toString(e)}),a={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},o=i[0],s=0;s<this.conditionals.length;s++)o+=" "+a[this.conditionals[s]]+" "+i[s+1];return o},c.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},c.fromJSON=function(e){return new c(e.conditionals,e.params)},c.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=n.getPrecedence(this,t),i=this.params.map(function(i,a){var o=n.getPrecedence(i,t);return"all"===t||null!==o&&o<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+i.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':i.toHTML(e)}),o={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=i[0],u=0;u<this.conditionals.length;u++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+a(o[this.conditionals[u]])+"</span>"+i[u+1];return s},c.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=n.getPrecedence(this,t),a=this.params.map(function(i,a){var o=n.getPrecedence(i,t);return"all"===t||null!==o&&o<=r?"\\left("+i.toTex(e)+"\right)":i.toTex(e)}),o=a[0],s=0;s<this.conditionals.length;s++)o+=i.operators[this.conditionals[s]]+a[s+1];return o},c}},"Dq+S":function(e,t,r){"use strict";var n=r("Z2I/");t.format=function(e,r){if("function"==typeof r)return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var i,a="auto";switch(void 0!==r&&(r.notation&&(a=r.notation),"number"==typeof r?i=r:r.precision&&(i=r.precision)),a){case"fixed":return t.toFixed(e,i);case"exponential":return t.toExponential(e,i);case"auto":if(r&&r.exponential&&(void 0!==r.exponential.lower||void 0!==r.exponential.upper)){var o=n.map(r,function(e){return e});return o.exponential=void 0,void 0!==r.exponential.lower&&(o.lowerExp=Math.round(Math.log(r.exponential.lower)/Math.LN10)),void 0!==r.exponential.upper&&(o.upperExp=Math.round(Math.log(r.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(r)+" with "+JSON.stringify(o)),t.format(e,o)}var s=r&&void 0!==r.lowerExp?r.lowerExp:-3,u=r&&void 0!==r.upperExp?r.upperExp:5;if(e.isZero())return"0";var l=e.e;return(l>=s&&l<u?e.toSignificantDigits(i).toFixed():t.toExponential(e,i)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+a+'". Choose "auto", "exponential", or "fixed".')}},t.toExponential=function(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()},t.toFixed=function(e,t){return e.toFixed(t)}},Dqld:function(e,t,r){"use strict";t.name="parser",t.factory=function(e,t,n,i,a){var o=n(r("/UxZ"));return i("parser",{"":function(){return new o(a)}})},t.math=!0},Dv31:function(e,t,r){"use strict";e.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},E1be:function(e,t,r){"use strict";var n=r("1stm");t.name="factorial",t.factory=function(e,t,i,a){var o=i(r("u995")),s=r("bFQJ"),u=a("factorial",{number:function(e){if(e<0)throw new Error("Value must be non-negative");return o(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return o(e.plus(1))},"Array | Matrix":function(e){return n(e,u)}});return u.toTex={1:"\\left(${args[0]}\\right)".concat(s.operators.factorial)},u}},E3Fe:function(e,t,r){"use strict";t.name="csLu",t.path="algebra.sparse",t.factory=function(e,t,n){var i=n(r("fTxE")),a=n(r("WPGy")),o=n(r("NU+P")),s=n(r("H+Qf")),u=n(r("m1wG")),l=n(r("oG5r")),c=e.SparseMatrix;return function(e,t,r){if(!e)return null;var n,f=e._size[1],p=100,m=100;t&&(n=t.q,p=t.lnz||p,m=t.unz||m);var h,d,v=[],g=[],b=[],y=new c({values:v,index:g,ptr:b,size:[f,f]}),x=[],w=[],M=[],N=new c({values:x,index:w,ptr:M,size:[f,f]}),_=[],A=[],E=[];for(h=0;h<f;h++)A[h]=0,_[h]=-1,b[h+1]=0;p=0,m=0;for(var S=0;S<f;S++){b[S]=p,M[S]=m;var k=n?n[S]:S,O=l(y,e,k,E,A,_,1),C=-1,L=-1;for(d=O;d<f;d++)if(_[h=E[d]]<0){var T=i(A[h]);s(T,L)&&(L=T,C=h)}else w[m]=_[h],x[m++]=A[h];if(-1===C||L<=0)return null;_[k]<0&&u(i(A[k]),o(L,r))&&(C=k);var P=A[C];for(w[m]=S,x[m++]=P,_[C]=S,g[p]=C,v[p++]=1,d=O;d<f;d++)_[h=E[d]]<0&&(g[p]=h,v[p++]=a(A[h],P)),A[h]=0}for(b[f]=p,M[f]=m,d=0;d<p;d++)g[d]=_[g[d]];return v.splice(p,v.length-p),g.splice(p,g.length-p),x.splice(m,x.length-m),w.splice(m,w.length-m),{L:y,U:N,pinv:_}}}},E5lj:function(e,t,r){"use strict";e.exports={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]}},E86j:function(e,t,r){"use strict";var n=r("1stm");t.name="conj",t.factory=function(e,t,r,i){var a=i("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\left(${args[0]}\\right)^*"},a}},E8Bt:function(e,t,r){"use strict";e.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},EADr:function(e,t,r){"use strict";t.name="getMatrixDataType",t.factory=function(e,t,n,i){var a=n(r("xFnQ"));return i("getMatrixDataType",{Array:function(e){return a(e)},Matrix:function(e){return e.getDataType()}})}},EGR4:function(e,t,r){"use strict";t.name="csReach",t.path="algebra.sparse",t.factory=function(e,t,n){var i=n(r("r8/r")),a=n(r("4vqq")),o=n(r("U36N"));return function(e,t,r,n,s){var u,l,c=e._ptr,f=t._index,p=t._ptr,m=e._size[1],h=m;for(l=p[r+1],u=p[r];u<l;u++){var d=f[u];a(c,d)||(h=i(d,e,h,n,s))}for(u=h;u<m;u++)o(c,n[u]);return h}}},EJNv:function(e,t,r){"use strict";e.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},ESPO:function(e,t,r){"use strict";function n(e,t,r,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=i,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}(n.prototype=new Error).constructor=Error,n.prototype.name="ArgumentsError",n.prototype.isArgumentsError=!0,e.exports=n},EjzI:function(e,t,r){"use strict";var n=r("1stm");t.name="ceil",t.factory=function(e,t,r,i){var a=i("ceil",{number:Math.ceil,Complex:function(e){return e.ceil()},BigNumber:function(e){return e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return n(e,a,!0)}});return a.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},a}},EkuI:function(e,t,r){"use strict";t.name="sparse",t.factory=function(e,t,r,n){var i=e.SparseMatrix,a=n("sparse",{"":function(){return new i([])},string:function(e){return new i([],e)},"Array | Matrix":function(e){return new i(e)},"Array | Matrix, string":function(e,t){return new i(e,t)}});return a.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},a}},"EsS/":function(e,t,r){"use strict";e.exports={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},Evgl:function(e,t,r){"use strict";t.name="intersect",t.factory=function(e,t,n,i){var a=n(r("fTxE")),o=n(r("NEdZ")),s=n(r("XXst")),u=n(r("R4H5")),l=n(r("NU+P")),c=n(r("oiZ2")),f=n(r("WPGy")),p=n(r("O1N0")),m=n(r("m4e2")),h=n(r("hj6K")),d=i("intersect",{"Array, Array, Array":function(e,t,r){if(!b(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!b(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&v(e[0])&&v(e[1])&&v(e[2])&&v(e[3])}(r))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,r,n,i,a,o,u,l,m){var h=c(e,o),d=c(n,o),v=c(t,u),g=c(i,u),b=c(r,l),y=c(a,l),x=f(p(p(p(m,h),v),b),p(p(p(s(s(d,g),y),h),v),b));return[s(e,c(x,p(n,e))),s(t,c(x,p(i,t))),s(r,c(x,p(a,r)))]}(e[0],e[1],e[2],t[0],t[1],t[2],r[0],r[1],r[2],r[3])},"Array, Array, Array, Array":function(e,r,n,i){if(2===e.length){if(!g(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!g(r))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!g(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!g(i))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(i,u,h,d){var v=e,g=n,b=p(v,r),y=p(g,d),x=p(c(b[0],y[1]),c(y[0],b[1]));if(m(a(x),t.epsilon))return null;var w=c(y[0],v[1]),M=c(y[1],v[0]),N=c(y[0],g[1]),_=c(y[1],g[0]),A=f(s(p(p(w,M),N),_),x);return o(l(b,A),v)}(0,0,0,i)}if(3===e.length){if(!b(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!b(r))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!b(n))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!b(i))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return x=r[0],w=r[1],M=r[2],O=y(u=e[0],N=n[0],E=i[0],N,d=e[1],_=n[1],S=i[1],_,v=e[2],A=n[2],k=i[2],A),C=y(E,N,x,u,S,_,w,d,k,A,M,v),L=y(u,N,x,u,d,_,w,d,v,A,M,v),T=y(E,N,E,N,S,_,S,_,k,A,k,A),P=y(x,u,x,u,w,d,w,d,M,v,M,v),I=f(p(c(O,C),c(L,T)),p(c(P,T),c(C,C))),z=f(s(O,c(I,C)),T),B=s(u,c(I,p(x,u))),j=s(d,c(I,p(w,d))),F=s(v,c(I,p(M,v))),R=s(N,c(z,p(E,N))),D=s(_,c(z,p(S,_))),q=s(A,c(z,p(k,A))),h(B,R)&&h(j,D)&&h(F,q)?[B,j,F]:null}throw new TypeError("Arrays with two or thee dimensional points expected");var u,d,v,x,w,M,N,_,A,E,S,k,O,C,L,T,P,I,z,B,j,F,R,D,q},"Matrix, Matrix, Matrix":function(e,t,r){return u(d(e.valueOf(),t.valueOf(),r.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,r,n){return u(d(e.valueOf(),t.valueOf(),r.valueOf(),n.valueOf()))}});function v(t){return"number"==typeof t||e.isBigNumber(t)}function g(e){return 2===e.length&&v(e[0])&&v(e[1])}function b(e){return 3===e.length&&v(e[0])&&v(e[1])&&v(e[2])}function y(e,t,r,n,i,a,o,u,l,f,m,h){var d=c(p(e,t),p(r,n)),v=c(p(i,a),p(o,u)),g=c(p(l,f),p(m,h));return s(s(d,v),g)}return d}},Ewol:function(e,t,r){"use strict";e.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},F02G:function(e,t,r){"use strict";var n=r("1stm"),i=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2};t.name="atanh",t.factory=function(e,t,r,a){var o=a("atanh",{number:function(r){return r<=1&&r>=-1||t.predictable?i(r):new e.Complex(r,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return n(e,o,!0)}});return o.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},o}},F2PV:function(e,t,r){"use strict";e.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},F82Z:function(e,t,r){"use strict";e.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},FC7u:function(e,t,r){"use strict";var n=r("sTyi").size,i=r("3LJV"),a=r("rq6S"),o=r("G23K");t.name="mean",t.factory=function(e,t,s,u){var l=s(r("NEdZ")),c=s(r("rVKH")),f=s(r("D2JG")),p=u("mean",{"Array | Matrix":m,"Array | Matrix, number | BigNumber":function(e,t){try{var r=a(e,t,l),i=Array.isArray(e)?n(e):e.size();return c(r,i[t])}catch(o){throw f(o,"mean")}},"...":function(e){if(o(e))throw new TypeError("Scalar values expected in function mean");return m(e)}});return p.toTex=void 0,p;function m(e){var t=0,r=0;if(i(e,function(e){try{t=l(t,e),r++}catch(n){throw f(n,"mean",e)}}),0===r)throw new Error("Cannot calculate mean of an empty array");return c(t,r)}}},FEDV:function(e,t,r){"use strict";e.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},FETI:function(e,t,r){"use strict";e.exports=[r("8t5a"),r("YlvN")]},FKBR:function(e,t,r){"use strict";t.name="usolve",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=n(r("WPGy")),s=n(r("oiZ2")),u=n(r("O1N0")),l=n(r("hj6K")),c=n(r("oJv1")),f=e.DenseMatrix;function p(e,t){for(var r=(t=c(e,t,!0))._data,n=e._size[0],i=[],a=e._data,p=e._size[1]-1;p>=0;p--){var m=r[p][0]||0,h=void 0;if(l(m,0))h=0;else{var d=a[p][p];if(l(d,0))throw new Error("Linear system cannot be solved since matrix is singular");h=o(m,d);for(var v=p-1;v>=0;v--)r[v]=[u(r[v][0]||0,s(h,a[v][p]))]}i[p]=[h]}return new f({data:i,size:[n,1]})}return i("usolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r,n,i=(t=c(e,t,!0))._data,a=e._size[0],p=e._values,m=e._index,h=e._ptr,d=[],v=e._size[1]-1;v>=0;v--){var g=i[v][0]||0;if(l(g,0))d[v]=[0];else{var b=0,y=[],x=[],w=h[v],M=h[v+1];for(n=M-1;n>=w;n--)(r=m[n])===v?b=p[n]:r<v&&(y.push(p[n]),x.push(r));if(l(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var N=o(g,b);for(n=0,M=x.length;n<M;n++)i[r=x[n]]=[u(i[r][0],s(N,y[n]))];d[v]=[N]}}return new f({data:d,size:[a,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return p(e,t)},"Array, Array | Matrix":function(e,t){return p(a(e),t).valueOf()}})}},FKH8:function(e,t,r){"use strict";t.math=!0,t.name="resolve",t.path="algebra.simplify",t.factory=function(e,t,r,n,i){var a=i.expression.node.Node,o=i.expression.node.OperatorNode,s=i.expression.node.FunctionNode,u=i.expression.node.ParenthesisNode;return function t(r,n){if(!n)return r;if(e.isSymbolNode(r)){var l=n[r.name];if(l instanceof a)return t(l,n);if("number"==typeof l)return i.parse(String(l))}else{if(e.isOperatorNode(r)){var c=r.args.map(function(e){return t(e,n)});return new o(r.op,r.fn,c,r.implicit)}if(e.isParenthesisNode(r))return new u(t(r.content,n));if(e.isFunctionNode(r)){var f=r.args.map(function(e){return t(e,n)});return new s(r.name,f)}}return r}}},FX2J:function(e,t,r){"use strict";e.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},FX2d:function(e,t,r){"use strict";var n=r("bFQJ"),i=r("PXUV").escape,a=r("Z2I/").hasOwnProperty,o=r("4bae").getSafeProperty;t.name="SymbolNode",t.path="expression.node",t.math=!0,t.factory=function(e,t,s,u,l){var c=s(r("K6lB"));function f(t){return!!e.Unit&&e.Unit.isValuelessUnit(t)}function p(e){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return(p.prototype=new c).type="SymbolNode",p.prototype.isSymbolNode=!0,p.prototype._compile=function(t,r){var n=this.name;if(a(r,n))return function(e,t,r){return t[n]};if(n in t)return function(e,r,i){return o(n in e?e:t,n)};var i=f(n);return function(t,r,a){return n in t?o(t,n):i?new e.Unit(null,n):function(e){throw new Error("Undefined symbol "+e)}(n)}},p.prototype.forEach=function(e){},p.prototype.map=function(e){return this.clone()},p.prototype.clone=function(){return new p(this.name)},p.prototype._toString=function(e){return this.name},p.prototype.toHTML=function(e){var t=i(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},p.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},p.fromJSON=function(e){return new p(e.name)},p.prototype._toTex=function(e){var t=!1;void 0===l[this.name]&&f(this.name)&&(t=!0);var r=n.toSymbol(this.name,t);return"\\"===r[0]?r:" "+r},p}},Fa9p:function(e,t,r){"use strict";e.exports=[r("1wo0"),r("yoYd"),r("JCRp"),r("3efQ"),r("o+rb"),r("JF51"),r("ZzZD"),r("HPOQ"),r("ijvZ"),r("U7S5"),r("jd1/"),r("MKmT"),r("QfvV"),r("Pzmr"),r("R5C+"),r("/jKp"),r("iNzJ"),r("sLzR"),r("nM2x"),r("Nd6k"),r("v7fr"),r("KnL+"),r("1sx9"),r("Q5Ck"),r("Wail"),r("YgF4"),r("JjaI"),r("9a6t"),r("EADr")]},Fifl:function(e,t,r){"use strict";var n=r("sTyi").flatten,i=r("sTyi").identify,a=r("sTyi").generalize;t.name="setIntersect",t.factory=function(e,t,o,s){var u=o(r("Lzl2")),l=o(r("ZS3Q")),c=o(r("v7fr")),f=o(r("Wail")),p=o(r("L2qZ"));return s("setIntersect",{"Array | Matrix, Array | Matrix":function(e,t){var r;if(0===f(c(e),new u(0))||0===f(c(t),new u(0)))r=[];else{var o=i(n(Array.isArray(e)?e:e.toArray()).sort(p)),s=i(n(Array.isArray(t)?t:t.toArray()).sort(p));r=[];for(var m=0;m<o.length;m++)for(var h=0;h<s.length;h++)if(0===p(o[m].value,s[h].value)&&o[m].identifier===s[h].identifier){r.push(o[m]);break}}return Array.isArray(e)&&Array.isArray(t)?a(r):new l(a(r))}})}},FmpH:function(e,t,r){"use strict";var n=r("1h5C");n.prototype.type="Fraction",n.prototype.isFraction=!0,n.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},n.fromJSON=function(e){return new n(e)},t.name="Fraction",t.path="type",t.factory=function(e,t,r,i){return n}},"G+ok":function(e,t,r){"use strict";e.exports=function e(t,r){var n;return r<t?1:r===t?r:e(t,n=r+t>>1)*e(n+1,r)}},"G+sN":function(e,t,r){"use strict";var n=r("b5sn");e.exports=function e(t){var i=n.create(t);return i.create=e,i.import(r("yYEn")),i}()},G23K:function(e,t,r){"use strict";var n=r("HJTy");e.exports=function(e){for(var t=0;t<e.length;t++)if(n(e[t]))return!0;return!1}},G8Xs:function(e,t,r){"use strict";t.name="qr",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=n(r("9a6t")),s=n(r("MKmT")),u=n(r("6F5Y")),l=n(r("1u6V")),c=n(r("2C3G")),f=n(r("L/Rn")),p=n(r("E86j")),m=n(r("7DiD")),h=n(r("XXst")),d=n(r("WPGy")),v=n(r("oiZ2")),g=n(r("O1N0"));function b(e){var t,r,n,i=e._size[0],a=e._size[1],b=s([i],"dense"),y=b._data,x=e.clone(),w=x._data,M=o([i],"");for(n=0;n<Math.min(a,i);++n){var N=w[n][n],_=m(c(N)),A=p(_),E=0;for(t=n;t<i;t++)E=h(E,v(w[t][n],p(w[t][n])));var S=v(_,f(E));if(!u(S)){var k=g(N,S);for(M[n]=1,t=n+1;t<i;t++)M[t]=d(w[t][n],k);var O=m(p(d(k,S))),C=void 0;for(r=n;r<a;r++){for(C=0,t=n;t<i;t++)C=h(C,v(p(M[t]),w[t][r]));for(C=v(C,O),t=n;t<i;t++)w[t][r]=v(g(w[t][r],v(M[t],C)),A)}for(t=0;t<i;t++){for(C=0,r=n;r<i;r++)C=h(C,v(y[t][r],M[r]));for(C=v(C,O),r=n;r<i;++r)y[t][r]=d(g(y[t][r],v(C,p(M[r]))),A)}}}for(t=0;t<i;++t)for(r=0;r<t&&r<a;++r){if(l(0,d(w[t][r],1e5)))throw new Error("math.qr(): unknown error - R is not lower triangular (element ("+t+", "+r+")  = "+w[t][r]+")");w[t][r]=v(w[t][r],0)}return{Q:b,R:x,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}return i("qr",{DenseMatrix:function(e){return b(e)},SparseMatrix:function(e){return function(e){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var t=b(a(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}})}},GAo5:function(e,t,r){"use strict";t.name="composition",t.factory=function(e,t,n,i){var a=n(r("xDDq")),o=n(r("XXst")),s=n(r("qcrg")),u=n(r("PbhI")),l=n(r("H+Qf")),c=i("composition",{"number | BigNumber, number | BigNumber":function(e,t){if(!(u(e)&&s(e)&&u(t)&&s(t)))throw new TypeError("Positive integer value expected in function composition");if(l(t,e))throw new TypeError("k must be less than or equal to n in function composition");return a(o(e,-1),o(t,-1))}});return c.toTex=void 0,c}},GxfF:function(e,t,r){"use strict";t.name="range",t.path="expression.transform",t.factory=function(e,t,n,i){var a=n(r("sLzR"));return i("range",{"...any":function(e){return"boolean"!=typeof e[e.length-1]&&e.push(!0),a.apply(null,e)}})}},"H+Qf":function(e,t,r){"use strict";var n=r("199F").nearlyEqual,i=r("rMK7");t.name="larger",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=a(r("hYuG")),l=a(r("XXc+")),c=a(r("/z5F")),f=a(r("zbDx")),p=a(r("BLb5")),m=r("bFQJ"),h=o("larger",{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,r){return e>r&&!n(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.gt(r)&&!i(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return h(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,h)},"Array, Array":function(e,t){return h(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return h(s(e),t)},"Matrix, Array":function(e,t){return h(e,s(t))},"SparseMatrix, any":function(e,t){return c(e,t,h,!1)},"DenseMatrix, any":function(e,t){return p(e,t,h,!1)},"any, SparseMatrix":function(e,t){return c(t,e,h,!0)},"any, DenseMatrix":function(e,t){return p(t,e,h,!0)},"Array, any":function(e,t){return p(s(e),t,h,!1).valueOf()},"any, Array":function(e,t){return p(s(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(m.operators.larger,"${args[1]}\\right)")},h}},H8IP:function(e,t,r){"use strict";t.name="catalan",t.factory=function(e,t,n,i){var a=n(r("NEdZ")),o=n(r("rVKH")),s=n(r("NU+P")),u=n(r("xDDq")),l=n(r("mtzS")),c=n(r("PbhI")),f=i("catalan",{"number | BigNumber":function(e){if(!c(e)||l(e))throw new TypeError("Non-negative integer value expected in function catalan");return o(u(s(e,2),e),a(e,1))}});return f.toTex={1:"\\mathrm{C}_{${args[0]}}"},f}},HJTy:function(e,t,r){"use strict";var n=r("6cPB");e.exports=function(e){return Array.isArray(e)||n(e)}},HPOQ:function(e,t,r){"use strict";var n=r("PXUV").format;t.name="expm",t.factory=function(e,t,i,a){var o=i(r("fTxE")),s=i(r("NEdZ")),u=i(r("MKmT")),l=i(r("QfvV")),c=i(r("NU+P")),f=e.SparseMatrix,p=a("expm",{Matrix:function(t){var r=t.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+n(r)+")");for(var i=r[0],a=function(e,t){for(var r=0;r<30;r++)for(var n=0;n<=r;n++){var i=r-n;if(m(e,n,i)<1e-15)return{q:n,j:i}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(e){for(var t=e.size()[0],r=0,n=0;n<t;n++){for(var i=0,a=0;a<t;a++)i+=o(e.get([n,a]));r=Math.max(i,r)}return r}(t)),p=a.q,h=a.j,d=c(t,Math.pow(2,-h)),v=u(i),g=u(i),b=1,y=d,x=-1,w=1;w<=p;w++)w>1&&(y=c(y,d),x=-x),v=s(v,c(b=b*(p-w+1)/((2*p-w+1)*w),y)),g=s(g,c(b*x,y));for(var M=c(l(g),v),N=0;N<h;N++)M=c(M,M);return e.isSparseMatrix(t)?new f(M):M}});function m(e,t,r){for(var n=1,i=2;i<=t;i++)n*=i;for(var a=n,o=t+1;o<=2*t;o++)a*=o;var s=a*(2*t+1);return 8*Math.pow(e/Math.pow(2,r),2*t)*n*n/(a*s)}return p.toTex={1:"\\exp\\left(${args[0]}\\right)"},p}},Hh5B:function(e,t,r){"use strict";e.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},Hy0I:function(e,t,r){"use strict";e.exports=[r("Ii65"),r("v0wB"),r("uxtw"),r("l41f"),r("35fj"),r("kip4"),r("AGIY"),r("p2yA"),r("Z+Vt"),r("K6lB"),r("RYjE"),r("ut+i"),r("+6pz"),r("uPaw"),r("Dnvl"),r("FX2d"),r("dhdP")]},I5O3:function(e,t,r){"use strict";var n=r("3LJV"),i=r("rq6S"),a=r("G23K");t.name="min",t.factory=function(e,t,o,s){var u=o(r("m4e2")),l=o(r("D2JG")),c=s("min",{"Array | Matrix":p,"Array | Matrix, number | BigNumber":function(e,t){return i(e,t.valueOf(),f)},"...":function(e){if(a(e))throw new TypeError("Scalar values expected in function min");return p(e)}});return c.toTex="\\min\\left(${args}\\right)",c;function f(e,t){try{return u(e,t)?e:t}catch(r){throw l(r,"min",t)}}function p(e){var t;if(n(e,function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||u(e,t))&&(t=e)}catch(r){throw l(r,"min",e)}}),void 0===t)throw new Error("Cannot calculate min of an empty array");return t}}},ILoc:function(e,t,r){"use strict";e.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},IN5n:function(e,t,r){"use strict";e.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},IhY6:function(e,t,r){"use strict";e.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},Ii65:function(e,t,r){"use strict";var n=r("4bae").getSafeProperty;t.name="AccessorNode",t.path="expression.node",t.factory=function(e,t,i,a){var o=i(r("K6lB")),s=i(r("2g85"));function u(t,r){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError('Node expected for parameter "object"');if(!e.isIndexNode(r))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=r,Object.defineProperty(this,"name",{get:(function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function l(t){return!(e.isAccessorNode(t)||e.isArrayNode(t)||e.isConstantNode(t)||e.isFunctionNode(t)||e.isObjectNode(t)||e.isParenthesisNode(t)||e.isSymbolNode(t))}return(u.prototype=new o).type="AccessorNode",u.prototype.isAccessorNode=!0,u.prototype._compile=function(e,t){var r=this.object._compile(e,t),i=this.index._compile(e,t);if(this.index.isObjectProperty()){var a=this.index.getObjectProperty();return function(e,t,i){return n(r(e,t,i),a)}}return function(e,t,n){var a=r(e,t,n),o=i(e,t,a);return s(a,o)}},u.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},u.prototype.map=function(e){return new u(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},u.prototype.clone=function(){return new u(this.object,this.index)},u.prototype._toString=function(e){var t=this.object.toString(e);return l(this.object)&&(t="("+t+")"),t+this.index.toString(e)},u.prototype.toHTML=function(e){var t=this.object.toHTML(e);return l(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},u.prototype._toTex=function(e){var t=this.object.toTex(e);return l(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},u.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},u.fromJSON=function(e){return new u(e.object,e.index)},u}},IxMS:function(e,t,r){"use strict";e.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},J36T:function(e,t,r){"use strict";e.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},J64Z:function(e,t,r){"use strict";t.name="csSqr",t.path="algebra.sparse",t.factory=function(e,t,n){var i=n(r("/WIQ")),a=n(r("xXNK")),o=n(r("0qrq")),s=n(r("BWRs")),u=n(r("0UX7"));return function(e,t,r){var n,l=t._ptr,c=t._size[1],f={};if(f.q=i(e,t),e&&!f.q)return null;if(r){var p=e?a(t,null,f.q,0):t;f.parent=o(p,1);var m=s(f.parent,c);if(f.cp=u(p,f.parent,m,1),p&&f.parent&&f.cp&&function(e,t){var r=p._ptr,n=p._index,i=p._size,a=i[0],o=i[1];t.pinv=[],t.leftmost=[];var s,u,l,c,f=t.parent,m=t.pinv,h=t.leftmost,d=[],v=a,g=a+o,b=a+2*o;for(u=0;u<o;u++)d[v+u]=-1,d[g+u]=-1,d[b+u]=0;for(s=0;s<a;s++)h[s]=-1;for(u=o-1;u>=0;u--)for(c=r[u+1],l=r[u];l<c;l++)h[n[l]]=u;for(s=a-1;s>=0;s--)m[s]=-1,-1!==(u=h[s])&&(0==d[b+u]++&&(d[g+u]=s),d[0+s]=d[v+u],d[v+u]=s);for(t.lnz=0,t.m2=a,u=0;u<o;u++)if(s=d[v+u],t.lnz++,s<0&&(s=t.m2++),m[s]=u,!(--b[u]<=0)){t.lnz+=d[b+u];var y=f[u];-1!==y&&(0===d[b+y]&&(d[g+y]=d[g+u]),d[0+d[g+u]]=d[v+y],d[v+y]=d[0+s],d[b+y]+=d[b+u])}for(s=0;s<a;s++)m[s]<0&&(m[s]=u++);return!0}(0,f))for(f.unz=0,n=0;n<c;n++)f.unz+=f.cp[n]}else f.unz=4*l[c]+c,f.lnz=f.unz;return f}}},JBOP:function(e,t,r){"use strict";var n=r("1stm");t.name="log1p",t.factory=function(e,t,i,a){var o=i(r("WPGy")),s=i(r("7EKm")),u=a("log1p",{number:function(r){return r>=-1||t.predictable?Math.log1p?Math.log1p(r):Math.log(r+1):l(new e.Complex(r,0))},Complex:l,BigNumber:function(r){var n=r.plus(1);return!n.isNegative()||t.predictable?n.ln():l(new e.Complex(r.toNumber(),0))},"Array | Matrix":function(e){return n(e,u)},"any, any":function(e,t){return o(u(e),s(t))}});function l(t){var r=t.re+1;return new e.Complex(Math.log(Math.sqrt(r*r+t.im*t.im)),Math.atan2(t.im,r))}return u.toTex={1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},u}},JCRp:function(e,t,r){"use strict";t.name="ctranspose",t.factory=function(e,t,n,i){var a=n(r("JjaI")),o=n(r("E86j")),s=r("bFQJ"),u=i("ctranspose",{any:function(e){return o(a(e))}});return u.toTex={1:"\\left(${args[0]}\\right)".concat(s.operators.ctranspose)},u}},JF51:function(e,t,r){"use strict";var n=r("sTyi").size;t.name="dot",t.factory=function(e,t,i,a){var o=i(r("NEdZ")),s=i(r("NU+P")),u=a("dot",{"Matrix, Matrix":function(e,t){return l(e.toArray(),t.toArray())},"Matrix, Array":function(e,t){return l(e.toArray(),t)},"Array, Matrix":function(e,t){return l(e,t.toArray())},"Array, Array":l});return u.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},u;function l(e,t){var r=n(e),i=n(t),a=r[0];if(1!==r.length||1!==i.length)throw new RangeError("Vector expected");if(r[0]!==i[0])throw new RangeError("Vectors must have equal length ("+r[0]+" != "+i[0]+")");if(0===a)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var u=0,l=0;l<a;l++)u=o(u,s(e[l],t[l]));return u}}},JXtd:function(e,t,r){"use strict";function n(e,t){var r=t<0;if(r&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n}t.name="nthRoot",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=i(r("eX2I")),u=i(r("4fwU")),l=i(r("1d6v")),c=i(r("nr1U")),f=i(r("zbDx")),p=i(r("BLb5")),m="Complex number not supported in function nthRoot. Use nthRoots instead.",h=a("nthRoot",{number:function(e){return n(e,2)},"number, number":n,BigNumber:function(t){return d(t,new e.BigNumber(2))},Complex:function(e){throw new Error(m)},"Complex, number":function(e,t){throw new Error(m)},"BigNumber, BigNumber":d,"Array | Matrix":function(e){return h(e,2)},"SparseMatrix, SparseMatrix":function(e,t){if(1===t.density())return l(e,t,h);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){if(1===t.density())return s(e,t,h,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,h)},"Array, Array":function(e,t){return h(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return h(o(e),t)},"Matrix, Array":function(e,t){return h(e,o(t))},"SparseMatrix, number | BigNumber":function(e,t){return c(e,t,h,!1)},"DenseMatrix, number | BigNumber":function(e,t){return p(e,t,h,!1)},"number | BigNumber, SparseMatrix":function(e,t){if(1===t.density())return c(t,e,h,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(e,t){return p(t,e,h,!0)},"Array, number | BigNumber":function(e,t){return h(o(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return h(e,o(t)).valueOf()}});return h.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},h;function d(t,r){var n=e.BigNumber.precision,i=e.BigNumber.clone({precision:n+2}),a=new e.BigNumber(0),o=new i(1),s=r.isNegative();if(s&&(r=r.neg()),r.isZero())throw new Error("Root must be non-zero");if(t.isNegative()&&!r.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(t.isZero())return s?new i(1/0):0;if(!t.isFinite())return s?a:t;var u=t.abs().pow(o.div(r));return u=t.isNeg()?u.neg():u,new e.BigNumber((s?o.div(u):u).toPrecision(n))}}},JgmW:function(e,t,r){"use strict";var n=r("Z2I/");t.name="clone",t.factory=function(e,t,r,i){var a=i("clone",{any:n.clone});return a.toTex=void 0,a}},Ji2L:function(e,t,r){"use strict";var n=r("3LJV");t.name="prod",t.factory=function(e,t,i,a){var o=i(r("oiZ2")),s=i(r("D2JG")),u=a("prod",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return l(e)}});return u.toTex=void 0,u;function l(e){var t;if(n(e,function(e){try{t=void 0===t?e:o(t,e)}catch(r){throw s(r,"prod",e)}}),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}}},JjaI:function(e,t,r){"use strict";var n=r("Z2I/").clone,i=r("PXUV").format;t.name="transpose",t.factory=function(e,t,a,o){var s=r("bFQJ"),u=a(r("R4H5")),l=e.DenseMatrix,c=e.SparseMatrix,f=o("transpose",{Array:function(e){return f(u(e)).valueOf()},Matrix:function(e){var t,r=e.size();switch(r.length){case 1:t=e.clone();break;case 2:var a=r[0],o=r[1];if(0===o)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+i(r)+")");switch(e.storage()){case"dense":t=function(e,t,r){for(var i,a=e._data,o=[],s=0;s<r;s++){i=o[s]=[];for(var u=0;u<t;u++)i[u]=n(a[u][s])}return new l({data:o,size:[r,t],datatype:e._datatype})}(e,a,o);break;case"sparse":t=function(e,t,r){for(var i,a,o,s=e._values,u=e._index,l=e._ptr,f=s?[]:void 0,p=[],m=[],h=[],d=0;d<t;d++)h[d]=0;for(i=0,a=u.length;i<a;i++)h[u[i]]++;for(var v=0,g=0;g<t;g++)m.push(v),v+=h[g],h[g]=m[g];for(m.push(v),o=0;o<r;o++)for(var b=l[o+1],y=l[o];y<b;y++){var x=h[u[y]]++;p[x]=o,s&&(f[x]=n(s[y]))}return new c({values:f,index:p,ptr:m,size:[r,t],datatype:e._datatype})}(e,a,o)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+i(this._size)+")")}return t},any:function(e){return n(e)}});return f.toTex={1:"\\left(${args[0]}\\right)".concat(s.operators.transpose)},f}},JrXr:function(e,t,r){"use strict";var n=r("wOJ8");t.mixin=function(e){var t=new n;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}},K6lB:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("C8y5"),a=r("Z2I/").deepEqual,o=r("Z2I/").hasOwnProperty;t.name="Node",t.path="expression.node",t.math=!0,t.factory=function(e,t,r,s,u){function l(){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator")}return l.prototype.eval=function(e){return this.compile().eval(e)},l.prototype.type="Node",l.prototype.isNode=!0,l.prototype.comment="",l.prototype.compile=function(){var e=this._compile(u.expression.mathWithTransform,{}),t={};return{eval:function(r){var n=r||{};return function(e){for(var t in e)if(o(e,t)&&t in i)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(n),e(n,t,null)}}},l.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},l.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},l.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},l.prototype._ifNode=function(t){if(!e.isNode(t))throw new TypeError("Callback function must return a Node");return t},l.prototype.traverse=function(e){e(this,null,null),function e(t,r){t.forEach(function(t,n,i){r(t,n,i),e(t,r)})}(this,e)},l.prototype.transform=function(e){return function e(t,r){return t.map(function(t,n,i){return e(r(t,n,i),r)})}(e(this,null,null),e)},l.prototype.filter=function(e){var t=[];return this.traverse(function(r,n,i){e(r,n,i)&&t.push(r)}),t},l.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},l.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},l.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},l.prototype.cloneDeep=function(){return this.map(function(e){return e.cloneDeep()})},l.prototype.equals=function(e){return!!e&&a(this,e)},l.prototype.toString=function(e){var t;if(e&&"object"===n(e))switch(n(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toString(e)},l.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},l.prototype.toHTML=function(e){var t;if(e&&"object"===n(e))switch(n(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this.toHTML(e)},l.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},l.prototype.toTex=function(e){var t;if(e&&"object"===n(e))switch(n(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toTex(e)},l.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},l.prototype.getIdentifier=function(){return this.type},l.prototype.getContent=function(){return this},l}},KSuT:function(e,t,r){"use strict";e.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},KT8n:function(e,t,r){"use strict";e.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},KTle:function(e,t,r){"use strict";e.exports=[r("w+04"),r("7pQ7")]},KUoD:function(e,t,r){"use strict";function n(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function i(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}r.r(t);var a=r("qr6c"),o=r("5iLT");addEventListener("message",function(e){var t=function(e){for(var t,r,s,u,l,c,f,p,m,h,d,v,g,b,y=e.bus.length,x=[],w=0;w<y;w++)x.push(e.bus[w][0]);t=i(function(e){e.bus.sort(function(e,t){return e[1]>t[1]?-1:e[1]<t[1]?1:0});for(var t=e.bus.length,r=new Array(t+1),n=new Map,i=1;i<t+1;i++)r[i]=e.bus[i-1][0],n.set(e.bus[i-1][0],i),e.bus[i-1][0]=i;for(i=0;i<e.gen.length;i++)e.gen[i][0]=n.get(e.gen[i][0]);for(e.edge=new Array(t),i=0;i<t;i++)e.edge[i]=[];for(i=0;i<e.branch.length;i++)e.branch[i][0]=n.get(e.branch[i][0]),e.branch[i][1]=n.get(e.branch[i][1]),e.edge[e.branch[i][0]-1].includes(e.branch[i][1]-1)||(e.edge[e.branch[i][0]-1].push(e.branch[i][1]-1),e.edge[e.branch[i][1]-1].push(e.branch[i][0]-1));return[e,n]}(e),2),e=t[0],b=t[1];var M=i(function(){var t,r,i,o,s=Me(y,y),u=Me(y,y);try{for(var l=n(e.branch),c=l.next();!c.done;c=l.next()){var f=c.value,p=a.complex(f[2],f[3]),m=a.im(p.inverse()),h=a.re(p.inverse()),d=f[4],v=f[0]-1,g=f[1]-1,b=f[8];0===b&&(b=1),u[v][g]+=-h/b,u[g][v]+=-h/b,u[v][v]+=h/b/b,u[g][g]+=h,s[v][g]+=-m/b,s[g][v]+=-m/b,s[v][v]+=(m+d/2)/b/b,s[g][g]+=m+d/2}}catch(A){t={error:A}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}try{for(var x=n(e.bus),w=x.next();!w.done;w=x.next()){var M=w.value,N=M[5],_=M[0]-1;u[_][_]+=M[4]/e.baseMVA,s[_][_]+=N/e.baseMVA}}catch(E){i={error:E}}finally{try{w&&!w.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}return[u,s]}(),2),N=M[0],_=M[1],A=[],E=0,S=0;try{for(var k=n(e.bus),O=k.next();!O.done;O=k.next()){var C=O.value;2===C[1]&&(A.push(C[2]/e.baseMVA),E++),1===C[1]&&(A.push(C[2]/e.baseMVA),S++)}}catch(Ne){r={error:Ne}}finally{try{O&&!O.done&&(s=k.return)&&s.call(k)}finally{if(r)throw r.error}}try{for(var L=n(e.bus),T=L.next();!T.done;T=L.next()){var P=T.value;1===P[1]&&A.push(P[3]/e.baseMVA)}}catch(_e){u={error:_e}}finally{try{T&&!T.done&&(l=L.return)&&l.call(L)}finally{if(u)throw u.error}}try{for(var I=n(e.gen),z=I.next();!z.done;z=I.next())switch(e.bus[(R=z.value)[0]-1][1]){case 3:break;case 2:A[R[0]-2]-=R[1]/e.baseMVA;break;case 1:A[R[0]-2]-=R[1]/e.baseMVA,A[R[0]-2+S]-=R[2]/e.baseMVA}}catch(Ae){c={error:Ae}}finally{try{z&&!z.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}var B=new Array(y);B.fill(1);try{for(var j=n(e.gen),F=j.next();!F.done;F=j.next()){var R;B[(R=F.value)[0]-1]=R[5]}}catch(Ee){p={error:Ee}}finally{try{F&&!F.done&&(m=j.return)&&m.call(j)}finally{if(p)throw p.error}}var D=new Array(y);function q(t,r){var i,o;if(t!==r)return B[t]*(N[t][r]*a.cos(D[t]-D[r])+_[t][r]*a.sin(D[t]-D[r]));var s=2*B[t]*N[t][r];try{for(var u=n(e.edge[t]),l=u.next();!l.done;l=u.next()){var c=l.value;s+=B[c]*(N[t][c]*a.cos(D[t]-D[c])+_[t][c]*a.sin(D[t]-D[c]))}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s}function V(t,r){var i,o;if(t!==r)return B[t]*(N[t][r]*a.sin(D[t]-D[r])-_[t][r]*a.cos(D[t]-D[r]));var s=-2*B[t]*_[t][r];try{for(var u=n(e.edge[t]),l=u.next();!l.done;l=u.next()){var c=l.value;s+=B[c]*(N[t][c]*a.sin(D[t]-D[c])-_[t][c]*a.cos(D[t]-D[c]))}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s}function X(t,r){var i,o;if(t!==r)return B[t]*B[r]*(N[t][r]*a.sin(D[t]-D[r])-_[t][r]*a.cos(D[t]-D[r]));var s=0;try{for(var u=n(e.edge[t]),l=u.next();!l.done;l=u.next()){var c=l.value;c!==t&&(s+=B[t]*B[c]*(-N[t][c]*a.sin(D[t]-D[c])+_[t][c]*a.cos(D[t]-D[c])))}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s}function U(t,r){var i,o;if(t!==r)return B[t]*B[r]*(-N[t][r]*a.cos(D[t]-D[r])+_[t][r]*a.sin(D[t]-D[r]));var s=0;try{for(var u=n(e.edge[t]),l=u.next();!l.done;l=u.next()){var c=l.value;c!==t&&(s+=B[t]*B[c]*(N[t][c]*a.cos(D[t]-D[c])-_[t][c]*a.sin(D[t]-D[c])))}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s}function G(e){for(var t=0,r=0;r<y;r++)t+=B[e]*B[r]*(N[e][r]*a.cos(D[e]-D[r])+_[e][r]*a.sin(D[e]-D[r]));return t}function H(e){for(var t=0,r=0;r<y;r++)t+=B[e]*B[r]*(N[e][r]*a.sin(D[e]-D[r])-_[e][r]*a.cos(D[e]-D[r]));return t}function Y(){for(var t=o.zeros(2*(y-1-E)+E,2*(y-1-E)+E),r=0;r<e.branch.length;r++){var n=e.branch[r][0]-1,i=e.branch[r][1]-1;0!==n&&0!==i&&(o.set(t,n-1,i-1,X(n,i)),o.set(t,i-1,n-1,X(i,n)),n>=1+E&&(o.set(t,n-1-E+y-1,i-1,U(n,i)),o.set(t,i-1,n-1-E+y-1,q(i,n)),i>=1+E&&o.set(t,n-1-E+y-1,i-1-E+y-1,V(n,i))),i>=1+E&&(o.set(t,i-1-E+y-1,n-1,U(i,n)),o.set(t,n-1,i-1-E+y-1,q(n,i)),n>=1+E&&o.set(t,i-1-E+y-1,n-1-E+y-1,V(i,n))))}for(r=1;r<1+E;r++)o.set(t,r-1,r-1,X(r,r));for(r=1+E;r<y;r++)o.set(t,r-1,r-1,X(r,r)),o.set(t,r-1,r-1-E+y-1,q(r,r)),o.set(t,r-1-E+y-1,r-1,U(r,r)),o.set(t,r-1-E+y-1,r-1-E+y-1,V(r,r));return t}D.fill(0),console.log(G(1));for(var Z=0;Z<20;Z++){var J=Y(),K=[];for(w=1;w<y;w++)K.push(G(w));for(w=1;w<y;w++)1===e.bus[w][1]&&K.push(H(w));var W=o.add(A,K),Q=o.solve(J,W);for(w=1+E;w<y;w++)B[w]=B[w]-Q[w-1-E+y-1];for(w=1;w<y;w++)D[w]=D[w]-Q[w-1];if(console.log(o.norm(Q)),o.norm(Q)<1e-8)break}var $={bus:[],gen:[],branch:[]};try{for(var ee=n(x),te=ee.next();!te.done;te=ee.next()){var re=G(w=b.get(te.value)-1)*e.baseMVA,ne=H(w)*e.baseMVA,ie=e.bus[w][2],ae=e.bus[w][3];$.bus.push({V:B[w],theta:D[w]/a.pi*180,PG:re+ie,QG:ne+ae,PL:ie,QL:ae})}}catch(Se){h={error:Se}}finally{try{te&&!te.done&&(d=ee.return)&&d.call(ee)}finally{if(h)throw h.error}}try{for(var oe=n(e.branch),se=oe.next();!se.done;se=oe.next()){var ue=se.value,le=a.complex(ue[2],ue[3]),ce=(a.im(le.inverse()),a.re(le.inverse()),a.complex(0,ue[4]/2)),fe=ue[0]-1,pe=ue[1]-1,me=a.complex({abs:B[fe],arg:D[fe]}),he=a.complex({abs:B[pe],arg:D[pe]}),de=ue[8];0===de&&(de=1);var ve=a.divide(me,de);ve=a.divide(ve,de);var ge=a.divide(he,de),be=a.subtract(ve,ge),ye=a.multiply(me,a.conj(a.multiply(be,le.inverse())));ye=a.add(ye,a.multiply(me,a.conj(a.multiply(ve,ce)))),ve=a.divide(me,de),be=a.subtract(ge=he,ve);var xe=a.multiply(he,a.conj(a.multiply(be,le.inverse())));xe=a.add(xe,a.multiply(he,a.conj(a.multiply(ge,ce)))),a.add(xe,ye);var we=a.multiply(a.multiply(be,a.conj(be)),le.inverse());we=a.conj(we),$.branch.push({PF:a.multiply(a.re(ye),e.baseMVA),QF:a.multiply(a.im(ye),e.baseMVA),PT:a.multiply(a.re(xe),e.baseMVA),QT:a.multiply(a.im(xe),e.baseMVA),Ploss:a.multiply(a.re(we),e.baseMVA),Qloss:a.multiply(a.im(we),e.baseMVA)})}}catch(ke){v={error:ke}}finally{try{se&&!se.done&&(g=oe.return)&&g.call(oe)}finally{if(v)throw v.error}}return $;function Me(e,t){for(var r=new Array(e),n=0;n<e;n++)r[n]=new Array(t),r[n].fill(0);return r}}(e.data);postMessage(t)})},Kain:function(e,t,r){"use strict";e.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},KasC:function(e,t,r){"use strict";var n=r("Z2I/"),i=r("PXUV");t.name="Help",t.path="type",t.factory=function(e,t,a,o){var s=a(r("Dqld"))();function u(e){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return u.prototype.type="Help",u.prototype.isHelp=!0,u.prototype.toString=function(){var t=this.doc||{},r="\n";if(t.name&&(r+="Name: "+t.name+"\n\n"),t.category&&(r+="Category: "+t.category+"\n\n"),t.description&&(r+="Description:\n    "+t.description+"\n\n"),t.syntax&&(r+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){r+="Examples:\n";for(var n=0;n<t.examples.length;n++){var a=t.examples[n];r+="    "+a+"\n";var o=void 0;try{o=s.eval(a)}catch(u){o=u}void 0===o||e.isHelp(o)||(r+="        "+i.format(o,{precision:14})+"\n")}r+="\n"}return t.seealso&&t.seealso.length&&(r+="See also: "+t.seealso.join(", ")+"\n"),r},u.prototype.toJSON=function(){var e=n.clone(this.doc);return e.mathjs="Help",e},u.fromJSON=function(e){var t={};for(var r in e)"mathjs"!==r&&(t[r]=e[r]);return new u(t)},u.prototype.valueOf=u.prototype.toString,u}},KjYu:function(e,t,r){"use strict";e.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]}},"KnL+":function(e,t,r){"use strict";var n=r("sTyi").size;t.name="sort",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=i(r("xmOI")),u=function(e,t){return-s(e,t)},l=i(r("L2qZ")),c=a("sort",{Array:function(e){return p(e),e.sort(s)},Matrix:function(e){return m(e),o(e.toArray().sort(s),e.storage())},"Array, function":function(e,t){return p(e),e.sort(t)},"Matrix, function":function(e,t){return m(e),o(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return p(e),e.sort(f(t))},"Matrix, string":function(e,t){return m(e),o(e.toArray().sort(f(t)),e.storage())}});function f(e){if("asc"===e)return s;if("desc"===e)return u;if("natural"===e)return l;throw new Error('String "asc", "desc", or "natural" expected')}function p(e){if(1!==n(e).length)throw new Error("One dimensional array expected")}function m(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}return c.toTex=void 0,c}},KwE1:function(e,t,r){"use strict";e.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},Kwa8:function(e,t,r){"use strict";e.exports=[r("9oyc")]},"L/+I":function(e,t,r){"use strict";t.name="csTdfs",t.path="algebra.sparse",t.factory=function(){return function(e,t,r,n,i,a,o){var s=0;for(r[o]=e;s>=0;){var u=r[o+s],l=r[n+u];-1===l?(s--,a[t++]=u):(r[n+u]=r[i+l],r[o+ ++s]=l)}return t}}},"L/Rn":function(e,t,r){"use strict";var n=r("1stm");t.name="sqrt",t.factory=function(e,t,r,i){var a=i("sqrt",{number:o,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():o(e.toNumber())},"Array | Matrix":function(e){return n(e,a,!0)},Unit:function(e){return e.pow(.5)}});function o(r){return isNaN(r)?NaN:r>=0||t.predictable?Math.sqrt(r):new e.Complex(r,0).sqrt()}return a.toTex={1:"\\sqrt{${args[0]}}"},a}},L2qZ:function(e,t,r){"use strict";var n=r("6XX6");t.name="compareNatural",t.factory=function(e,t,i,a){var o=i(r("uUDd")),s=i(r("xmOI")),u=s.signatures["boolean,boolean"],l=a("compareNatural",{"any, any":function(t,r){var i,a=o(t),f=o(r);if(!("number"!==a&&"BigNumber"!==a&&"Fraction"!==a||"number"!==f&&"BigNumber"!==f&&"Fraction"!==f))return"0"!==(i=s(t,r)).toString()?i>0?1:-1:n(a,f);if("Array"===a||"Matrix"===a||"Array"===f||"Matrix"===f)return 0!==(i=function t(r,n){return e.isSparseMatrix(r)&&e.isSparseMatrix(n)?c(r.toJSON().values,n.toJSON().values):e.isSparseMatrix(r)?t(r.toArray(),n):e.isSparseMatrix(n)?t(r,n.toArray()):e.isDenseMatrix(r)?t(r.toJSON().data,n):e.isDenseMatrix(n)?t(r,n.toJSON().data):Array.isArray(r)?Array.isArray(n)?c(r,n):t(r,[n]):t([r],n)}(t,r))?i:n(a,f);if(a!==f)return n(a,f);if("Complex"===a)return function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0}(t,r);if("Unit"===a)return t.equalBase(r)?l(t.value,r.value):c(t.formatUnits(),r.formatUnits());if("boolean"===a)return u(t,r);if("string"===a)return n(t,r);if("Object"===a)return function(e,t){var r=Object.keys(e),i=Object.keys(t);r.sort(n),i.sort(n);var a=c(r,i);if(0!==a)return a;for(var o=0;o<r.length;o++){var s=l(e[r[o]],t[i[o]]);if(0!==s)return s}return 0}(t,r);if("null"===a)return 0;if("undefined"===a)return 0;throw new TypeError('Unsupported type of value "'+a+'"')}});function c(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++){var i=l(e[r],t[r]);if(0!==i)return i}return e.length>t.length?1:e.length<t.length?-1:0}return l.toTex=void 0,l}},LDb2:function(e,t,r){"use strict";e.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},LHK7:function(e,t,r){"use strict";t.array=r("sTyi"),t.boolean=r("NJZR"),t.function=r("0dEn"),t.number=r("199F"),t.object=r("Z2I/"),t.string=r("PXUV"),t.emitter=r("JrXr")},LMCw:function(e,t,r){"use strict";e.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},LOwM:function(e,t,r){"use strict";e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():e.isNegative()?new r(-1):e.isFinite()?new r(0):new r(NaN)}},LPs6:function(e,t,r){"use strict";var n=r("1stm");t.name="boolean",t.factory=function(e,t,r,i){var a=i("bool",{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var r=Number(e);if(""!==e&&!isNaN(r))return!!r;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return n(e,a)}});return a}},LXOe:function(e,t,r){"use strict";var n=r("1stm");t.name="isPrime",t.factory=function(e,t,r,i){var a=i("isPrime",{number:function(e){if(e<2)return!1;if(2===e)return!0;if(e%2==0)return!1;for(var t=3;t*t<=e;t+=2)if(e%t==0)return!1;return!0},BigNumber:function(t){if(t.lt(2))return!1;if(t.equals(2))return!0;if(t.mod(2).isZero())return!1;for(var r=e.BigNumber(3);r.times(r).lte(t);r=r.plus(1))if(t.mod(r).isZero())return!1;return!0},"Array | Matrix":function(e){return n(e,a)}});return a}},LccJ:function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("p5NB");t.name="bitOr",t.factory=function(e,t,a,o){var s=r("bFQJ"),u=a(r("R4H5")),l=a(r("eX2I")),c=a(r("MqKi")),f=a(r("v+4T")),p=a(r("zbDx")),m=a(r("BLb5")),h=o("bitOr",{"number, number":function(e,t){if(!n(e)||!n(t))throw new Error("Integers expected in function bitOr");return e|t},"BigNumber, BigNumber":i,"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return l(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return l(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,h)},"Array, Array":function(e,t){return h(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return h(u(e),t)},"Matrix, Array":function(e,t){return h(e,u(t))},"SparseMatrix, any":function(e,t){return f(e,t,h,!1)},"DenseMatrix, any":function(e,t){return m(e,t,h,!1)},"any, SparseMatrix":function(e,t){return f(t,e,h,!0)},"any, DenseMatrix":function(e,t){return m(t,e,h,!0)},"Array, any":function(e,t){return m(u(e),t,h,!1).valueOf()},"any, Array":function(e,t){return m(u(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(s.operators.bitOr,"${args[1]}\\right)")},h}},"Lx+j":function(e,t,r){"use strict";var n=r("1stm");t.name="log2",t.factory=function(e,t,r,i){var a=i("log2",{number:function(r){return r>=0||t.predictable?Math.log2?Math.log2(r):Math.log(r)/Math.LN2:o(new e.Complex(r,0))},Complex:o,BigNumber:function(r){return!r.isNegative()||t.predictable?r.log(2):o(new e.Complex(r.toNumber(),0))},"Array | Matrix":function(e){return n(e,a)}});function o(t){var r=Math.sqrt(t.re*t.re+t.im*t.im);return new e.Complex(Math.log2?Math.log2(r):Math.log(r)/Math.LN2,Math.atan2(t.im,t.re)/Math.LN2)}return a.toTex="\\log_{2}\\left(${args[0]}\\right)",a}},Lz33:function(e,t,r){"use strict";var n=r("rpcZ"),i=n();t.factory=function(e,t,r,a,o){var s;function u(e){s=null===e?i:n(String(e))}return u(t.randomSeed),o.on("config",function(e,t,r){void 0!==r.randomSeed&&u(e.randomSeed)}),function(){return s()}},t.math=!0},Lzl2:function(e,t,r){"use strict";var n=r("Z2I/").clone,i=r("199F").isInteger;t.name="Index",t.path="type",t.factory=function(e){function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var i=0,a=arguments.length;i<a;i++){var o=arguments[i];if(e.isRange(o))this._dimensions.push(o),this._isScalar=!1;else if(Array.isArray(o)||e.isMatrix(o)){var s=r(o.valueOf());this._dimensions.push(s);var u=s.size();1===u.length&&1===u[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(r([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function r(t){for(var r=0,n=t.length;r<n;r++)if("number"!=typeof t[r]||!i(t[r]))throw new TypeError("Index parameters must be positive integer numbers");return new e.ImmutableDenseMatrix(t)}return t.prototype.type="Index",t.prototype.isIndex=!0,t.prototype.clone=function(){var e=new t;return e._dimensions=n(this._dimensions),e._isScalar=this._isScalar,e},t.create=function(e){var r=new t;return t.apply(r,e),r},t.prototype.size=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?1:n.size()[0]}return e},t.prototype.max=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.max()}return e},t.prototype.min=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.min()}return e},t.prototype.forEach=function(e){for(var t=0,r=this._dimensions.length;t<r;t++)e(this._dimensions[t],t,this)},t.prototype.dimension=function(e){return this._dimensions[e]||null},t.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},t.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},t.prototype.isScalar=function(){return this._isScalar},t.prototype.valueOf=t.prototype.toArray=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e.push("string"==typeof n?n:n.toArray())}return e},t.prototype.toString=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e.push("string"==typeof n?JSON.stringify(n):n.toString())}return"["+e.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},t.fromJSON=function(e){return t.create(e.dimensions)},t}},"M5+m":function(e,t,r){"use strict";var n=r("199F").isInteger;function i(e){return e.isInteger()&&e.gte(0)}t.name="permutations",t.factory=function(e,t,a,o){var s=a(r("E1be")),u=r("G+ok"),l=o("permutations",{"number | BigNumber":s,"number, number":function(e,t){if(!n(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!n(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return u(e-t+1,e)},"BigNumber, BigNumber":function(t,r){var n,a;if(!i(t)||!i(r))throw new TypeError("Positive integer value expected in function permutations");if(r.gt(t))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=new e.BigNumber(1),a=t.minus(r).plus(1);a.lte(t);a=a.plus(1))n=n.times(a);return n}});return l.toTex=void 0,l}},MGSk:function(e,t,r){"use strict";e.exports=[r("Mz+U"),r("Wn7N"),r("+6v0"),r("Fifl"),r("qAuR"),r("jxI5"),r("UsNm"),r("axAw"),r("Ydx7"),r("QVxT")]},"MI9+":function(e,t,r){"use strict";var n=r("1stm");t.name="bignumber",t.factory=function(e,t,r,i){var a=i("bignumber",{"":function(){return new e.BigNumber(0)},number:function(t){return new e.BigNumber(t+"")},string:function(t){return new e.BigNumber(t)},BigNumber:function(e){return e},Fraction:function(t){return new e.BigNumber(t.n).div(t.d).times(t.s)},null:function(t){return new e.BigNumber(0)},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={0:"0",1:"\\left(${args[0]}\\right)"},a}},MJRY:function(e,t,r){"use strict";e.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},MKmT:function(e,t,r){"use strict";var n=r("sTyi"),i=r("199F").isInteger;t.name="identity",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=o("identity",{"":function(){return"Matrix"===t.matrix?s([]):[]},string:function(e){return s(e)},"number | BigNumber":function(e){return c(e,e,"Matrix"===t.matrix?"default":void 0)},"number | BigNumber, string":function(e,t){return c(e,e,t)},"number | BigNumber, number | BigNumber":function(e,r){return c(e,r,"Matrix"===t.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,r){return c(e,t,r)},Array:function(e){return l(e)},"Array, string":function(e,t){return l(e,t)},Matrix:function(e){return l(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return l(e.valueOf(),t)}});return u.toTex=void 0,u;function l(e,t){switch(e.length){case 0:return t?s(t):[];case 1:return c(e[0],e[0],t);case 2:return c(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function c(t,r,a){var o=e.isBigNumber(t)||e.isBigNumber(r)?e.BigNumber:null;if(e.isBigNumber(t)&&(t=t.toNumber()),e.isBigNumber(r)&&(r=r.toNumber()),!i(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!i(r)||r<1)throw new Error("Parameters in function identity must be positive integers");var s=o?new e.BigNumber(1):1,u=o?new o(0):0,l=[t,r];if(a)return e.Matrix.storage(a).diagonal(l,s,0,u);for(var c=n.resize([],l,u),f=t<r?t:r,p=0;p<f;p++)c[p][p]=s;return c}}},MQmO:function(e,t,r){"use strict";e.exports={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}},MUdo:function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r("ESPO"),a=r("1stm");t.name="parse",t.path="expression",t.factory=function(e,t,o,s){var u=o(r("7lEX")),l=o(r("Ii65")),c=o(r("v0wB")),f=o(r("uxtw")),p=o(r("l41f")),m=o(r("35fj")),h=o(r("kip4")),d=o(r("p2yA")),v=o(r("AGIY")),g=o(r("RYjE")),b=o(r("ut+i")),y=o(r("+6pz")),x=o(r("Z+Vt")),w=o(r("uPaw")),M=o(r("Dnvl")),N=o(r("FX2d"));function _(t,r){if(1!==arguments.length&&2!==arguments.length)throw new i("parse",arguments.length,1,2);var n=r&&r.nodes?r.nodes:{};if("string"==typeof t)return R(t,n);if(Array.isArray(t)||t instanceof e.Matrix)return a(t,function(e){if("string"!=typeof e)throw new TypeError("String expected");return R(e,n)});throw new TypeError("String or matrix expected")}var A={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},E={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},S={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},k={true:!0,false:!1,null:null,undefined:void 0},O=["NaN","Infinity"];function C(e,t){return e.expression.substr(e.index,t)}function L(e){return C(e,1)}function T(e){e.index++}function P(e){return e.expression.charAt(e.index-1)}function I(e){return e.expression.charAt(e.index+1)}function z(e){for(e.tokenType=A.NULL,e.token="",e.comment="";_.isWhitespace(L(e),e.nestingLevel);)T(e);if("#"===L(e))for(;"\n"!==L(e)&&""!==L(e);)e.comment+=L(e),T(e);if(""!==L(e)){if("\n"===L(e)&&!e.nestingLevel)return e.tokenType=A.DELIMITER,e.token=L(e),void T(e);var t=L(e),r=C(e,2),n=C(e,3);if(3===n.length&&E[n])return e.tokenType=A.DELIMITER,e.token=n,T(e),T(e),void T(e);if(2===r.length&&E[r])return e.tokenType=A.DELIMITER,e.token=r,T(e),void T(e);if(E[t])return e.tokenType=A.DELIMITER,e.token=t,void T(e);if(_.isDigitDot(t)){if(e.tokenType=A.NUMBER,"."===L(e))e.token+=L(e),T(e),_.isDigit(L(e))||(e.tokenType=A.DELIMITER);else{for(;_.isDigit(L(e));)e.token+=L(e),T(e);_.isDecimalMark(L(e),I(e))&&(e.token+=L(e),T(e))}for(;_.isDigit(L(e));)e.token+=L(e),T(e);if("E"===L(e)||"e"===L(e))if(_.isDigit(I(e))||"-"===I(e)||"+"===I(e)){if(e.token+=L(e),T(e),"+"!==L(e)&&"-"!==L(e)||(e.token+=L(e),T(e)),!_.isDigit(L(e)))throw oe(e,'Digit expected, got "'+L(e)+'"');for(;_.isDigit(L(e));)e.token+=L(e),T(e);if(_.isDecimalMark(L(e),I(e)))throw oe(e,'Digit expected, got "'+L(e)+'"')}else if("."===I(e))throw T(e),oe(e,'Digit expected, got "'+L(e)+'"')}else{if(!_.isAlpha(L(e),P(e),I(e))){for(e.tokenType=A.UNKNOWN;""!==L(e);)e.token+=L(e),T(e);throw oe(e,'Syntax error in part "'+e.token+'"')}for(;_.isAlpha(L(e),P(e),I(e))||_.isDigit(L(e));)e.token+=L(e),T(e);e.tokenType=S.hasOwnProperty(e.token)?A.DELIMITER:A.SYMBOL}}else e.tokenType=A.DELIMITER}function B(e){do{z(e)}while("\n"===e.token)}function j(e){e.nestingLevel++}function F(e){e.nestingLevel--}function R(e,t){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:A.NULL,nestingLevel:0,conditionalLevel:null};n(r,{expression:e,extraNodes:t}),z(r);var i=function(e){var t,r=[];for(""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=D(e)).comment=e.comment);"\n"===e.token||";"===e.token;)0===r.length&&t&&r.push({node:t,visible:";"!==e.token}),z(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=D(e)).comment=e.comment,r.push({node:t,visible:";"!==e.token}));return r.length>0?new p(r):(t||((t=new h(void 0)).comment=e.comment),t)}(r);if(""!==r.token)throw r.tokenType===A.DELIMITER?se(r,"Unexpected operator "+r.token):oe(r,'Unexpected part "'+r.token+'"');return i}function D(t){var r,n,i,a,o=function(e){for(var t=function(e){for(var t=q(e);"or"===e.token;)B(e),t=new b("or","or",[t,q(e)]);return t}(e);"?"===e.token;){var r=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,B(e);var n=t,i=D(e);if(":"!==e.token)throw oe(e,"False part of conditional expression expected");e.conditionalLevel=null,B(e);var a=D(e);t=new m(n,i,a),e.conditionalLevel=r}return t}(t);if("="===t.token){if(e.isSymbolNode(o))return r=o.name,B(t),i=D(t),new f(new N(r),i);if(e.isAccessorNode(o))return B(t),i=D(t),new f(o.object,o.index,i);if(e.isFunctionNode(o)&&e.isSymbolNode(o.fn)&&(a=!0,n=[],r=o.name,o.args.forEach(function(t,r){e.isSymbolNode(t)?n[r]=t.name:a=!1}),a))return B(t),i=D(t),new d(r,n,i);throw oe(t,"Invalid left hand side of assignment operator =")}return o}function q(e){for(var t=V(e);"xor"===e.token;)B(e),t=new b("xor","xor",[t,V(e)]);return t}function V(e){for(var t=X(e);"and"===e.token;)B(e),t=new b("and","and",[t,X(e)]);return t}function X(e){for(var t=U(e);"|"===e.token;)B(e),t=new b("|","bitOr",[t,U(e)]);return t}function U(e){for(var t=G(e);"^|"===e.token;)B(e),t=new b("^|","bitXor",[t,G(e)]);return t}function G(e){for(var t=H(e);"&"===e.token;)B(e),t=new b("&","bitAnd",[t,H(e)]);return t}function H(e){for(var t=[Y(e)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};n.hasOwnProperty(e.token);)r.push({name:e.token,fn:n[e.token]}),B(e),t.push(Y(e));return 1===t.length?t[0]:2===t.length?new b(r[0].name,r[0].fn,t):new M(r.map(function(e){return e.fn}),t)}function Y(e){var t,r,n,i,a;for(t=Z(e),r={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};r.hasOwnProperty(e.token);)i=r[n=e.token],B(e),a=[t,Z(e)],t=new b(n,i,a);return t}function Z(e){var t,r,n,i,a;for(t=J(e),r={to:"to",in:"to"};r.hasOwnProperty(e.token);)i=r[n=e.token],B(e),"in"===n&&""===e.token?t=new b("*","multiply",[t,new N("in")],!0):(a=[t,J(e)],t=new b(n,i,a));return t}function J(e){var t,r=[];if(t=":"===e.token?new h(1):K(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(r.push(t);":"===e.token&&r.length<3;)B(e),r.push(")"===e.token||"]"===e.token||","===e.token||""===e.token?new N("end"):K(e));t=3===r.length?new w(r[0],r[2],r[1]):new w(r[0],r[1])}return t}function K(e){var t,r,n,i,a;for(t=W(e),r={"+":"add","-":"subtract"};r.hasOwnProperty(e.token);)i=r[n=e.token],B(e),a=[t,W(e)],t=new b(n,i,a);return t}function W(e){var t,r,n,i,a;for(r=t=Q(e),n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};n.hasOwnProperty(e.token);)a=n[i=e.token],B(e),r=Q(e),t=new b(i,a,[t,r]);return t}function Q(t){var r,n;for(n=r=$(t);t.tokenType===A.SYMBOL||"in"===t.token&&e.isConstantNode(r)||!(t.tokenType!==A.NUMBER||e.isConstantNode(n)||e.isOperatorNode(n)&&"!"!==n.op)||"("===t.token;)n=$(t),r=new b("*","multiply",[r,n],!0);return r}function $(t){for(var r=ee(t),i=r,a=[];"/"===t.token&&e.isConstantNode(i);){if(a.push(n({},t)),B(t),t.tokenType!==A.NUMBER){n(t,a.pop());break}if(a.push(n({},t)),B(t),t.tokenType!==A.SYMBOL&&"("!==t.token){a.pop(),n(t,a.pop());break}n(t,a.pop()),a.pop(),i=ee(t),r=new b("/","divide",[r,i])}return r}function ee(e){var r,n,i,a={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return a.hasOwnProperty(e.token)?(i=a[e.token],r=e.token,B(e),n=[ee(e)],new b(r,i,n)):function(e){var r,n,i,a;return r=function(e){var r,n,i,a;for(r=function(e){var r=[];if(e.tokenType===A.SYMBOL&&e.extraNodes.hasOwnProperty(e.token)){var n=e.extraNodes[e.token];if(z(e),"("===e.token){if(r=[],j(e),z(e),")"!==e.token)for(r.push(D(e));","===e.token;)z(e),r.push(D(e));if(")"!==e.token)throw oe(e,"Parenthesis ) expected");F(e),z(e)}return new n(r)}return function(e){var r;return e.tokenType===A.SYMBOL||e.tokenType===A.DELIMITER&&e.token in S?(r=e.token,z(e),te(e,k.hasOwnProperty(r)?new h(k[r]):-1!==O.indexOf(r)?new h(u(r,"number")):new N(r))):function(e){var r;return'"'===e.token?(r=re(e),te(e,new h(r))):function(e){var r;return"'"===e.token?(r=ne(e),te(e,new h(r))):function(e){var r,n,i,a;if("["===e.token){if(j(e),z(e),"]"!==e.token){var o=ie(e);if(";"===e.token){for(i=1,n=[o];";"===e.token;)z(e),n[i]=ie(e),i++;if("]"!==e.token)throw oe(e,"End of matrix ] expected");F(e),z(e),a=n[0].items.length;for(var s=1;s<i;s++)if(n[s].items.length!==a)throw se(e,"Column dimensions mismatch ("+n[s].items.length+" !== "+a+")");r=new c(n)}else{if("]"!==e.token)throw oe(e,"End of matrix ] expected");F(e),z(e),r=o}}else F(e),z(e),r=new c([]);return te(e,r)}return function(e){if("{"===e.token){var r;j(e);var n={};do{if(z(e),"}"!==e.token){if('"'===e.token)r=re(e);else if("'"===e.token)r=ne(e);else{if(e.tokenType!==A.SYMBOL)throw oe(e,"Symbol or string expected as object key");r=e.token,z(e)}if(":"!==e.token)throw oe(e,"Colon : expected after object key");z(e),n[r]=D(e)}}while(","===e.token);if("}"!==e.token)throw oe(e,"Comma , or bracket } expected after object value");return F(e),z(e),te(e,new g(n))}return function(e){var r;return e.tokenType===A.NUMBER?(r=e.token,z(e),new h(u(r,t.number))):function(e){var t;if("("===e.token){if(j(e),z(e),t=D(e),")"!==e.token)throw oe(e,"Parenthesis ) expected");return F(e),z(e),te(e,t=new y(t))}return function(e){throw oe(e,""===e.token?"Unexpected end of expression":"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e),n={"!":"factorial","'":"ctranspose"};n.hasOwnProperty(e.token);)a=n[i=e.token],z(e),r=te(e,r=new b(i,a,[r]));return r}(e),("^"===e.token||".^"===e.token)&&(i="^"===(n=e.token)?"pow":"dotPow",B(e),a=[r,ee(e)],r=new b(n,i,a)),r}(e)}function te(t,r,n){for(var i;!("("!==t.token&&"["!==t.token&&"."!==t.token||n&&-1===n.indexOf(t.token));)if(i=[],"("===t.token){if(!e.isSymbolNode(r)&&!e.isAccessorNode(r))return r;if(j(t),z(t),")"!==t.token)for(i.push(D(t));","===t.token;)z(t),i.push(D(t));if(")"!==t.token)throw oe(t,"Parenthesis ) expected");F(t),z(t),r=new x(r,i)}else if("["===t.token){if(j(t),z(t),"]"!==t.token)for(i.push(D(t));","===t.token;)z(t),i.push(D(t));if("]"!==t.token)throw oe(t,"Parenthesis ] expected");F(t),z(t),r=new l(r,new v(i))}else{if(z(t),t.tokenType!==A.SYMBOL)throw oe(t,"Property name expected after dot");i.push(new h(t.token)),z(t),r=new l(r,new v(i,!0))}return r}function re(e){for(var t="";""!==L(e)&&'"'!==L(e);)"\\"===L(e)&&(t+=L(e),T(e)),t+=L(e),T(e);if(z(e),'"'!==e.token)throw oe(e,'End of string " expected');return z(e),JSON.parse('"'+t+'"')}function ne(e){for(var t="";""!==L(e)&&"'"!==L(e);)"\\"===L(e)&&(t+=L(e),T(e)),t+=L(e),T(e);if(z(e),"'"!==e.token)throw oe(e,"End of string ' expected");return z(e),JSON.parse('"'+t+'"')}function ie(e){for(var t=[D(e)],r=1;","===e.token;)z(e),t[r]=D(e),r++;return new c(t)}function ae(e){return e.index-e.token.length+1}function oe(e,t){var r=ae(e),n=new SyntaxError(t+" (char "+r+")");return n.char=r,n}function se(e,t){var r=ae(e),n=new SyntaxError(t+" (char "+r+")");return n.char=r,n}return _.isAlpha=function(e,t,r){return _.isValidLatinOrGreek(e)||_.isValidMathSymbol(e,r)||_.isValidMathSymbol(t,e)},_.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},_.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},_.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},_.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},_.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},_.isDigit=function(e){return e>="0"&&e<="9"},_}},MjoH:function(e,t,r){"use strict";e.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},MqKi:function(e,t,r){"use strict";var n=r("X8kj");t.name="algorithm04",t.factory=function(e,t,i,a){var o=i(r("hj6K")),s=e.SparseMatrix;return function(e,t,r){var i=e._values,u=e._index,l=e._ptr,c=e._size,f=e._datatype,p=t._values,m=t._index,h=t._ptr,d=t._size,v=t._datatype;if(c.length!==d.length)throw new n(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var g,b=c[0],y=c[1],x=o,w=0,M=r;"string"==typeof f&&f===v&&(x=a.find(o,[g=f,g]),w=a.convert(0,g),M=a.find(r,[g,g]));var N,_,A,E,S=i&&p?[]:void 0,k=[],O=[],C=new s({values:S,index:k,ptr:O,size:[b,y],datatype:g}),L=i&&p?[]:void 0,T=i&&p?[]:void 0,P=[],I=[];for(_=0;_<y;_++){O[_]=k.length;var z=_+1;for(E=l[_+1],A=l[_];A<E;A++)k.push(N=u[A]),P[N]=z,L&&(L[N]=i[A]);for(E=h[_+1],A=h[_];A<E;A++)if(P[N=m[A]]===z){if(L){var B=M(L[N],p[A]);x(B,w)?P[N]=null:L[N]=B}}else k.push(N),I[N]=z,T&&(T[N]=p[A]);if(L&&T)for(A=O[_];A<k.length;)P[N=k[A]]===z?(S[A]=L[N],A++):I[N]===z?(S[A]=T[N],A++):k.splice(A,1)}return O[y]=k.length,C}}},Mu6R:function(e,t,r){"use strict";e.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},Mxz7:function(e,t,r){"use strict";e.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},"Mz+U":function(e,t,r){"use strict";var n=r("sTyi").flatten;t.name="setCartesian",t.factory=function(e,t,i,a){var o=i(r("Lzl2")),s=i(r("ZS3Q")),u=i(r("v7fr")),l=i(r("Wail")),c=i(r("L2qZ"));return a("setCartesian",{"Array | Matrix, Array | Matrix":function(e,t){var r=[];if(0!==l(u(e),new o(0))&&0!==l(u(t),new o(0))){var i=n(Array.isArray(e)?e:e.toArray()).sort(c),a=n(Array.isArray(t)?t:t.toArray()).sort(c);r=[];for(var f=0;f<i.length;f++)for(var p=0;p<a.length;p++)r.push([i[f],a[p]])}return Array.isArray(e)&&Array.isArray(t)?r:new s(r)}})}},N5iU:function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("199F").toFixed,a=r("1stm"),o="Number of decimals in function round must be an integer";function s(e,t){return parseFloat(i(e,t))}t.name="round",t.factory=function(e,t,i,u){var l=i(r("R4H5")),c=i(r("hj6K")),f=i(r("9a6t")),p=i(r("nr1U")),m=i(r("/z5F")),h=i(r("BLb5")),d=u("round",{number:function(e){return s(e,0)},"number, number":function(e,t){if(!n(t))throw new TypeError(o);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return s(e,t)},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(o);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(o);var r=t.toNumber();return e.round(r)},"number, BigNumber":function(t,r){if(!r.isInteger())throw new TypeError(o);return new e.BigNumber(t).toDecimalPlaces(r.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(o);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(o);return e.round(t)},"Array | Matrix":function(e){return a(e,d,!0)},"SparseMatrix, number | BigNumber":function(e,t){return p(e,t,d,!1)},"DenseMatrix, number | BigNumber":function(e,t){return h(e,t,d,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return c(e,0)?f(t.size(),t.storage()):m(t,e,d,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return c(e,0)?f(t.size(),t.storage()):h(t,e,d,!0)},"Array, number | BigNumber":function(e,t){return h(l(e),t,d,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return h(l(t),e,d,!0).valueOf()}});return d.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},d}},NEdZ:function(e,t,r){"use strict";var n=r("Z2I/").extend;t.name="add",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=i(r("XXst")),u=r("bFQJ"),l=i(r("eX2I")),c=i(r("MqKi")),f=i(r("v+4T")),p=i(r("zbDx")),m=i(r("BLb5")),h=a("add",n({"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,s)},"DenseMatrix, SparseMatrix":function(e,t){return l(e,t,s,!1)},"SparseMatrix, DenseMatrix":function(e,t){return l(t,e,s,!0)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,s)},"Array, Array":function(e,t){return h(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return h(o(e),t)},"Matrix, Array":function(e,t){return h(e,o(t))},"DenseMatrix, any":function(e,t){return m(e,t,s,!1)},"SparseMatrix, any":function(e,t){return f(e,t,s,!1)},"any, DenseMatrix":function(e,t){return m(t,e,s,!0)},"any, SparseMatrix":function(e,t){return f(t,e,s,!0)},"Array, any":function(e,t){return m(o(e),t,s,!1).valueOf()},"any, Array":function(e,t){return m(o(t),e,s,!0).valueOf()},"any, any":s,"any, any, ...any":function(e,t,r){for(var n=h(e,t),i=0;i<r.length;i++)n=h(n,r[i]);return n}},s.signatures));return h.toTex={2:"\\left(${args[0]}".concat(u.operators.add,"${args[1]}\\right)")},h}},NJZR:function(e,t,r){"use strict";t.isBoolean=function(e){return"boolean"==typeof e}},NTJZ:function(e,t,r){"use strict";e.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]}},"NU+P":function(e,t,r){"use strict";var n=r("Z2I/").extend,i=r("sTyi");t.name="multiply",t.factory=function(e,t,a,o){var s=r("bFQJ"),u=a(r("R4H5")),l=a(r("XXst")),c=a(r("oiZ2")),f=a(r("hj6K")),p=a(r("nr1U")),m=a(r("BLb5")),h=e.DenseMatrix,d=e.SparseMatrix,v=o("multiply",n({"Array, Array":function(t,r){g(i.size(t),i.size(r));var n=v(u(t),u(r));return e.isMatrix(n)?n.valueOf():n},"Matrix, Matrix":function(e,t){var r=e.size(),n=t.size();return g(r,n),1===r.length?1===n.length?function(e,t,r){if(0===r)throw new Error("Cannot multiply two empty vectors");var n,i=e._data,a=e._datatype,s=t._data,u=t._datatype,f=l,p=c;a&&u&&a===u&&"string"==typeof a&&(f=o.find(l,[n=a,n]),p=o.find(c,[n,n]));for(var m=p(i[0],s[0]),h=1;h<r;h++)m=f(m,p(i[h],s[h]));return m}(e,t,r[0]):function(e,t){if("dense"!==t.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,t){var r,n=e._data,i=e._datatype,a=t._data,s=t._datatype,u=e._size[0],f=t._size[1],p=l,m=c;i&&s&&i===s&&"string"==typeof i&&(p=o.find(l,[r=i,r]),m=o.find(c,[r,r]));for(var d=[],v=0;v<f;v++){for(var g=m(n[0],a[0][v]),b=1;b<u;b++)g=p(g,m(n[b],a[b][v]));d[v]=g}return new h({data:d,size:[f],datatype:r})}(e,t)}(e,t):1===n.length?b(e,t):y(e,t)},"Matrix, Array":function(e,t){return v(e,u(t))},"Array, Matrix":function(e,t){return v(u(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return p(e,t,c,!1)},"DenseMatrix, any":function(e,t){return m(e,t,c,!1)},"any, SparseMatrix":function(e,t){return p(t,e,c,!0)},"any, DenseMatrix":function(e,t){return m(t,e,c,!0)},"Array, any":function(e,t){return m(u(e),t,c,!1).valueOf()},"any, Array":function(e,t){return m(u(t),e,c,!0).valueOf()},"any, any":c,"any, any, ...any":function(e,t,r){for(var n=v(e,t),i=0;i<r.length;i++)n=v(n,r[i]);return n}},c.signatures));function g(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}var b=o("_multiplyMatrixVector",{"DenseMatrix, any":function(e,t){var r,n=e._data,i=e._size,a=e._datatype,s=t._data,u=t._datatype,f=i[0],p=i[1],m=l,d=c;a&&u&&a===u&&"string"==typeof a&&(m=o.find(l,[r=a,r]),d=o.find(c,[r,r]));for(var v=[],g=0;g<f;g++){for(var b=n[g],y=d(b[0],s[0]),x=1;x<p;x++)y=m(y,d(b[x],s[x]));v[g]=y}return new h({data:v,size:[f],datatype:r})},"SparseMatrix, any":function(e,t){var r=e._values,n=e._index,i=e._ptr,a=e._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=t._data,p=t._datatype,m=e._size[0],h=t._size[0],v=[],g=[],b=[],y=l,x=c,w=f,M=0;a&&p&&a===p&&"string"==typeof a&&(y=o.find(l,[s=a,s]),x=o.find(c,[s,s]),w=o.find(f,[s,s]),M=o.convert(0,s));var N=[],_=[];b[0]=0;for(var A=0;A<h;A++){var E=u[A];if(!w(E,M))for(var S=i[A+1],k=i[A];k<S;k++){var O=n[k];_[O]?N[O]=y(N[O],x(E,r[k])):(_[O]=!0,g.push(O),N[O]=x(E,r[k]))}}for(var C=g.length,L=0;L<C;L++)v[L]=N[g[L]];return b[1]=g.length,new d({values:v,index:g,ptr:b,size:[m,1],datatype:s})}}),y=o("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,t){var r,n=e._data,i=e._size,a=e._datatype,s=t._data,u=t._datatype,f=i[0],p=i[1],m=t._size[1],d=l,v=c;a&&u&&a===u&&"string"==typeof a&&(d=o.find(l,[r=a,r]),v=o.find(c,[r,r]));for(var g=[],b=0;b<f;b++){var y=n[b];g[b]=[];for(var x=0;x<m;x++){for(var w=v(y[0],s[0][x]),M=1;M<p;M++)w=d(w,v(y[M],s[M][x]));g[b][x]=w}}return new h({data:g,size:[f,m],datatype:r})},"DenseMatrix, SparseMatrix":function(e,t){var r=e._data,n=e._size,i=e._datatype,a=t._values,s=t._index,u=t._ptr,p=t._size,m=t._datatype;if(!a)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var h,v=n[0],g=p[1],b=l,y=c,x=f,w=0;i&&m&&i===m&&"string"==typeof i&&(b=o.find(l,[h=i,h]),y=o.find(c,[h,h]),x=o.find(f,[h,h]),w=o.convert(0,h));for(var M=[],N=[],_=[],A=new d({values:M,index:N,ptr:_,size:[v,g],datatype:h}),E=0;E<g;E++){_[E]=N.length;var S=u[E],k=u[E+1];if(k>S)for(var O=0,C=0;C<v;C++){for(var L=C+1,T=void 0,P=S;P<k;P++){var I=s[P];O!==L?(T=y(r[C][I],a[P]),O=L):T=b(T,y(r[C][I],a[P]))}O!==L||x(T,w)||(N.push(C),M.push(T))}}return _[g]=N.length,A},"SparseMatrix, DenseMatrix":function(e,t){var r=e._values,n=e._index,i=e._ptr,a=e._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=t._data,p=t._datatype,m=e._size[0],h=t._size[0],v=t._size[1],g=l,b=c,y=f,x=0;a&&p&&a===p&&"string"==typeof a&&(g=o.find(l,[s=a,s]),b=o.find(c,[s,s]),y=o.find(f,[s,s]),x=o.convert(0,s));for(var w=[],M=[],N=[],_=new d({values:w,index:M,ptr:N,size:[m,v],datatype:s}),A=[],E=[],S=0;S<v;S++){N[S]=M.length;for(var k=S+1,O=0;O<h;O++){var C=u[O][S];if(!y(C,x))for(var L=i[O+1],T=i[O];T<L;T++){var P=n[T];E[P]!==k?(E[P]=k,M.push(P),A[P]=b(C,r[T])):A[P]=g(A[P],b(C,r[T]))}}for(var I=M.length,z=N[S];z<I;z++)w[z]=A[M[z]]}return N[v]=M.length,_},"SparseMatrix, SparseMatrix":function(e,t){var r,n=e._values,i=e._index,a=e._ptr,s=e._datatype,u=t._values,f=t._index,p=t._ptr,m=t._datatype,h=e._size[0],v=t._size[1],g=n&&u,b=l,y=c;s&&m&&s===m&&"string"==typeof s&&(b=o.find(l,[r=s,r]),y=o.find(c,[r,r]));for(var x,w,M,N,_,A,E=g?[]:void 0,S=[],k=[],O=new d({values:E,index:S,ptr:k,size:[h,v],datatype:r}),C=g?[]:void 0,L=[],T=0;T<v;T++){k[T]=S.length;var P=T+1;for(N=p[T+1],M=p[T];M<N;M++)if(A=f[M],g)for(w=a[A+1],x=a[A];x<w;x++)L[_=i[x]]!==P?(L[_]=P,S.push(_),C[_]=y(u[M],n[x])):C[_]=b(C[_],y(u[M],n[x]));else for(w=a[A+1],x=a[A];x<w;x++)L[_=i[x]]!==P&&(L[_]=P,S.push(_));if(g)for(var I=S.length,z=k[T];z<I;z++)E[z]=C[S[z]]}return k[v]=S.length,O}});return v.toTex={2:"\\left(${args[0]}".concat(s.operators.multiply,"${args[1]}\\right)")},v}},NVV3:function(e,t,r){"use strict";var n=r("1stm");t.name="asinh",t.factory=function(e,t,r,i){var a=i("asinh",{number:Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return n(e,a,!0)}});return a.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},a}},Nd6k:function(e,t,r){"use strict";var n=r("X8kj"),i=r("ESPO"),a=r("199F").isInteger,o=r("PXUV").format,s=r("Z2I/").clone,u=r("sTyi");t.name="resize",t.factory=function(e,t,l,c){var f=l(r("R4H5")),p=function(r,n,a){if(2!==arguments.length&&3!==arguments.length)throw new i("resize",arguments.length,2,3);if(e.isMatrix(n)&&(n=n.valueOf()),e.isBigNumber(n[0])&&(n=n.map(function(t){return e.isBigNumber(t)?t.toNumber():t})),e.isMatrix(r))return r.resize(n,a,!0);if("string"==typeof r)return m(r,n,a);var o=!Array.isArray(r)&&"Array"!==t.matrix;if(0===n.length){for(;Array.isArray(r);)r=r[0];return s(r)}Array.isArray(r)||(r=[r]),r=s(r);var l=u.resize(r,n,a);return o?f(l):l};return p.toTex=void 0,p;function m(e,t,r){if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";if(1!==t.length)throw new n(t.length,1);var i=t[0];if("number"!=typeof i||!a(i))throw new TypeError("Invalid size, must contain positive integers (size: "+o(t)+")");if(e.length>i)return e.substring(0,i);if(e.length<i){for(var s=e,u=0,l=i-e.length;u<l;u++)s+=r;return s}return e}}},Nlbo:function(e,t,r){"use strict";var n=r("1stm"),i=Math.cbrt||function(e){if(0===e)return e;var t,r=e<0;return r&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,r?-t:t};t.name="cbrt",t.factory=function(e,t,a,o){var s=a(r("7DiD")),u=a(r("mtzS")),l=a(r("R4H5")),c=o("cbrt",{number:i,Complex:f,"Complex, boolean":f,BigNumber:function(e){return e.cbrt()},Unit:function(t){if(t.value&&e.isComplex(t.value)){var r=t.clone();return r.value=1,(r=r.pow(1/3)).value=f(t.value),r}var n,i=u(t.value);i&&(t.value=s(t.value)),n=e.isBigNumber(t.value)?new e.BigNumber(1).div(3):e.isFraction(t.value)?new e.Fraction(1,3):1/3;var a=t.pow(n);return i&&(a.value=s(a.value)),a},"Array | Matrix":function(e){return n(e,c,!0)}});function f(r,n){var a=r.arg()/3,o=r.abs(),s=new e.Complex(i(o),0).mul(new e.Complex(0,a).exp());if(n){var u=[s,new e.Complex(i(o),0).mul(new e.Complex(0,a+2*Math.PI/3).exp()),new e.Complex(i(o),0).mul(new e.Complex(0,a-2*Math.PI/3).exp())];return"Array"===t.matrix?u:l(u)}return s}return c.toTex={1:"\\sqrt[3]{${args[0]}}"},c}},NpUC:function(e,t,r){"use strict";e.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},Nsef:function(e,t,r){"use strict";t.name="and",t.factory=function(e,t,n,i){var a=r("bFQJ"),o=n(r("R4H5")),s=n(r("9a6t")),u=n(r("BdOc")),l=n(r("4fwU")),c=n(r("1d6v")),f=n(r("nr1U")),p=n(r("zbDx")),m=n(r("BLb5")),h=i("and",{"number, number":function(e,t){return!(!e||!t)},"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return h(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return l(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return l(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,h)},"Array, Array":function(e,t){return h(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return h(o(e),t)},"Matrix, Array":function(e,t){return h(e,o(t))},"SparseMatrix, any":function(e,t){return u(t)?s(e.size(),e.storage()):f(e,t,h,!1)},"DenseMatrix, any":function(e,t){return u(t)?s(e.size(),e.storage()):m(e,t,h,!1)},"any, SparseMatrix":function(e,t){return u(e)?s(e.size(),e.storage()):f(t,e,h,!0)},"any, DenseMatrix":function(e,t){return u(e)?s(e.size(),e.storage()):m(t,e,h,!0)},"Array, any":function(e,t){return h(o(e),t).valueOf()},"any, Array":function(e,t){return h(e,o(t)).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(a.operators.and,"${args[1]}\\right)")},h}},O1N0:function(e,t,r){"use strict";var n=r("X8kj");function i(e,t){var r=e.size(),i=t.size();if(r.length!==i.length)throw new n(r.length,i.length)}t.name="subtract",t.factory=function(e,t,n,a){var o=r("bFQJ"),s=n(r("R4H5")),u=n(r("XXst")),l=n(r("7DiD")),c=n(r("eX2I")),f=n(r("hYuG")),p=n(r("ZXMR")),m=n(r("v+4T")),h=n(r("zbDx")),d=n(r("BLb5")),v=a("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=v(r.value,t.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(e,t){return i(e,t),p(e,t,v)},"SparseMatrix, DenseMatrix":function(e,t){return i(e,t),f(t,e,v,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t),c(e,t,v,!1)},"DenseMatrix, DenseMatrix":function(e,t){return i(e,t),h(e,t,v)},"Array, Array":function(e,t){return v(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return v(s(e),t)},"Matrix, Array":function(e,t){return v(e,s(t))},"SparseMatrix, any":function(e,t){return m(e,l(t),u)},"DenseMatrix, any":function(e,t){return d(e,t,v)},"any, SparseMatrix":function(e,t){return m(t,e,v,!0)},"any, DenseMatrix":function(e,t){return d(t,e,v,!0)},"Array, any":function(e,t){return d(s(e),t,v,!1).valueOf()},"any, Array":function(e,t){return d(s(t),e,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}".concat(o.operators.subtract,"${args[1]}\\right)")},v}},ODff:function(e,t,r){"use strict";e.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},OEqT:function(e,t,r){"use strict";e.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},Oec2:function(e,t,r){"use strict";t.name="hasNumericValue",t.factory=function(e,t,n,i){var a=n(r("0FyF"));return i("hasNumericValue",{string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return a(e)}})}},Opoe:function(e,t,r){"use strict";e.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},Oufz:function(e,t,r){"use strict";e.exports={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]}},P04q:function(e,t,r){"use strict";var n=r("1stm");t.name="unit",t.factory=function(e,t,r,i){var a=i("unit",{Unit:function(e){return e.clone()},string:function(t){return e.Unit.isValuelessUnit(t)?new e.Unit(null,t):e.Unit.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,r){return new e.Unit(t,r)},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},a}},P8yy:function(e,t,r){"use strict";t.name="derivative",t.factory=function(e,t,n,i){var a=n(r("MUdo")),o=n(r("RSth")),s=n(r("uvCz")),u=n(r("6F5Y")),l=n(r("uUDd")),c=n(r("7lEX")),f=n(r("kip4")),p=n(r("Z+Vt")),m=n(r("ut+i")),h=n(r("+6pz")),d=n(r("FX2d")),v=i("derivative",{"Node, SymbolNode, Object":function(e,t,r){var n={};b(n,e,t.name);var i=y(e,n);return r.simplify?o(i):i},"Node, SymbolNode":function(e,t){return v(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return v(a(e),t)},"string, SymbolNode, Object":function(e,t,r){return v(a(e),t,r)},"string, string":function(e,t){return v(a(e),a(t))},"string, string, Object":function(e,t,r){return v(a(e),a(t),r)},"Node, string":function(e,t){return v(e,a(t))},"Node, string, Object":function(e,t,r){return v(e,a(t),r)}});v._simplify=!0,v.toTex=function(e){return g.apply(null,e.args)};var g=i("_derivTex",{"Node, SymbolNode":function(t,r){return e.isConstantNode(t)&&"string"===l(t.value)?g(a(t.value).toString(),r.toString(),1):g(t.toString(),r.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===l(t.value))return g(e,a(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,r){return g(e.toString(),t.name,r.value)},"string, string, number":function(e,t,r){return(1===r?"{d\\over d"+t+"}":"{d^{"+r+"}\\over d"+t+"^{"+r+"}}")+"\\left[".concat(e,"\\right]")}}),b=i("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,r){return t.name!==r&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,r){return b(e,t.content,r)},"Object, FunctionAssignmentNode, string":function(e,t,r){return-1===t.params.indexOf(r)?(e[t]=!0,!0):b(e,t.expr,r)},"Object, FunctionNode | OperatorNode, string":function(e,t,r){if(t.args.length>0){for(var n=b(e,t.args[0],r),i=1;i<t.args.length;++i)n=b(e,t.args[i],r)&&n;if(n)return e[t]=!0,!0}return!1}}),y=i("_derivative",{"ConstantNode, Object":function(e){return x(0)},"SymbolNode, Object":function(e,t){return x(void 0!==t[e]?0:1)},"ParenthesisNode, Object":function(e,t){return new h(y(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?x(0):y(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if("log"!==e.name&&"nthRoot"!==e.name||2!==e.args.length){for(var t=0;t<e.args.length;++t)e.args[t]=x(0);throw e.compile().eval(),new Error("Expected TypeError, but none found")}}(e),void 0!==t[e])return x(0);var r,n,i,a,o=e.args[0],s=!1,u=!1;switch(e.name){case"cbrt":s=!0,n=new m("*","multiply",[x(3),new m("^","pow",[o,new m("/","divide",[x(2),x(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,n=new m("*","multiply",[x(2),new p("sqrt",[o])]);else if(2===e.args.length)return t[r=new m("/","divide",[x(1),e.args[1]])]=t[e.args[1]],y(new m("^","pow",[o,r]),t);break;case"log10":r=x(10);case"log":if(r||1!==e.args.length){if(1===e.args.length&&r||2===e.args.length&&void 0!==t[e.args[1]])n=new m("*","multiply",[o.clone(),new p("log",[r||e.args[1]])]),s=!0;else if(2===e.args.length)return y(new m("/","divide",[new p("log",[o]),new p("log",[e.args[1]])]),t)}else n=o.clone(),s=!0;break;case"exp":n=new p("exp",[o.clone()]);break;case"sin":n=new p("cos",[o.clone()]);break;case"cos":n=new m("-","unaryMinus",[new p("sin",[o.clone()])]);break;case"tan":n=new m("^","pow",[new p("sec",[o.clone()]),x(2)]);break;case"sec":n=new m("*","multiply",[e,new p("tan",[o.clone()])]);break;case"csc":u=!0,n=new m("*","multiply",[e,new p("cot",[o.clone()])]);break;case"cot":u=!0,n=new m("^","pow",[new p("csc",[o.clone()]),x(2)]);break;case"asin":s=!0,n=new p("sqrt",[new m("-","subtract",[x(1),new m("^","pow",[o.clone(),x(2)])])]);break;case"acos":s=!0,u=!0,n=new p("sqrt",[new m("-","subtract",[x(1),new m("^","pow",[o.clone(),x(2)])])]);break;case"atan":s=!0,n=new m("+","add",[new m("^","pow",[o.clone(),x(2)]),x(1)]);break;case"asec":s=!0,n=new m("*","multiply",[new p("abs",[o.clone()]),new p("sqrt",[new m("-","subtract",[new m("^","pow",[o.clone(),x(2)]),x(1)])])]);break;case"acsc":s=!0,u=!0,n=new m("*","multiply",[new p("abs",[o.clone()]),new p("sqrt",[new m("-","subtract",[new m("^","pow",[o.clone(),x(2)]),x(1)])])]);break;case"acot":s=!0,u=!0,n=new m("+","add",[new m("^","pow",[o.clone(),x(2)]),x(1)]);break;case"sinh":n=new p("cosh",[o.clone()]);break;case"cosh":n=new p("sinh",[o.clone()]);break;case"tanh":n=new m("^","pow",[new p("sech",[o.clone()]),x(2)]);break;case"sech":u=!0,n=new m("*","multiply",[e,new p("tanh",[o.clone()])]);break;case"csch":u=!0,n=new m("*","multiply",[e,new p("coth",[o.clone()])]);break;case"coth":u=!0,n=new m("^","pow",[new p("csch",[o.clone()]),x(2)]);break;case"asinh":s=!0,n=new p("sqrt",[new m("+","add",[new m("^","pow",[o.clone(),x(2)]),x(1)])]);break;case"acosh":s=!0,n=new p("sqrt",[new m("-","subtract",[new m("^","pow",[o.clone(),x(2)]),x(1)])]);break;case"atanh":s=!0,n=new m("-","subtract",[x(1),new m("^","pow",[o.clone(),x(2)])]);break;case"asech":s=!0,u=!0,n=new m("*","multiply",[o.clone(),new p("sqrt",[new m("-","subtract",[x(1),new m("^","pow",[o.clone(),x(2)])])])]);break;case"acsch":s=!0,u=!0,n=new m("*","multiply",[new p("abs",[o.clone()]),new p("sqrt",[new m("+","add",[new m("^","pow",[o.clone(),x(2)]),x(1)])])]);break;case"acoth":s=!0,u=!0,n=new m("-","subtract",[x(1),new m("^","pow",[o.clone(),x(2)])]);break;case"abs":n=new m("/","divide",[new p(new d("abs"),[o.clone()]),o.clone()]);break;case"gamma":default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(i="/",a="divide"):(i="*",a="multiply");var l=y(o,t);return u&&(l=new m("-","unaryMinus",[l])),new m(i,a,[l,n])},"OperatorNode, Object":function(t,r){if(void 0!==r[t])return x(0);if("+"===t.op)return new m(t.op,t.fn,t.args.map(function(e){return y(e,r)}));if("-"===t.op){if(t.isUnary())return new m(t.op,t.fn,[y(t.args[0],r)]);if(t.isBinary())return new m(t.op,t.fn,[y(t.args[0],r),y(t.args[1],r)])}if("*"===t.op){var n=t.args.filter(function(e){return void 0!==r[e]});if(n.length>0){var i=t.args.filter(function(e){return void 0===r[e]}),a=1===i.length?i[0]:new m("*","multiply",i),o=n.concat(y(a,r));return new m("*","multiply",o)}return new m("+","add",t.args.map(function(e){return new m("*","multiply",t.args.map(function(t){return t===e?y(t,r):t.clone()}))}))}if("/"===t.op&&t.isBinary()){var l=t.args[0],c=t.args[1];return void 0!==r[c]?new m("/","divide",[y(l,r),c]):void 0!==r[l]?new m("*","multiply",[new m("-","unaryMinus",[l]),new m("/","divide",[y(c,r),new m("^","pow",[c.clone(),x(2)])])]):new m("/","divide",[new m("-","subtract",[new m("*","multiply",[y(l,r),c.clone()]),new m("*","multiply",[l.clone(),y(c,r)])]),new m("^","pow",[c.clone(),x(2)])])}if("^"===t.op&&t.isBinary()){var f=t.args[0],h=t.args[1];if(void 0!==r[f])return e.isConstantNode(f)&&(u(f.value)||s(f.value,1))?x(0):new m("*","multiply",[t,new m("*","multiply",[new p("log",[f.clone()]),y(h.clone(),r)])]);if(void 0!==r[h]){if(e.isConstantNode(h)){if(u(h.value))return x(0);if(s(h.value,1))return y(f,r)}var d=new m("^","pow",[f.clone(),new m("-","subtract",[h,x(1)])]);return new m("*","multiply",[h.clone(),new m("*","multiply",[y(f,r),d])])}return new m("*","multiply",[new m("^","pow",[f.clone(),h.clone()]),new m("+","add",[new m("*","multiply",[y(f,r),new m("/","divide",[h.clone(),f.clone()])]),new m("*","multiply",[y(h,r),new p("log",[f.clone()])])])])}throw new Error('Operator "'+t.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function x(e,r){return new f(c(e,r||t.number))}return v}},PI1H:function(e,t,r){"use strict";e.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},PXUV:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("199F").format,a=r("Dq+S").format,o=r("pvRk");t.isString=function(e){return"string"==typeof e},t.endsWith=function(e,t){return e.substring(e.length-t.length,e.length)===t},t.format=function(e,r){if("number"==typeof e)return i(e,r);if(o(e))return a(e,r);if(function(e){return e&&"object"===n(e)&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e))return r&&"decimal"===r.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return function e(r,n){if(Array.isArray(r)){for(var i="[",a=r.length,o=0;o<a;o++)0!==o&&(i+=", "),i+=e(r[o],n);return i+"]"}return t.format(r,n)}(e,r);if(t.isString(e))return'"'+e+'"';if("function"==typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"===n(e)){if("function"==typeof e.format)return e.format(r);if(e&&e.toString()!=={}.toString())return e.toString();var s=[];for(var u in e)e.hasOwnProperty(u)&&s.push('"'+u+'": '+t.format(e[u],r));return"{"+s.join(", ")+"}"}return String(e)},t.stringify=function(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);"\\"===i?(r+=i,""!==(i=t.charAt(++n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++}return'"'+r+'"'},t.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},PYmp:function(e,t,r){"use strict";e.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},PYnG:function(e,t,r){"use strict";e.exports=[r("xDDq"),r("E1be"),r("u995"),r("nDV9"),r("z0Ft"),r("M5+m"),r("9SPs"),r("hu/z"),r("1PA1")]},PZVV:function(e,t,r){"use strict";e.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},PbhI:function(e,t,r){"use strict";var n=r("1stm"),i=r("199F");t.name="isInteger",t.factory=function(e,t,r,a){var o=a("isInteger",{number:i.isInteger,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return n(e,o)}});return o}},PjMF:function(e,t,r){"use strict";t.name="norm",t.factory=function(e,t,n,i){var a=n(r("fTxE")),o=n(r("NEdZ")),s=n(r("CaZ0")),u=n(r("E86j")),l=n(r("L/Rn")),c=n(r("NU+P")),f=n(r("hj6K")),p=n(r("H+Qf")),m=n(r("m4e2")),h=n(r("R4H5")),d=i("norm",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return v(h(e),2)},Matrix:function(e){return v(e,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(e){return d(e)},"Array, number | BigNumber | string":function(e,t){return v(h(e),t)},"Matrix, number | BigNumber | string":function(e,t){return v(e,t)}});function v(e,t){var r=e.size();if(1===r.length){if(t===Number.POSITIVE_INFINITY||"inf"===t){var n=0;return e.forEach(function(e){var t=a(e);p(t,n)&&(n=t)},!0),n}var i;if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return e.forEach(function(e){var t=a(e);i&&!m(t,i)||(i=t)},!0),i||0;if("fro"===t)return v(e,2);if("number"==typeof t&&!isNaN(t)){if(!f(t,0)){var h=0;return e.forEach(function(e){h=o(s(a(e),t),h)},!0),s(h,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2===r.length){if(1===t){var d=[],g=0;return e.forEach(function(e,t){var r=t[1],n=o(d[r]||0,a(e));p(n,g)&&(g=n),d[r]=n},!0),g}if(t===Number.POSITIVE_INFINITY||"inf"===t){var b=[],y=0;return e.forEach(function(e,t){var r=t[0],n=o(b[r]||0,a(e));p(n,y)&&(y=n),b[r]=n},!0),y}if("fro"===t){var x=0;return e.forEach(function(e,t){x=o(x,c(e,u(e)))}),a(l(x))}if(2===t)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return d.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},d}},Poiv:function(e,t,r){"use strict";e.exports=[r("UzSP"),r("7Pe3"),r("Hy0I"),r("b1Qj"),r("KasC"),r("MUdo"),r("/UxZ")]},"Pym+":function(e,t,r){"use strict";t.name="distance",t.factory=function(e,t,n,i){var a=n(r("XXst")),o=n(r("O1N0")),s=n(r("oiZ2")),u=n(r("WPGy")),l=n(r("7DiD")),c=n(r("L/Rn")),f=n(r("fTxE"));function p(t){return"number"==typeof t||e.isBigNumber(t)}function m(e){return e.constructor!==Array&&(e=v(e)),p(e[0])&&p(e[1])}function h(e){return e.constructor!==Array&&(e=v(e)),p(e[0])&&p(e[1])&&p(e[2])}function d(e){return e.constructor!==Array&&(e=v(e)),p(e[0])&&p(e[1])&&p(e[2])&&p(e[3])&&p(e[4])&&p(e[5])}function v(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r}function g(e,t,r,n,i){var o=f(a(a(s(r,e),s(n,t)),i)),l=c(a(s(r,r),s(n,n)));return u(o,l)}function b(e,t,r,n,i,l,f,p,m){var h=[o(s(o(i,t),m),s(o(l,r),p)),o(s(o(l,r),f),s(o(n,e),m)),o(s(o(n,e),p),s(o(i,t),f))];h=c(a(a(s(h[0],h[0]),s(h[1],h[1])),s(h[2],h[2])));var d=c(a(a(s(f,f),s(p,p)),s(m,m)));return u(h,d)}function y(e,t,r,n){var i=o(n,t),u=o(r,e),l=a(s(i,i),s(u,u));return c(l)}function x(e,t,r,n,i,u){var l=o(u,r),f=o(i,t),p=o(n,e),m=a(a(s(l,l),s(f,f)),s(p,p));return c(m)}return i("distance",{"Array, Array, Array":function(e,t,r){if(2===e.length&&2===t.length&&2===r.length){if(!m(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!m(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!m(r))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var n=u(o(r[1],r[0]),o(t[1],t[0])),i=s(s(n,n),t[0]),a=l(s(n,t[0]));return g(e[0],e[1],i,a,e[1])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,r){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(r).length){if(!m(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!m(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!m(r))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("lineOnePtX")&&t.hasOwnProperty("lineOnePtY")&&r.hasOwnProperty("lineTwoPtX")&&r.hasOwnProperty("lineTwoPtY")){var n=u(o(r.lineTwoPtY,r.lineTwoPtX),o(t.lineOnePtY,t.lineOnePtX)),i=s(s(n,n),t.lineOnePtX),a=l(s(n,t.lineOnePtX));return g(e.pointX,e.pointY,i,a,e.pointX)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!m(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!h(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!d(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return b(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(2===e.length&&2===t.length){if(!m(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!m(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");return y(e[0],e[1],t[0],t[1])}if(3===e.length&&3===t.length){if(!h(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return x(e[0],e[1],e[2],t[0],t[1],t[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!m(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("xCoeffLine")&&t.hasOwnProperty("yCoeffLine")&&t.hasOwnProperty("constant"))return g(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!h(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!d(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("x0")&&t.hasOwnProperty("y0")&&t.hasOwnProperty("z0")&&t.hasOwnProperty("a")&&t.hasOwnProperty("b")&&t.hasOwnProperty("c"))return b(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!m(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!m(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY"))return y(e.pointOneX,e.pointOneY,t.pointTwoX,t.pointTwoY);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!h(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointOneZ")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY")&&t.hasOwnProperty("pointTwoZ"))return x(e.pointOneX,e.pointOneY,e.pointOneZ,t.pointTwoX,t.pointTwoY,t.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&p(e[0][0])&&p(e[0][1])){for(var t in e)if(2!==e[t].length||!p(e[t][0])||!p(e[t][1]))return!1}else{if(!(3===e[0].length&&p(e[0][0])&&p(e[0][1])&&p(e[0][2])))return!1;for(var r in e)if(3!==e[r].length||!p(e[r][0])||!p(e[r][1])||!p(e[r][2]))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],r=0;r<e.length-1;r++)for(var n=r+1;n<e.length;n++)2===e[0].length?t.push(y(e[r][0],e[r][1],e[n][0],e[n][1])):3===e[0].length&&t.push(x(e[r][0],e[r][1],e[r][2],e[n][0],e[n][1],e[n][2]));return t}(e)}})}},Pzmr:function(e,t,r){"use strict";var n=r("sTyi").size;t.name="kron",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=i(r("oiZ2"));return a("kron",{"Matrix, Matrix":function(e,t){return o(u(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return o(u(e.toArray(),t))},"Array, Matrix":function(e,t){return o(u(e,t.toArray()))},"Array, Array":u});function u(e,t){if(1===n(e).length&&(e=[e]),1===n(t).length&&(t=[t]),n(e).length>2||n(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var r=[],i=[];return e.map(function(e){return t.map(function(t){return r.push(i=[]),e.map(function(e){return t.map(function(t){return i.push(s(e,t))})})})})&&r}}},Q4Uz:function(e,t,r){"use strict";e.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},Q5Ck:function(e,t,r){"use strict";var n=r("Z2I/"),i=r("sTyi");t.name="squeeze",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=o("squeeze",{Array:function(e){return i.squeeze(n.clone(e))},Matrix:function(e){var t=i.squeeze(e.toArray());return Array.isArray(t)?s(t):t},any:function(e){return n.clone(e)}});return u.toTex=void 0,u}},QSgb:function(e,t,r){var n;!function(i){"use strict";var a,o,s,u=9e15,l=1e9,c="0123456789abcdef",f="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",p="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",m={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},h=!0,d="[DecimalError] ",v=d+"Invalid argument: ",g=d+"Precision limit exceeded",b=d+"crypto unavailable",y=Math.floor,x=Math.pow,w=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,M=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,N=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,_=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,A=1e7,E=7,S=f.length-1,k=p.length-1,O={name:"[object Decimal]"};function C(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(r=E-(n=e[t]+"").length)&&(a+=q(r)),a+=n;(r=E-(n=(o=e[t])+"").length)&&(a+=q(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function L(e,t,r){if(e!==~~e||e<t||e>r)throw Error(v+e)}function T(e,t,r,n){var i,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=E,i=0):(i=Math.ceil((t+1)/E),t%=E),a=x(10,E-t),s=e[i]%a|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[i+1]/a/100|0)==x(10,t-2)-1||(s==a/2||0==s)&&0==(e[i+1]/a/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(n||r<4)&&9999==s||!n&&r>3&&4999==s):o=((n||r<4)&&s+1==a||!n&&r>3&&s+1==a/2)&&(e[i+1]/a/1e3|0)==x(10,t-3)-1,o}function P(e,t,r){for(var n,i,a=[0],o=0,s=e.length;o<s;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=c.indexOf(e.charAt(o++)),n=0;n<a.length;n++)a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}O.absoluteValue=O.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),z(e)},O.ceil=function(){return z(new this.constructor(this),this.e+1,2)},O.comparedTo=O.cmp=function(e){var t,r,n,i,a=this,o=a.d,s=(e=new a.constructor(e)).d,u=a.s,l=e.s;if(!o||!s)return u&&l?u!==l?u:o===s?0:!o^u<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?u:s[0]?-l:0;if(u!==l)return u;if(a.e!==e.e)return a.e>e.e^u<0?1:-1;for(t=0,r=(n=o.length)<(i=s.length)?n:i;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},O.cosine=O.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.rounding,n.precision=(e=n.precision)+Math.max(r.e,r.sd())+E,n.rounding=1,r=function(e,t){var r,n,i=t.d.length;i<32?(r=Math.ceil(i/3),n=Math.pow(4,-r).toString()):(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=K(e,1,t.times(n),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(n,W(n,r)),n.precision=e,n.rounding=t,z(2==s||3==s?r.neg():r,e,t,!0)):new n(1):new n(NaN)},O.cubeRoot=O.cbrt=function(){var e,t,r,n,i,a,o,s,u,l,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(h=!1,(a=c.s*Math.pow(c.s*c,1/3))&&Math.abs(a)!=1/0?n=new f(a.toString()):(r=C(c.d),(a=((e=c.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=Math.pow(r,1/3),e=y((e+1)/3)-(e%3==(e<0?-1:2)),(n=new f(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=c.s),o=(e=f.precision)+3;;)if(l=(u=(s=n).times(s).times(s)).plus(c),n=I(l.plus(c).times(s),l.plus(u),o+2,1),C(s.d).slice(0,o)===(r=C(n.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(z(n,e+1,1),t=!n.times(n).times(n).eq(c));break}if(!i&&(z(s,e+1,0),s.times(s).times(s).eq(c))){n=s;break}o+=4,i=1}return h=!0,z(n,e,f.rounding,t)},O.decimalPlaces=O.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-y(this.e/E))*E,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},O.dividedBy=O.div=function(e){return I(this,new this.constructor(e))},O.dividedToIntegerBy=O.divToInt=function(e){var t=this.constructor;return z(I(this,new t(e),0,1,1),t.precision,t.rounding)},O.equals=O.eq=function(e){return 0===this.cmp(e)},O.floor=function(){return z(new this.constructor(this),this.e+1,3)},O.greaterThan=O.gt=function(e){return this.cmp(e)>0},O.greaterThanOrEqualTo=O.gte=function(e){var t=this.cmp(e);return 1==t||0===t},O.hyperbolicCosine=O.cosh=function(){var e,t,r,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;n=o.rounding,o.precision=(r=o.precision)+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?(e=Math.ceil(i/3),t=Math.pow(4,-e).toString()):(e=16,t="2.3283064365386962890625e-10"),a=K(o,1,a.times(t),new o(1),!0);for(var u,l=e,c=new o(8);l--;)u=a.times(a),a=s.minus(u.times(c.minus(u.times(c))));return z(a,o.precision=r,o.rounding=n,!0)},O.hyperbolicSine=O.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(r=a.rounding,a.precision=(t=a.precision)+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=K(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=K(a,2,i=i.times(Math.pow(5,-e)),i,!0);for(var o,s=new a(5),u=new a(16),l=new a(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(u.times(o).plus(l))))}return a.precision=t,a.rounding=r,z(i,t,r,!0)},O.hyperbolicTangent=O.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.rounding,n.precision=(e=n.precision)+7,n.rounding=1,I(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},O.inverseCosine=O.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,a=r.rounding;return-1!==n?0===n?t.isNeg()?R(r,i,a):new r(0):new r(NaN):t.isZero()?R(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=R(r,i+4,a).times(.5),r.precision=i,r.rounding=a,e.minus(t))},O.inverseHyperbolicCosine=O.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.rounding,n.precision=(e=n.precision)+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,h=!1,r=r.times(r).minus(1).sqrt().plus(r),h=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},O.inverseHyperbolicSine=O.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.rounding,n.precision=(e=n.precision)+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,h=!1,r=r.times(r).plus(1).sqrt().plus(r),h=!0,n.precision=e,n.rounding=t,r.ln())},O.inverseHyperbolicTangent=O.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?z(new a(i),e,t,!0):(a.precision=r=n-i.e,i=I(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},O.inverseSine=O.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t?0===t?((e=R(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))},O.inverseTangent=O.atan=function(){var e,t,r,n,i,a,o,s,u,l=this,c=l.constructor,f=c.precision,p=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&f+4<=k)return(o=R(c,f+4,p).times(.25)).s=l.s,o}else{if(!l.s)return new c(NaN);if(f+4<=k)return(o=R(c,f+4,p).times(.5)).s=l.s,o}for(c.precision=s=f+10,c.rounding=1,e=r=Math.min(28,s/E+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(h=!1,t=Math.ceil(s/E),n=1,u=l.times(l),o=new c(l),i=l;-1!==e;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),void 0!==(o=a.plus(i.div(n+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),h=!0,z(o,c.precision=f,c.rounding=p,!0)},O.isFinite=function(){return!!this.d},O.isInteger=O.isInt=function(){return!!this.d&&y(this.e/E)>this.d.length-2},O.isNaN=function(){return!this.s},O.isNegative=O.isNeg=function(){return this.s<0},O.isPositive=O.isPos=function(){return this.s>0},O.isZero=function(){return!!this.d&&0===this.d[0]},O.lessThan=O.lt=function(e){return this.cmp(e)<0},O.lessThanOrEqualTo=O.lte=function(e){return this.cmp(e)<1},O.logarithm=O.log=function(e){var t,r,n,i,a,o,s,u,l=this.constructor,c=l.precision,f=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(i=r[0];i%10==0;)i/=10;a=1!==i}if(h=!1,o=H(this,s=c+5),n=t?F(l,s+10):H(e,s),T((u=I(o,n,s,1)).d,i=c,f))do{if(o=H(this,s+=10),n=t?F(l,s+10):H(e,s),u=I(o,n,s,1),!a){+C(u.d).slice(i+1,i+15)+1==1e14&&(u=z(u,c+1,0));break}}while(T(u.d,i+=10,f));return h=!0,z(u,c,f)},O.minus=O.sub=function(e){var t,r,n,i,a,o,s,u,l,c,f,p,m=this,d=m.constructor;if(e=new d(e),!m.d||!e.d)return m.s&&e.s?m.d?e.s=-e.s:e=new d(e.d||m.s!==e.s?m:NaN):e=new d(NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(p=e.d,s=d.precision,u=d.rounding,!(l=m.d)[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!l[0])return new d(3===u?-0:0);e=new d(m)}return h?z(e,s,u):e}if(r=y(e.e/E),c=y(m.e/E),l=l.slice(),a=c-r){for((f=a<0)?(t=l,a=-a,o=p.length):(t=p,r=c,o=l.length),a>(n=Math.max(Math.ceil(s/E),o)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((f=(n=l.length)<(o=p.length))&&(o=n),n=0;n<o;n++)if(l[n]!=p[n]){f=l[n]<p[n];break}a=0}for(f&&(t=l,l=p,p=t,e.s=-e.s),n=p.length-(o=l.length);n>0;--n)l[o++]=0;for(n=p.length;n>a;){if(l[--n]<p[n]){for(i=n;i&&0===l[--i];)l[i]=A-1;--l[i],l[n]+=A}l[n]-=p[n]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=j(l,r),h?z(e,s,u):e):new d(3===u?-0:0)},O.modulo=O.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?z(new n(r),n.precision,n.rounding):(h=!1,9==n.modulo?(t=I(r,e.abs(),0,3,1)).s*=e.s:t=I(r,e,0,n.modulo,1),t=t.times(e),h=!0,r.minus(t))},O.naturalExponential=O.exp=function(){return G(this)},O.naturalLogarithm=O.ln=function(){return H(this)},O.negated=O.neg=function(){var e=new this.constructor(this);return e.s=-e.s,z(e)},O.plus=O.add=function(e){var t,r,n,i,a,o,s,u,l,c,f=this,p=f.constructor;if(e=new p(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new p(e.d||f.s===e.s?f:NaN)):e=new p(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(c=e.d,s=p.precision,u=p.rounding,!(l=f.d)[0]||!c[0])return c[0]||(e=new p(f)),h?z(e,s,u):e;if(a=y(f.e/E),n=y(e.e/E),l=l.slice(),i=a-n){for(i<0?(r=l,i=-i,o=c.length):(r=c,n=a,o=l.length),i>(o=(a=Math.ceil(s/E))>o?a+1:o+1)&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((o=l.length)-(i=c.length)<0&&(i=o,r=c,c=l,l=r),t=0;i;)t=(l[--i]=l[i]+c[i]+t)/A|0,l[i]%=A;for(t&&(l.unshift(t),++n),o=l.length;0==l[--o];)l.pop();return e.d=l,e.e=j(l,n),h?z(e,s,u):e},O.precision=O.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(v+e);return r.d?(t=D(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},O.round=function(){var e=this,t=e.constructor;return z(new t(e),e.e+1,t.rounding)},O.sine=O.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.rounding,n.precision=(e=n.precision)+Math.max(r.e,r.sd())+E,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return K(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=K(e,2,t=t.times(Math.pow(5,-r)),t);for(var i,a=new e(5),o=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}(n,W(n,r)),n.precision=e,n.rounding=t,z(s>2?r.neg():r,e,t,!0)):new n(NaN)},O.squareRoot=O.sqrt=function(){var e,t,r,n,i,a,o=this,s=o.d,u=o.e,l=o.s,c=o.constructor;if(1!==l||!s||!s[0])return new c(!l||l<0&&(!s||s[0])?NaN:s?o:1/0);for(h=!1,0==(l=Math.sqrt(+o))||l==1/0?(((t=C(s)).length+u)%2==0&&(t+="0"),l=Math.sqrt(t),u=y((u+1)/2)-(u<0||u%2),n=new c(t=l==1/0?"1e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new c(l.toString()),r=(u=c.precision)+3;;)if(n=(a=n).plus(I(o,a,r+2,1)).times(.5),C(a.d).slice(0,r)===(t=C(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(z(n,u+1,1),e=!n.times(n).eq(o));break}if(!i&&(z(a,u+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}return h=!0,z(n,u,c.rounding,e)},O.tangent=O.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.rounding,n.precision=(e=n.precision)+10,n.rounding=1,(r=r.sin()).s=1,r=I(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,z(2==s||4==s?r.neg():r,e,t,!0)):new n(NaN)},O.times=O.mul=function(e){var t,r,n,i,a,o,s,u,l,c=this,f=c.constructor,p=c.d,m=(e=new f(e)).d;if(e.s*=c.s,!(p&&p[0]&&m&&m[0]))return new f(!e.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:p&&m?0*e.s:e.s/0);for(r=y(c.e/E)+y(e.e/E),(u=p.length)<(l=m.length)&&(a=p,p=m,m=a,o=u,u=l,l=o),a=[],n=o=u+l;n--;)a.push(0);for(n=l;--n>=0;){for(t=0,i=u+n;i>n;)s=a[i]+m[n]*p[i-n-1]+t,a[i--]=s%A|0,t=s/A|0;a[i]=(a[i]+t)%A|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=j(a,r),h?z(e,f.precision,f.rounding):e},O.toBinary=function(e,t){return Q(this,2,e,t)},O.toDecimalPlaces=O.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(L(e,0,l),void 0===t?t=n.rounding:L(t,0,8),z(r,e+r.e+1,t))},O.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=B(n,!0):(L(e,0,l),void 0===t?t=i.rounding:L(t,0,8),r=B(n=z(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},O.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?r=B(i):(L(e,0,l),void 0===t?t=a.rounding:L(t,0,8),r=B(n=z(new a(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},O.toFraction=function(e){var t,r,n,i,a,o,s,u,l,c,f,p,m=this,d=m.d,g=m.constructor;if(!d)return new g(m);if(l=r=new g(1),n=u=new g(0),a=(t=new g(n)).e=D(d)-m.e-1,t.d[0]=x(10,(o=a%E)<0?E+o:o),null==e)e=a>0?t:l;else{if(!(s=new g(e)).isInt()||s.lt(l))throw Error(v+s);e=s.gt(t)?a>0?t:l:s}for(h=!1,s=new g(C(d)),c=g.precision,g.precision=a=d.length*E*2;f=I(s,t,0,1,1),1!=(i=r.plus(f.times(n))).cmp(e);)r=n,n=i,l=u.plus(f.times(i=l)),u=i,t=s.minus(f.times(i=t)),s=i;return i=I(e.minus(r),n,0,1,1),u=u.plus(i.times(l)),r=r.plus(i.times(n)),u.s=l.s=m.s,p=I(l,n,a,1).minus(m).abs().cmp(I(u,r,a,1).minus(m).abs())<1?[l,n]:[u,r],g.precision=c,h=!0,p},O.toHexadecimal=O.toHex=function(e,t){return Q(this,16,e,t)},O.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:L(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(h=!1,r=I(r,e,0,t,1).times(e),h=!0,z(r)):(e.s=r.s,r=e),r},O.toNumber=function(){return+this},O.toOctal=function(e,t){return Q(this,8,e,t)},O.toPower=O.pow=function(e){var t,r,n,i,a,o,s=this,u=s.constructor,l=+(e=new u(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new u(x(+s,l));if((s=new u(s)).eq(1))return s;if(n=u.precision,a=u.rounding,e.eq(1))return z(s,n,a);if((t=y(e.e/E))>=e.d.length-1&&(r=l<0?-l:l)<=9007199254740991)return i=V(u,s,r,n),e.s<0?new u(1).div(i):z(i,n,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=x(+s,l))&&isFinite(r)?new u(r+"").e:y(l*(Math.log("0."+C(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(h=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=G(e.times(H(s,n+r)),n)).d&&T((i=z(i,n+5,1)).d,n,a)&&+C((i=z(G(e.times(H(s,(t=n+10)+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=z(i,n+1,0)),i.s=o,h=!0,u.rounding=a,z(i,n,a))},O.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=B(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(L(e,1,l),void 0===t?t=i.rounding:L(t,0,8),r=B(n=z(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},O.toSignificantDigits=O.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(L(e,1,l),void 0===t?t=r.rounding:L(t,0,8)),z(new r(this),e,t)},O.toString=function(){var e=this,t=e.constructor,r=B(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},O.truncated=O.trunc=function(){return z(new this.constructor(this),this.e+1,1)},O.valueOf=O.toJSON=function(){var e=this,t=e.constructor,r=B(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var I=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)e[a]=(n=e[a]*t+i)%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,e[r]=(i=e[r]<t[r]?1:0)*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s,u,l){var c,f,p,m,h,d,v,g,b,x,w,M,N,_,S,k,O,C,L,T,P=n.constructor,I=n.s==i.s?1:-1,B=n.d,j=i.d;if(!(B&&B[0]&&j&&j[0]))return new P(n.s&&i.s&&(B?!j||B[0]!=j[0]:j)?B&&0==B[0]||!j?0*I:I/0:NaN);for(l?(h=1,f=n.e-i.e):(l=A,f=y(n.e/(h=E))-y(i.e/h)),L=j.length,O=B.length,x=(b=new P(I)).d=[],p=0;j[p]==(B[p]||0);p++);if(j[p]>(B[p]||0)&&f--,null==a?(_=a=P.precision,s=P.rounding):_=u?a+(n.e-i.e)+1:a,_<0)x.push(1),d=!0;else{if(_=_/h+2|0,p=0,1==L){for(m=0,j=j[0],_++;(p<O||m)&&_--;p++)x[p]=(S=m*l+(B[p]||0))/j|0,m=S%j|0;d=m||p<O}else{for((m=l/(j[0]+1)|0)>1&&(j=e(j,m,l),B=e(B,m,l),L=j.length,O=B.length),k=L,M=(w=B.slice(0,L)).length;M<L;)w[M++]=0;(T=j.slice()).unshift(0),C=j[0],j[1]>=l/2&&++C;do{m=0,(c=t(j,w,L,M))<0?(N=w[0],L!=M&&(N=N*l+(w[1]||0)),(m=N/C|0)>1?(m>=l&&(m=l-1),1==(c=t(v=e(j,m,l),w,g=v.length,M=w.length))&&(m--,r(v,L<g?T:j,g,l))):(0==m&&(c=m=1),v=j.slice()),(g=v.length)<M&&v.unshift(0),r(w,v,M,l),-1==c&&(c=t(j,w,L,M=w.length))<1&&(m++,r(w,L<M?T:j,M,l)),M=w.length):0===c&&(m++,w=[0]),x[p++]=m,c&&w[0]?w[M++]=B[k]||0:(w=[B[k]],M=1)}while((k++<O||void 0!==w[0])&&_--);d=void 0!==w[0]}x[0]||x.shift()}if(1==h)b.e=f,o=d;else{for(p=1,m=x[0];m>=10;m/=10)p++;b.e=p+f*h-1,z(b,u?a+b.e+1:a,s,d)}return b}}();function z(e,t,r,n){var i,a,o,s,u,l,c,f,p,m=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(i=1,s=f[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=E,u=(c=f[p=0])/x(10,i-(o=t)-1)%10|0;else if((p=Math.ceil((a+1)/E))>=(s=f.length)){if(!n)break e;for(;s++<=p;)f.push(0);c=u=0,i=1,o=(a%=E)-E+1}else{for(c=s=f[p],i=1;s>=10;s/=10)i++;u=(o=(a%=E)-E+i)<0?0:c/x(10,i-o-1)%10|0}if(n=n||t<0||void 0!==f[p+1]||(o<0?c:c%x(10,i-o-1)),l=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(a>0?o>0?c/x(10,i-o):0:f[p-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,l?(f[0]=x(10,(E-(t-=e.e+1)%E)%E),e.e=-t||0):f[0]=e.e=0,e;if(0==a?(f.length=p,s=1,p--):(f.length=p+1,s=x(10,E-a),f[p]=o>0?(c/x(10,i-o)%x(10,o)|0)*s:0),l)for(;;){if(0==p){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,f[0]==A&&(f[0]=1));break}if(f[p]+=s,f[p]!=A)break;f[p--]=0,s=1}for(a=f.length;0===f[--a];)f.pop()}return h&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function B(e,t,r){if(!e.isFinite())return Y(e);var n,i=e.e,a=C(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+q(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+q(-i-1)+a,r&&(n=r-o)>0&&(a+=q(n))):i>=o?(a+=q(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+q(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=q(n))),a}function j(e,t){var r=e[0];for(t*=E;r>=10;r/=10)t++;return t}function F(e,t,r){if(t>S)throw h=!0,r&&(e.precision=r),Error(g);return z(new e(f),t,1,!0)}function R(e,t,r){if(t>k)throw Error(g);return z(new e(p),t,r,!0)}function D(e){var t=e.length-1,r=t*E+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function q(e){for(var t="";e--;)t+="0";return t}function V(e,t,r,n){var i,a=new e(1),o=Math.ceil(n/E+4);for(h=!1;;){if(r%2&&$((a=a.times(t)).d,o)&&(i=!0),0===(r=y(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}$((t=t.times(t)).d,o)}return h=!0,a}function X(e){return 1&e.d[e.d.length-1]}function U(e,t,r){for(var n,i=new e(t[0]),a=0;++a<t.length;){if(!(n=new e(t[a])).s){i=n;break}i[r](n)&&(i=n)}return i}function G(e,t){var r,n,i,a,o,s,u,l=0,c=0,f=0,p=e.constructor,m=p.rounding,d=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(h=!1,u=d):u=t,s=new p(.03125);e.e>-2;)e=e.times(s),f+=5;for(u+=n=Math.log(x(2,f))/Math.LN10*2+5|0,r=a=o=new p(1),p.precision=u;;){if(a=z(a.times(e),u,1),r=r.times(++c),C((s=o.plus(I(a,r,u,1))).d).slice(0,u)===C(o.d).slice(0,u)){for(i=f;i--;)o=z(o.times(o),u,1);if(null!=t)return p.precision=d,o;if(!(l<3&&T(o.d,u-n,m,l)))return z(o,p.precision=d,m,h=!0);p.precision=u+=10,r=a=s=new p(1),c=0,l++}o=s}}function H(e,t){var r,n,i,a,o,s,u,l,c,f,p,m=1,d=e,v=d.d,g=d.constructor,b=g.rounding,y=g.precision;if(d.s<0||!v||!v[0]||!d.e&&1==v[0]&&1==v.length)return new g(v&&!v[0]?-1/0:1!=d.s?NaN:v?0:d);if(null==t?(h=!1,c=y):c=t,g.precision=c+=10,n=(r=C(v)).charAt(0),!(Math.abs(a=d.e)<15e14))return l=F(g,c+2,y).times(a+""),d=H(new g(n+"."+r.slice(1)),c-10).plus(l),g.precision=y,null==t?z(d,y,b,h=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=C((d=d.times(e)).d)).charAt(0),m++;for(a=d.e,n>1?(d=new g("0."+r),a++):d=new g(n+"."+r.slice(1)),f=d,u=o=d=I(d.minus(1),d.plus(1),c,1),p=z(d.times(d),c,1),i=3;;){if(o=z(o.times(p),c,1),C((l=u.plus(I(o,new g(i),c,1))).d).slice(0,c)===C(u.d).slice(0,c)){if(u=u.times(2),0!==a&&(u=u.plus(F(g,c+2,y).times(a+""))),u=I(u,new g(m),c,1),null!=t)return g.precision=y,u;if(!T(u.d,c-10,b,s))return z(u,g.precision=y,b,h=!0);g.precision=c+=10,l=o=d=I(f.minus(1),f.plus(1),c,1),p=z(d.times(d),c,1),i=s=1}u=l,i+=2}}function Y(e){return String(e.s*e.s/0)}function Z(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%E,r<0&&(n+=E),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=E;n<i;)e.d.push(+t.slice(n,n+=E));t=t.slice(n),n=E-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),h&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function J(e,t){var r,n,i,o,s,u,l,c,f;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(M.test(t))r=16,t=t.toLowerCase();else if(w.test(t))r=2;else{if(!N.test(t))throw Error(v+t);r=8}for((o=t.search(/p/i))>0?(l=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),n=e.constructor,(s=o>=0)&&(o=(u=(t=t.replace(".","")).length)-o,i=V(n,new n(r),o,2*o)),o=f=(c=P(t,r,A)).length-1;0===c[o];--o)c.pop();return o<0?new n(0*e.s):(e.e=j(c,f),e.d=c,h=!1,s&&(e=I(e,i,4*u)),l&&(e=e.times(Math.abs(l)<54?Math.pow(2,l):a.pow(2,l))),h=!0,e)}function K(e,t,r,n,i){var a,o,s,u,l=e.precision,c=Math.ceil(l/E);for(h=!1,u=r.times(r),s=new e(n);;){if(o=I(s.times(u),new e(t++*t++),l,1),s=i?n.plus(o):n.minus(o),n=I(o.times(u),new e(t++*t++),l,1),void 0!==(o=s.plus(n)).d[c]){for(a=c;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=n,n=o,o=a}return h=!0,o.d.length=c+1,o}function W(e,t){var r,n=t.s<0,i=R(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return s=n?4:1,t;if((r=t.divToInt(i)).isZero())s=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return s=X(r)?n?2:3:n?4:1,t;s=X(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Q(e,t,r,n){var i,a,s,u,f,p,m,h,d,v=e.constructor,g=void 0!==r;if(g?(L(r,1,l),void 0===n?n=v.rounding:L(n,0,8)):(r=v.precision,n=v.rounding),e.isFinite()){for(g?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(s=(m=B(e)).indexOf("."))>=0&&(m=m.replace(".",""),(d=new v(1)).e=m.length-s,d.d=P(B(d),10,i),d.e=d.d.length),a=f=(h=P(m,10,i)).length;0==h[--f];)h.pop();if(h[0]){if(s<0?a--:((e=new v(e)).d=h,e.e=a,h=(e=I(e,d,r,n,0,i)).d,a=e.e,p=o),s=h[r],u=i/2,p=p||void 0!==h[r+1],p=n<4?(void 0!==s||p)&&(0===n||n===(e.s<0?3:2)):s>u||s===u&&(4===n||p||6===n&&1&h[r-1]||n===(e.s<0?8:7)),h.length=r,p)for(;++h[--r]>i-1;)h[r]=0,r||(++a,h.unshift(1));for(f=h.length;!h[f-1];--f);for(s=0,m="";s<f;s++)m+=c.charAt(h[s]);if(g){if(f>1)if(16==t||8==t){for(s=16==t?4:3,--f;f%s;f++)m+="0";for(f=(h=P(m,i,t)).length;!h[f-1];--f);for(s=1,m="1.";s<f;s++)m+=c.charAt(h[s])}else m=m.charAt(0)+"."+m.slice(1);m=m+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)m="0"+m;m="0."+m}else if(++a>f)for(a-=f;a--;)m+="0";else a<f&&(m=m.slice(0,a)+"."+m.slice(a))}else m=g?"0p+0":"0";m=(16==t?"0x":2==t?"0b":8==t?"0o":"")+m}else m=Y(e);return e.s<0?"-"+m:m}function $(e,t){if(e.length>t)return e.length=t,!0}function ee(e){return new this(e).abs()}function te(e){return new this(e).acos()}function re(e){return new this(e).acosh()}function ne(e,t){return new this(e).plus(t)}function ie(e){return new this(e).asin()}function ae(e){return new this(e).asinh()}function oe(e){return new this(e).atan()}function se(e){return new this(e).atanh()}function ue(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?R(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=R(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(I(e,t,a,1)),t=R(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(I(e,t,a,1)):(r=R(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function le(e){return new this(e).cbrt()}function ce(e){return z(e=new this(e),e.e+1,2)}function fe(e){if(!e||"object"!=typeof e)throw Error(d+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,l,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=m[r]),void 0!==(n=e[r])){if(!(y(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(v+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=m[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(v+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(b);this[r]=!0}else this[r]=!1}return this}function pe(e){return new this(e).cos()}function me(e){return new this(e).cosh()}function he(e,t){return new this(e).div(t)}function de(e){return new this(e).exp()}function ve(e){return z(e=new this(e),e.e+1,3)}function ge(){var e,t,r=new this(0);for(h=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return h=!0,new this(1/0);r=t}return h=!0,r.sqrt()}function be(e){return e instanceof a||e&&"[object Decimal]"===e.name||!1}function ye(e){return new this(e).ln()}function xe(e,t){return new this(e).log(t)}function we(e){return new this(e).log(2)}function Me(e){return new this(e).log(10)}function Ne(){return U(this,arguments,"lt")}function _e(){return U(this,arguments,"gt")}function Ae(e,t){return new this(e).mod(t)}function Ee(e,t){return new this(e).mul(t)}function Se(e,t){return new this(e).pow(t)}function ke(e){var t,r,n,i,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:L(e,1,l),n=Math.ceil(e/E),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(b);for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=n/4}else for(;a<n;)s[a++]=1e7*Math.random()|0;for(n=s[--a],e%=E,n&&e&&(i=x(10,E-e),s[a]=(n/i|0)*i);0===s[a];a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=E)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<E&&(r-=E-n)}return o.e=r,o.d=s,o}function Oe(e){return z(e=new this(e),e.e+1,this.rounding)}function Ce(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Le(e){return new this(e).sin()}function Te(e){return new this(e).sinh()}function Pe(e){return new this(e).sqrt()}function Ie(e,t){return new this(e).sub(t)}function ze(e){return new this(e).tan()}function Be(e){return new this(e).tanh()}function je(e){return z(e=new this(e),e.e+1,1)}(a=function e(t){var r,n,i;function a(e){var t,r,n,i=this;if(!(i instanceof a))return new a(e);if(i.constructor=a,e instanceof a)return i.s=e.s,i.e=e.e,void(i.d=(e=e.d)?e.slice():e);if("number"==(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return i.e=t,void(i.d=[e])}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):Z(i,e.toString())}if("string"!==n)throw Error(v+e);return 45===e.charCodeAt(0)?(e=e.slice(1),i.s=-1):i.s=1,_.test(e)?Z(i,e):J(i,e)}if(a.prototype=O,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=fe,a.clone=e,a.isDecimal=be,a.abs=ee,a.acos=te,a.acosh=re,a.add=ne,a.asin=ie,a.asinh=ae,a.atan=oe,a.atanh=se,a.atan2=ue,a.cbrt=le,a.ceil=ce,a.cos=pe,a.cosh=me,a.div=he,a.exp=de,a.floor=ve,a.hypot=ge,a.ln=ye,a.log=xe,a.log10=Me,a.log2=we,a.max=Ne,a.min=_e,a.mod=Ae,a.mul=Ee,a.pow=Se,a.random=ke,a.round=Oe,a.sign=Ce,a.sin=Le,a.sinh=Te,a.sqrt=Pe,a.sub=Ie,a.tan=ze,a.tanh=Be,a.trunc=je,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(m)).default=a.Decimal=a,f=new a(f),p=new a(p),void 0===(n=(function(){return a}).call(t,r,t,e))||(e.exports=n)}()},QVxT:function(e,t,r){"use strict";var n=r("sTyi").flatten;t.name="setUnion",t.factory=function(e,t,i,a){var o=i(r("Lzl2")),s=i(r("1wo0")),u=i(r("v7fr")),l=i(r("Wail")),c=i(r("Fifl")),f=i(r("Ydx7"));return a("setUnion",{"Array | Matrix, Array | Matrix":function(e,t){if(0===l(u(e),new o(0)))return n(t);if(0===l(u(t),new o(0)))return n(e);var r=n(e),i=n(t);return s(f(r,i),c(r,i))}})}},QfvV:function(e,t,r){"use strict";var n=r("LHK7");t.name="inv",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=i(r("WPGy")),u=i(r("XXst")),l=i(r("NU+P")),c=i(r("7DiD")),f=i(r("3efQ")),p=i(r("MKmT")),m=i(r("fTxE")),h=a("inv",{"Array | Matrix":function(t){var r=e.isMatrix(t)?t.size():n.array.size(t);switch(r.length){case 1:if(1===r[0])return e.isMatrix(t)?o([s(1,t.valueOf()[0])]):[s(1,t[0])];throw new RangeError("Matrix must be square (size: "+n.string.format(r)+")");case 2:var i=r[0],a=r[1];if(i===a)return e.isMatrix(t)?o(d(t.valueOf(),i,a),t.storage()):d(t,i,a);throw new RangeError("Matrix must be square (size: "+n.string.format(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+n.string.format(r)+")")}},any:function(e){return s(1,e)}});function d(e,t,r){var n,i,a,o,h;if(1===t){if(0===(o=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[s(1,o)]]}if(2===t){var d=f(e);if(0===d)throw Error("Cannot calculate inverse, determinant is zero");return[[s(e[1][1],d),s(c(e[0][1]),d)],[s(c(e[1][0]),d),s(e[0][0],d)]]}var v=e.concat();for(n=0;n<t;n++)v[n]=v[n].concat();for(var g=p(t).valueOf(),b=0;b<r;b++){var y=m(v[b][b]),x=b;for(n=b+1;n<t;)m(v[n][b])>y&&(y=m(v[n][b]),x=n),n++;if(0===y)throw Error("Cannot calculate inverse, determinant is zero");(n=x)!==b&&(h=v[b],v[b]=v[n],v[n]=h,h=g[b],g[b]=g[n],g[n]=h);var w=v[b],M=g[b];for(n=0;n<t;n++){var N=v[n],_=g[n];if(n!==b){if(0!==N[b]){for(a=s(c(N[b]),w[b]),i=b;i<r;i++)N[i]=u(N[i],l(a,w[i]));for(i=0;i<r;i++)_[i]=u(_[i],l(a,M[i]))}}else{for(a=w[b],i=b;i<r;i++)N[i]=s(N[i],a);for(i=0;i<r;i++)_[i]=s(_[i],a)}}}return g}return h.toTex={1:"\\left(${args[0]}\\right)^{-1}"},h}},QllX:function(e,t,r){"use strict";var n=r("1stm");t.name="floor",t.factory=function(e,t,r,i){var a=i("floor",{number:Math.floor,Complex:function(e){return e.floor()},BigNumber:function(e){return e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return n(e,a,!0)}});return a.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},a}},QrDL:function(e,t,r){"use strict";t.name="splitUnit",t.factory=function(e,t,r,n){return n("splitUnit",{"Unit, Array":function(e,t){return e.splitUnit(t)}})}},Qshr:function(e,t,r){"use strict";e.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},Qwtb:function(e,t,r){"use strict";e.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},"R++/":function(e,t,r){"use strict";e.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},R1Zu:function(e,t,r){"use strict";e.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},R2Ol:function(e,t,r){"use strict";t.name="csUnflip",t.path="algebra.sparse",t.factory=function(e,t,n){var i=n(r("BEMT"));return function(e){return e<0?i(e):e}}},R4H5:function(e,t,r){"use strict";t.name="matrix",t.factory=function(e,t,r,n){var i=n("matrix",{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});return i.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},i;function a(t,r,n){return new(e.Matrix.storage(r||"default"))(t,n)}}},R4gy:function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},a={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},o=function(e,t){return n({},e,t)};e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.preserveFormatting,s=void 0!==r&&r,u=t.escapeMapFn,l=void 0===u?o:u,c=String(e),f="",p=l(n({},i),s?n({},a):{}),m=Object.keys(p),h=function(){var e=!1;m.forEach(function(t,r){e||c.length>=t.length&&c.slice(0,t.length)===t&&(f+=p[m[r]],c=c.slice(t.length,c.length),e=!0)}),e||(f+=c.slice(0,1),c=c.slice(1,c.length))};c;)h();return f}},"R5C+":function(e,t,r){"use strict";var n=r("0dEn").maxArgumentCount;function i(e,t){var r=n(t);return function n(i,a){return Array.isArray(i)?i.map(function(e,t){return n(e,a.concat(t))}):1===r?t(i):2===r?t(i,a):t(i,a,e)}(e,[])}t.name="map",t.factory=function(e,t,r,n){var a=n("map",{"Array, function":i,"Matrix, function":function(e,t){return e.map(t)}});return a.toTex=void 0,a}},REZd:function(e,t,r){"use strict";e.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},RSth:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.math=!0,t.name="simplify",t.factory=function(e,t,i,a,o){var s=i(r("MUdo")),u=i(r("uvCz")),l=i(r("kip4")),c=i(r("Z+Vt")),f=i(r("ut+i")),p=i(r("+6pz")),m=i(r("FX2d")),h=i(r("0fa3")),d=i(r("0VOE")),v=i(r("FKH8")),g=i(r("Uu3w")),b=g.isCommutative,y=g.isAssociative,x=g.flatten,w=g.unflattenr,M=g.unflattenl,N=g.createMakeNodeFunction,_=a("simplify",{string:function(e){return _(s(e),_.rules,{},{})},"string, Object":function(e,t){return _(s(e),_.rules,t,{})},"string, Object, Object":function(e,t,r){return _(s(e),_.rules,t,r)},"string, Array":function(e,t){return _(s(e),t,{},{})},"string, Array, Object":function(e,t,r){return _(s(e),t,r,{})},"string, Array, Object, Object":function(e,t,r,n){return _(s(e),t,r,n)},"Node, Object":function(e,t){return _(e,_.rules,t,{})},"Node, Object, Object":function(e,t,r){return _(e,_.rules,t,r)},Node:function(e){return _(e,_.rules,{},{})},"Node, Array":function(e,t){return _(e,t,{},{})},"Node, Array, Object":function(e,t,r){return _(e,t,r,{})},"Node, Array, Object, Object":function(e,t,r,i){t=function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r],a=void 0,o=n(i);switch(o){case"string":var u=i.split("->");if(2!==u.length)throw SyntaxError("Could not parse rule: "+i);i={l:u[0],r:u[1]};case"object":if(a={l:A(s(i.l)),r:A(s(i.r))},i.context&&(a.evaluate=i.context),i.evaluate&&(a.evaluate=s(i.evaluate)),y(a.l)){var l=N(a.l),c=new m("_p"+S++);a.expanded={},a.expanded.l=l([a.l.clone(),c]),x(a.expanded.l),w(a.expanded.l),a.expanded.r=l([a.r,c])}break;case"function":a=i;break;default:throw TypeError("Unsupported type of rule: "+o)}t.push(a)}return t}(t);for(var a=v(e,r),o={},u=(a=A(a)).toString({parenthesis:"all"});!o[u];){o[u]=!0,S=0;for(var l=0;l<t.length;l++)"function"==typeof t[l]?a=t[l](a,i):(x(a),a=k(a,t[l])),M(a);u=a.toString({parenthesis:"all"})}return a}});function A(t){return t.transform(function(t,r,n){return e.isParenthesisNode(t)?t.content:t})}_.simplifyCore=d,_.resolve=v;var E={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};_.rules=[d,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},h,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"}];var S=0,k=a("applyRule",{"Node, Object":function(e,t){var r=e;if(r instanceof f||r instanceof c){if(r.args)for(var n=0;n<r.args.length;n++)r.args[n]=k(r.args[n],t)}else r instanceof p&&r.content&&(r.content=k(r.content,t));var i=t.r,a=L(t.l,r)[0];if(!a&&t.expanded&&(i=t.expanded.r,a=L(t.expanded.l,r)[0]),a){var o=r.implicit;r=i.clone(),o&&"implicit"in i&&(r.implicit=!0),r=function e(t){return t.isSymbolNode&&a.placeholders.hasOwnProperty(t.name)?a.placeholders[t.name].clone():t.map(e)}(r)}return r}});function O(e,t){var r={placeholders:{}};if(!e.placeholders&&!t.placeholders)return r;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var n in e.placeholders)if(r.placeholders[n]=e.placeholders[n],t.placeholders.hasOwnProperty(n)&&!T(e.placeholders[n],t.placeholders[n]))return null;for(var i in t.placeholders)r.placeholders[i]=t.placeholders[i];return r}function C(e,t){var r,n=[];if(0===e.length||0===t.length)return n;for(var i=0;i<e.length;i++)for(var a=0;a<t.length;a++)(r=O(e[i],t[a]))&&n.push(r);return n}function L(t,r,n){var i=[{placeholders:{}}];if(t instanceof f&&r instanceof f||t instanceof c&&r instanceof c){if(t instanceof f){if(t.op!==r.op||t.fn!==r.fn)return[]}else if(t instanceof c&&t.name!==r.name)return[];if((1!==r.args.length||1!==t.args.length)&&y(r)&&!n){if(r.args.length>=2&&2===t.args.length){for(var a=function(e,t){var r,n,i=[],a=N(e);if(b(e,t))for(var o=0;o<e.args.length;o++)(n=e.args.slice(0)).splice(o,1),r=1===n.length?n[0]:a(n),i.push(a([e.args[o],r]));else r=1===(n=e.args.slice(1)).length?n[0]:a(n),i.push(a([e.args[0],r]));return i}(r,t.context),s=[],p=0;p<a.length;p++){var h=L(t,a[p],!0);s=s.concat(h)}return s}if(t.args.length>2)throw Error("Unexpected non-binary associative function: "+t.toString());return[]}for(var d=[],v=0;v<t.args.length;v++){var g=L(t.args[v],r.args[v]);if(0===g.length)return[];d.push(g)}i=function(e){if(0===e.length)return e;for(var t=e.reduce(C),r=[],n={},i=0;i<t.length;i++){var a=JSON.stringify(t[i]);n[a]||(n[a]=!0,r.push(t[i]))}return r}(d)}else if(t instanceof m){if(0===t.name.length)throw new Error("Symbol in rule has 0 length...!?");if(o.hasOwnProperty(t.name)){if(!E[t.name])throw new Error("Built in constant: "+t.name+" is not supported by simplify.");if(t.name!==r.name)return[]}else if("n"===t.name[0]||"_p"===t.name.substring(0,2))i[0].placeholders[t.name]=r;else if("v"===t.name[0]){if(e.isConstantNode(r))return[];i[0].placeholders[t.name]=r}else{if("c"!==t.name[0])throw new Error("Invalid symbol in rule: "+t.name);if(!(r instanceof l))return[];i[0].placeholders[t.name]=r}}else{if(!(t instanceof l))return[];if(!u(t.value,r.value))return[]}return i}function T(e,t){if(e instanceof l&&t instanceof l){if(!u(e.value,t.value))return!1}else if(e instanceof m&&t instanceof m){if(e.name!==t.name)return!1}else{if(!(e instanceof f&&t instanceof f||e instanceof c&&t instanceof c))return!1;if(e instanceof f){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof c&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var r=0;r<e.args.length;r++)if(!T(e.args[r],t.args[r]))return!1}return!0}return _}},RYjE:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("PXUV").stringify,a=r("PXUV").escape,o=r("4bae").isSafeProperty,s=r("Z2I/").hasOwnProperty;t.name="ObjectNode",t.path="expression.node",t.factory=function(e,t,u,l){var c=u(r("K6lB"));function f(t){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!==n(t)||!Object.keys(t).every(function(r){return e.isNode(t[r])})))throw new TypeError("Object containing Nodes expected")}return(f.prototype=new c).type="ObjectNode",f.prototype.isObjectNode=!0,f.prototype._compile=function(e,t){var r={};for(var n in this.properties)if(s(this.properties,n)){var a=i(n),u=JSON.parse(a);if(!o(this.properties,u))throw new Error('No access to property "'+u+'"');r[u]=this.properties[n]._compile(e,t)}return function(e,t,n){var i={};for(var a in r)s(r,a)&&(i[a]=r[a](e,t,n));return i}},f.prototype.forEach=function(e){for(var t in this.properties)this.properties.hasOwnProperty(t)&&e(this.properties[t],"properties["+i(t)+"]",this)},f.prototype.map=function(e){var t={};for(var r in this.properties)this.properties.hasOwnProperty(r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+i(r)+"]",this)));return new f(t)},f.prototype.clone=function(){var e={};for(var t in this.properties)this.properties.hasOwnProperty(t)&&(e[t]=this.properties[t]);return new f(e)},f.prototype._toString=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push(i(r)+": "+this.properties[r].toString(e));return"{"+t.join(", ")+"}"},f.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},f.fromJSON=function(e){return new f(e.properties)},f.prototype.toHTML=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push('<span class="math-symbol math-property">'+a(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},f.prototype._toTex=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},f}},RiEc:function(e,t,r){"use strict";e.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]}},S1G9:function(e,t,r){"use strict";var n=r("sTyi").flatten;t.name="mad",t.factory=function(e,t,i,a){var o=i(r("fTxE")),s=i(r("R5C+")),u=i(r("g1iB")),l=i(r("O1N0")),c=i(r("D2JG")),f=a("mad",{"Array | Matrix":p,"...":function(e){return p(e)}});return f.toTex=void 0,f;function p(e){if(0===(e=n(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=u(e);return u(s(e,function(e){return o(l(e,t))}))}catch(r){throw r instanceof TypeError&&-1!==r.message.indexOf("median")?new TypeError(r.message.replace("median","mad")):c(r,"mad")}}}},S2pI:function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}(n.prototype=new RangeError).constructor=RangeError,n.prototype.name="IndexError",n.prototype.isIndexError=!0,e.exports=n},STXO:function(e,t,r){"use strict";e.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},SgCf:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("Z2I/").lazy,a=r("Z2I/").isFactory,o=r("Z2I/").traverse,s=r("ESPO");t.math=!0,t.name="import",t.factory=function(e,t,r,u,l){function c(e,t,r){if(r.wrap&&"function"==typeof t&&(i=function(){for(var e=[],t=0,r=arguments.length;t<r;t++){var i=arguments[t];e[t]=i&&i.valueOf()}return n.apply(l,e)},(n=t).transform&&(i.transform=n.transform),t=i),d(l[e])&&d(t))return t=r.override?u(e,t.signatures):u(l[e],t),l[e]=t,f(e,t),void l.emit("import",e,function(){return t});var n,i;if(void 0===l[e]||r.override)return l[e]=t,f(e,t),void l.emit("import",e,function(){return t});if(!r.silent)throw new Error('Cannot import "'+e+'": already exists')}function f(e,t){t&&"function"==typeof t.transform?(l.expression.transform[e]=t.transform,v(e)&&(l.expression.mathWithTransform[e]=t.transform)):(delete l.expression.transform[e],v(e)&&(l.expression.mathWithTransform[e]=t))}function p(e){delete l.expression.transform[e],v(e)?l.expression.mathWithTransform[e]=l[e]:delete l.expression.mathWithTransform[e]}function m(e,t){if("string"==typeof e.name){var n=e.name,a=n in l.expression.transform,s=e.path?o(l,e.path):l,c=s.hasOwnProperty(n)?s[n]:void 0,f=function(){var i=r(e);if(i&&"function"==typeof i.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(d(c)&&d(i))return t.override||(i=u(c,i)),i;if(void 0===c||t.override)return i;if(!t.silent)throw new Error('Cannot import "'+n+'": already exists')};!1!==e.lazy?(i(s,n,f),a?p(n):("expression.transform"===e.path||g(e))&&i(l.expression.mathWithTransform,n,f)):(s[n]=f(),a?p(n):("expression.transform"===e.path||g(e))&&(l.expression.mathWithTransform[n]=f())),l.emit("import",n,f,e.path)}else r(e)}function h(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&e.isUnit(t)||t&&e.isComplex(t)||t&&e.isBigNumber(t)||t&&e.isFraction(t)||t&&e.isMatrix(t)||t&&Array.isArray(t)}function d(e){return"function"==typeof e&&"object"===n(e.signatures)}function v(e){return!b.hasOwnProperty(e)}function g(e){return void 0===e.path&&!b.hasOwnProperty(e.name)}var b={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function e(t,r){var i=arguments.length;if(1!==i&&2!==i)throw new s("import",i,1,2);if(r||(r={}),a(t))m(t,r);else if(Array.isArray(t))t.forEach(function(t){e(t,r)});else if("object"===n(t)){for(var o in t)if(t.hasOwnProperty(o)){var u=t[o];h(u)?c(o,u,r):a(t)?m(t,r):e(u,r)}}else if(!r.silent)throw new TypeError("Factory, Object, or Array expected")}},t.lazy=!0},SpzL:function(e,t,r){"use strict";t.name="dotMultiply",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=n(r("oiZ2")),s=r("bFQJ"),u=n(r("4fwU")),l=n(r("yuUi")),c=n(r("nr1U")),f=n(r("zbDx")),p=n(r("BLb5")),m=i("dotMultiply",{"any, any":o,"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,o,!1)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,o,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,o,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,o)},"Array, Array":function(e,t){return m(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return m(a(e),t)},"Matrix, Array":function(e,t){return m(e,a(t))},"SparseMatrix, any":function(e,t){return c(e,t,o,!1)},"DenseMatrix, any":function(e,t){return p(e,t,o,!1)},"any, SparseMatrix":function(e,t){return c(t,e,o,!0)},"any, DenseMatrix":function(e,t){return p(t,e,o,!0)},"Array, any":function(e,t){return p(a(e),t,o,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,o,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(s.operators.dotMultiply,"${args[1]}\\right)")},m}},Sqzl:function(e,t,r){"use strict";var n=r("8t5a"),i=r("kIfi"),a=n.factory("Complex",{},"",i,{on:function(e,t){}}),o=[function(e){return a(e)},function(e){return a(0,e)},function(e){return a(-e)},function(e){return a(0,-e)}];function s(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!=0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[a(0)];var r,n="number"==typeof e;(n||0===e.re||0===e.im)&&(r=n?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var i=e.arg(),s=e.abs(),u=[],l=Math.pow(s,1/t),c=0;c<t;c++){var f=(r+4*c)/t;f!==Math.round(f)?u.push(a({r:l,phi:(i+2*Math.PI*c)/t})):u.push(o[f%4](l))}return u}t.name="nthRoots",t.factory=function(e,t,r,n){var i=n("nthRoots",{Complex:function(e){return s(e,2)},"Complex, number":s});return i.toTex={2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},i}},TBdG:function(e,t,r){"use strict";e.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},TIKY:function(e,t,r){"use strict";e.exports={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]}},TMsE:function(e,t,r){"use strict";e.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},TQi2:function(e,t,r){"use strict";var n=r("sTyi").flatten;t.name="mode",t.factory=function(e,t,i,a){var o=i(r("b1uj")),s=i(r("0FyF"));return a("mode",{"Array | Matrix":u,"...":function(e){return u(e)}});function u(e){if(0===(e=n(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},r=[],i=0,a=0;a<e.length;a++){var u=e[a];if(s(u)&&o(u))throw new Error("Cannot calculate mode of an array containing NaN values");u in t||(t[u]=0),t[u]++,t[u]===i?r.push(u):t[u]>i&&(i=t[u],r=[u])}return r}}},TZsI:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=r("PXUV").endsWith,o=r("Z2I/").clone,s=r("pNN2");t.name="Unit",t.path="type",t.factory=function(e,t,u,l,c){var f,p,m,h=u(r("XXst")),d=u(r("O1N0")),v=u(r("oiZ2")),g=u(r("WPGy")),b=u(r("CaZ0")),y=u(r("fTxE")),x=u(r("ueXR")),w=u(r("N5iU")),M=u(r("uvCz")),N=u(r("0FyF")),_=u(r("UdNV")),A=u(r("uUDd")),E=u(r("78Py")),S=u(r("8t5a"));function k(t,r){if(!(this instanceof k))throw new Error("Constructor must be called with the new operator");if(null!=t&&!N(t)&&!e.isComplex(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==r&&("string"!=typeof r||""===r))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==r){var n=k.parse(r);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:V,prefix:F.NONE,power:0}],this.dimensions=[];for(var i=0;i<R.length;i++)this.dimensions[i]=0}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function O(){for(;" "===m||"\t"===m;)L()}function C(e){return e>="0"&&e<="9"}function L(){m=f.charAt(++p)}function T(e){m=f.charAt(p=e)}function P(){var e,t="";if(e=p,"+"===m?L():"-"===m&&(t+=m,L()),!function(e){return e>="0"&&e<="9"||"."===e}(m))return T(e),null;if("."===m){if(t+=m,L(),!C(m))return T(e),null}else{for(;C(m);)t+=m,L();"."===m&&(t+=m,L())}for(;C(m);)t+=m,L();if("E"===m||"e"===m){var r="",n=p;if(r+=m,L(),"+"!==m&&"-"!==m||(r+=m,L()),!C(m))return T(n),t;for(t+=r;C(m);)t+=m,L()}return t}function I(){for(var e="",t=f.charCodeAt(p);t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122;)e+=m,L(),t=f.charCodeAt(p);return((t=e.charCodeAt(0))>=65&&t<=90||t>=97&&t<=122)&&e||null}function z(e){return m===e?(L(),e):null}function B(e){if(X.hasOwnProperty(e)){var t=X[e];return{unit:t,prefix:t.prefixes[""]}}for(var r in X)if(X.hasOwnProperty(r)&&a(e,r)){var n=X[r],i=e.substring(0,e.length-r.length),o=n.prefixes.hasOwnProperty(i)?n.prefixes[i]:void 0;if(void 0!==o)return{unit:n,prefix:o}}return null}function j(e){return e.equalBase(D.NONE)&&null!==e.value&&!t.predictable?e.value:e}k.prototype.type="Unit",k.prototype.isUnit=!0,k.parse=function(r,n){if(n=n||{},p=-1,m="","string"!=typeof(f=r))throw new TypeError("Invalid argument in Unit.parse, string expected");var i=new k;i.units=[];var a=1,o=!1;L(),O();var s=P(),u=null;s&&(u="BigNumber"===t.number?new e.BigNumber(s):"Fraction"===t.number?new e.Fraction(s):parseFloat(s),O(),z("*")?(a=1,o=!0):z("/")&&(a=-1,o=!0));for(var l=[],c=1;;){for(O();"("===m;)l.push(a),c*=a,a=1,L(),O();var h;if(!m)break;var d=m;if(null===(h=I()))throw new SyntaxError('Unexpected "'+d+'" in "'+f+'" at index '+p.toString());var v=B(h);if(null===v)throw new SyntaxError('Unit "'+h+'" not found.');var g=a*c;if(O(),z("^")){O();var b=P();if(null===b)throw new SyntaxError('In "'+r+'", "^" must be followed by a floating-point number');g*=b}i.units.push({unit:v.unit,prefix:v.prefix,power:g});for(var y=0;y<R.length;y++)i.dimensions[y]+=(v.unit.dimensions[y]||0)*g;for(O();")"===m;){if(0===l.length)throw new SyntaxError('Unmatched ")" in "'+f+'" at index '+p.toString());c/=l.pop(),L(),O()}o=!1,z("*")?(a=1,o=!0):z("/")?(a=-1,o=!0):a=1,v.unit.base&&(H.auto[v.unit.base.key]={unit:v.unit,prefix:v.prefix})}if(O(),m)throw new SyntaxError('Could not parse: "'+r+'"');if(o)throw new SyntaxError('Trailing characters: "'+r+'"');if(0!==l.length)throw new SyntaxError('Unmatched "(" in "'+f+'"');if(0===i.units.length&&!n.allowNoUnits)throw new SyntaxError('"'+r+'" contains no units');return i.value=void 0!==u?i._normalize(u):null,i},k.prototype.clone=function(){var e=new k;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=o(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var r in e.units[t]={},this.units[t])this.units[t].hasOwnProperty(r)&&(e.units[t][r]=this.units[t][r]);return e},k.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},k.prototype._normalize=function(e){var t,r,n,i,a;if(null==e||0===this.units.length)return e;if(this._isDerived()){var o=e;a=k._getNumberConverter(A(e));for(var s=0;s<this.units.length;s++)t=a(this.units[s].unit.value),i=a(this.units[s].prefix.value),n=a(this.units[s].power),o=v(o,b(v(t,i),n));return o}return t=(a=k._getNumberConverter(A(e)))(this.units[0].unit.value),r=a(this.units[0].unit.offset),i=a(this.units[0].prefix.value),v(h(e,r),v(t,i))},k.prototype._denormalize=function(e,t){var r,n,i,a,o;if(null==e||0===this.units.length)return e;if(this._isDerived()){var s=e;o=k._getNumberConverter(A(e));for(var u=0;u<this.units.length;u++)r=o(this.units[u].unit.value),a=o(this.units[u].prefix.value),i=o(this.units[u].power),s=g(s,b(v(r,a),i));return s}return r=(o=k._getNumberConverter(A(e)))(this.units[0].unit.value),a=o(this.units[0].prefix.value),n=o(this.units[0].unit.offset),d(g(g(e,r),null==t?a:t),n)},k.isValuelessUnit=function(e){return null!==B(e)},k.prototype.hasBase=function(e){if("string"==typeof e&&(e=D[e]),!e)return!1;for(var t=0;t<R.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},k.prototype.equalBase=function(e){for(var t=0;t<R.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},k.prototype.equals=function(e){return this.equalBase(e)&&M(this.value,e.value)},k.prototype.multiply=function(e){for(var t=this.clone(),r=0;r<R.length;r++)t.dimensions[r]=(this.dimensions[r]||0)+(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var i={};for(var a in e.units[n])i[a]=e.units[n][a];t.units.push(i)}if(null!==this.value||null!==e.value){var o=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=v(o,s)}else t.value=null;return t.skipAutomaticSimplification=!1,j(t)},k.prototype.divide=function(e){for(var t=this.clone(),r=0;r<R.length;r++)t.dimensions[r]=(this.dimensions[r]||0)-(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var i={};for(var a in e.units[n])i[a]=e.units[n][a];i.power=-i.power,t.units.push(i)}if(null!==this.value||null!==e.value){var o=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=g(o,s)}else t.value=null;return t.skipAutomaticSimplification=!1,j(t)},k.prototype.pow=function(e){for(var t=this.clone(),r=0;r<R.length;r++)t.dimensions[r]=(this.dimensions[r]||0)*e;for(var n=0;n<t.units.length;n++)t.units[n].power*=e;return t.value=null!==t.value?b(t.value,e):null,t.skipAutomaticSimplification=!1,j(t)},k.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?y(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=X.W);return e},k.prototype.to=function(t){var r,n=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(r=k.parse(t),!this.equalBase(r))throw new Error("Units do not match ('".concat(r.toString(),"' != '").concat(this.toString(),"')"));if(null!==r.value)throw new Error("Cannot convert to a unit with a value");return r.value=o(n),r.fixPrefix=!0,r.skipAutomaticSimplification=!0,r}if(e.isUnit(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return(r=t.clone()).value=o(n),r.fixPrefix=!0,r.skipAutomaticSimplification=!0,r}throw new Error("String or Unit expected as parameter")},k.prototype.toNumber=function(e){return E(this.toNumeric(e))},k.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},k.prototype.toString=function(){return this.format()},k.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},k.fromJSON=function(e){var t=new k(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},k.prototype.valueOf=k.prototype.toString,k.prototype.simplify=function(){var e,t,r=this.clone(),n=[];for(var i in Y)if(r.hasBase(D[i])){e=i;break}if("NONE"===e)r.units=[];else if(e&&Y.hasOwnProperty(e)&&(t=Y[e]),t)r.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var a=!1,o=0;o<R.length;o++){var s=R[o];Math.abs(r.dimensions[o]||0)>1e-12&&(Y.hasOwnProperty(s)?n.push({unit:Y[s].unit,prefix:Y[s].prefix,power:r.dimensions[o]||0}):a=!0)}n.length<r.units.length&&!a&&(r.units=n)}return r},k.prototype.toSI=function(){for(var e=this.clone(),t=[],r=0;r<R.length;r++){var n=R[r];if(Math.abs(e.dimensions[r]||0)>1e-12){if(!H.si.hasOwnProperty(n))throw new Error("Cannot express custom unit "+n+" in SI units");t.push({unit:H.si[n].unit,prefix:H.si[n].prefix,power:e.dimensions[r]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},k.prototype.formatUnits=function(){for(var e="",t="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var a=0;a<this.units.length;a++)this.units[a].power<0&&(r>0?(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power+1)>1e-15&&(t+="^"+-this.units[a].power)):(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,t+="^"+this.units[a].power));e=e.substr(1),t=t.substr(1),r>1&&n>0&&(e="("+e+")"),n>1&&r>0&&(t="("+t+")");var o=e;return r>0&&n>0&&(o+=" / "),o+t},k.prototype.format=function(t){var r=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var i in null!=r.value&&e.isComplex(r.value)&&(n=Math.abs(r.value.re)<1e-14),r.units)r.units[i].unit&&("VA"===r.units[i].unit.name&&n?r.units[i].unit=X.VAR:"VAR"!==r.units[i].unit.name||n||(r.units[i].unit=X.VA));1!==r.units.length||r.fixPrefix||Math.abs(r.units[0].power-Math.round(r.units[0].power))<1e-14&&(r.units[0].prefix=r._bestPrefix());var a=r._denormalize(r.value),o=null!==r.value?_(a,t||{}):"",s=r.formatUnits();return r.value&&e.isComplex(r.value)&&(o="("+o+")"),s.length>0&&o.length>0&&(o+=" "),o+s},k.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?y(this.value):0,t=y(this.units[0].unit.value),r=this.units[0].prefix;if(0===e)return r;var n=this.units[0].power,i=Math.log(e/Math.pow(r.value*t,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var a=this.units[0].unit.prefixes;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];if(s.scientific){var u=Math.abs(Math.log(e/Math.pow(s.value*t,n))/Math.LN10-1.2);(u<i||u===i&&s.name.length<r.name.length)&&(r=s,i=u)}}return r},k.prototype.splitUnit=function(e){for(var t=this.clone(),r=[],n=0;n<e.length&&(t=t.to(e[n]),n!==e.length-1);n++){var i=t.toNumeric(),a=w(i),o=new k(M(a,i)?a:x(t.toNumeric()),e[n].toString());r.push(o),t=d(t,o)}for(var s=0,u=0;u<r.length;u++)s=h(s,r[u].value);return M(s,this.value)&&(t.value=0),r.push(t),r};var F={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};F.SHORTLONG=i(F.SHORT,F.LONG),F.BINARY_SHORT=i(F.BINARY_SHORT_SI,F.BINARY_SHORT_IEC),F.BINARY_LONG=i(F.BINARY_LONG_SI,F.BINARY_LONG_IEC);var R=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],D={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var q in D)D[q].key=q;var V={name:"",base:{},value:1,offset:0,dimensions:R.map(function(e){return 0})},X={meter:{name:"meter",base:D.LENGTH,prefixes:F.LONG,value:1,offset:0},inch:{name:"inch",base:D.LENGTH,prefixes:F.NONE,value:.0254,offset:0},foot:{name:"foot",base:D.LENGTH,prefixes:F.NONE,value:.3048,offset:0},yard:{name:"yard",base:D.LENGTH,prefixes:F.NONE,value:.9144,offset:0},mile:{name:"mile",base:D.LENGTH,prefixes:F.NONE,value:1609.344,offset:0},link:{name:"link",base:D.LENGTH,prefixes:F.NONE,value:.201168,offset:0},rod:{name:"rod",base:D.LENGTH,prefixes:F.NONE,value:5.0292,offset:0},chain:{name:"chain",base:D.LENGTH,prefixes:F.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:D.LENGTH,prefixes:F.NONE,value:1e-10,offset:0},m:{name:"m",base:D.LENGTH,prefixes:F.SHORT,value:1,offset:0},in:{name:"in",base:D.LENGTH,prefixes:F.NONE,value:.0254,offset:0},ft:{name:"ft",base:D.LENGTH,prefixes:F.NONE,value:.3048,offset:0},yd:{name:"yd",base:D.LENGTH,prefixes:F.NONE,value:.9144,offset:0},mi:{name:"mi",base:D.LENGTH,prefixes:F.NONE,value:1609.344,offset:0},li:{name:"li",base:D.LENGTH,prefixes:F.NONE,value:.201168,offset:0},rd:{name:"rd",base:D.LENGTH,prefixes:F.NONE,value:5.02921,offset:0},ch:{name:"ch",base:D.LENGTH,prefixes:F.NONE,value:20.1168,offset:0},mil:{name:"mil",base:D.LENGTH,prefixes:F.NONE,value:254e-7,offset:0},m2:{name:"m2",base:D.SURFACE,prefixes:F.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:D.SURFACE,prefixes:F.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:D.SURFACE,prefixes:F.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:D.SURFACE,prefixes:F.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:D.SURFACE,prefixes:F.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:D.SURFACE,prefixes:F.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:D.SURFACE,prefixes:F.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:D.SURFACE,prefixes:F.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:D.SURFACE,prefixes:F.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:D.SURFACE,prefixes:F.NONE,value:1e4,offset:0},m3:{name:"m3",base:D.VOLUME,prefixes:F.CUBIC,value:1,offset:0},L:{name:"L",base:D.VOLUME,prefixes:F.SHORT,value:.001,offset:0},l:{name:"l",base:D.VOLUME,prefixes:F.SHORT,value:.001,offset:0},litre:{name:"litre",base:D.VOLUME,prefixes:F.LONG,value:.001,offset:0},cuin:{name:"cuin",base:D.VOLUME,prefixes:F.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:D.VOLUME,prefixes:F.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:D.VOLUME,prefixes:F.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:D.VOLUME,prefixes:F.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:D.VOLUME,prefixes:F.NONE,value:15e-6,offset:0},drop:{name:"drop",base:D.VOLUME,prefixes:F.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:D.VOLUME,prefixes:F.NONE,value:5e-8,offset:0},minim:{name:"minim",base:D.VOLUME,prefixes:F.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:D.VOLUME,prefixes:F.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:D.VOLUME,prefixes:F.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:D.VOLUME,prefixes:F.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:D.VOLUME,prefixes:F.NONE,value:1e-6,offset:0},cup:{name:"cup",base:D.VOLUME,prefixes:F.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:D.VOLUME,prefixes:F.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:D.VOLUME,prefixes:F.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:D.VOLUME,prefixes:F.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:D.VOLUME,prefixes:F.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:D.VOLUME,prefixes:F.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:D.VOLUME,prefixes:F.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:D.VOLUME,prefixes:F.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:D.VOLUME,prefixes:F.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:D.VOLUME,prefixes:F.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:D.VOLUME,prefixes:F.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:D.VOLUME,prefixes:F.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:D.VOLUME,prefixes:F.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:D.VOLUME,prefixes:F.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:D.VOLUME,prefixes:F.NONE,value:.1173478,offset:0},obl:{name:"obl",base:D.VOLUME,prefixes:F.NONE,value:.1589873,offset:0},g:{name:"g",base:D.MASS,prefixes:F.SHORT,value:.001,offset:0},gram:{name:"gram",base:D.MASS,prefixes:F.LONG,value:.001,offset:0},ton:{name:"ton",base:D.MASS,prefixes:F.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:D.MASS,prefixes:F.SHORT,value:1e3,offset:0},grain:{name:"grain",base:D.MASS,prefixes:F.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:D.MASS,prefixes:F.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:D.MASS,prefixes:F.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:D.MASS,prefixes:F.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:D.MASS,prefixes:F.NONE,value:45.359237,offset:0},stick:{name:"stick",base:D.MASS,prefixes:F.NONE,value:.115,offset:0},stone:{name:"stone",base:D.MASS,prefixes:F.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:D.MASS,prefixes:F.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:D.MASS,prefixes:F.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:D.MASS,prefixes:F.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:D.MASS,prefixes:F.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:D.MASS,prefixes:F.NONE,value:45.359237,offset:0},s:{name:"s",base:D.TIME,prefixes:F.SHORT,value:1,offset:0},min:{name:"min",base:D.TIME,prefixes:F.NONE,value:60,offset:0},h:{name:"h",base:D.TIME,prefixes:F.NONE,value:3600,offset:0},second:{name:"second",base:D.TIME,prefixes:F.LONG,value:1,offset:0},sec:{name:"sec",base:D.TIME,prefixes:F.LONG,value:1,offset:0},minute:{name:"minute",base:D.TIME,prefixes:F.NONE,value:60,offset:0},hour:{name:"hour",base:D.TIME,prefixes:F.NONE,value:3600,offset:0},day:{name:"day",base:D.TIME,prefixes:F.NONE,value:86400,offset:0},week:{name:"week",base:D.TIME,prefixes:F.NONE,value:604800,offset:0},month:{name:"month",base:D.TIME,prefixes:F.NONE,value:2629800,offset:0},year:{name:"year",base:D.TIME,prefixes:F.NONE,value:31557600,offset:0},decade:{name:"decade",base:D.TIME,prefixes:F.NONE,value:315576e3,offset:0},century:{name:"century",base:D.TIME,prefixes:F.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:D.TIME,prefixes:F.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:D.FREQUENCY,prefixes:F.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:D.FREQUENCY,prefixes:F.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:D.ANGLE,prefixes:F.SHORT,value:1,offset:0},radian:{name:"radian",base:D.ANGLE,prefixes:F.LONG,value:1,offset:0},deg:{name:"deg",base:D.ANGLE,prefixes:F.SHORT,value:null,offset:0},degree:{name:"degree",base:D.ANGLE,prefixes:F.LONG,value:null,offset:0},grad:{name:"grad",base:D.ANGLE,prefixes:F.SHORT,value:null,offset:0},gradian:{name:"gradian",base:D.ANGLE,prefixes:F.LONG,value:null,offset:0},cycle:{name:"cycle",base:D.ANGLE,prefixes:F.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:D.ANGLE,prefixes:F.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:D.ANGLE,prefixes:F.NONE,value:null,offset:0},A:{name:"A",base:D.CURRENT,prefixes:F.SHORT,value:1,offset:0},ampere:{name:"ampere",base:D.CURRENT,prefixes:F.LONG,value:1,offset:0},K:{name:"K",base:D.TEMPERATURE,prefixes:F.NONE,value:1,offset:0},degC:{name:"degC",base:D.TEMPERATURE,prefixes:F.NONE,value:1,offset:273.15},degF:{name:"degF",base:D.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:D.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:D.TEMPERATURE,prefixes:F.NONE,value:1,offset:0},celsius:{name:"celsius",base:D.TEMPERATURE,prefixes:F.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:D.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:D.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:D.AMOUNT_OF_SUBSTANCE,prefixes:F.SHORT,value:1,offset:0},mole:{name:"mole",base:D.AMOUNT_OF_SUBSTANCE,prefixes:F.LONG,value:1,offset:0},cd:{name:"cd",base:D.LUMINOUS_INTENSITY,prefixes:F.NONE,value:1,offset:0},candela:{name:"candela",base:D.LUMINOUS_INTENSITY,prefixes:F.NONE,value:1,offset:0},N:{name:"N",base:D.FORCE,prefixes:F.SHORT,value:1,offset:0},newton:{name:"newton",base:D.FORCE,prefixes:F.LONG,value:1,offset:0},dyn:{name:"dyn",base:D.FORCE,prefixes:F.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:D.FORCE,prefixes:F.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:D.FORCE,prefixes:F.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:D.FORCE,prefixes:F.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:D.FORCE,prefixes:F.LONG,value:4448.2216,offset:0},J:{name:"J",base:D.ENERGY,prefixes:F.SHORT,value:1,offset:0},joule:{name:"joule",base:D.ENERGY,prefixes:F.SHORT,value:1,offset:0},erg:{name:"erg",base:D.ENERGY,prefixes:F.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:D.ENERGY,prefixes:F.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:D.ENERGY,prefixes:F.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:D.ENERGY,prefixes:F.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:D.ENERGY,prefixes:F.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:D.POWER,prefixes:F.SHORT,value:1,offset:0},watt:{name:"watt",base:D.POWER,prefixes:F.LONG,value:1,offset:0},hp:{name:"hp",base:D.POWER,prefixes:F.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:D.POWER,prefixes:F.SHORT,value:S.I,offset:0},VA:{name:"VA",base:D.POWER,prefixes:F.SHORT,value:1,offset:0},Pa:{name:"Pa",base:D.PRESSURE,prefixes:F.SHORT,value:1,offset:0},psi:{name:"psi",base:D.PRESSURE,prefixes:F.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:D.PRESSURE,prefixes:F.NONE,value:101325,offset:0},bar:{name:"bar",base:D.PRESSURE,prefixes:F.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:D.PRESSURE,prefixes:F.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:D.PRESSURE,prefixes:F.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:D.PRESSURE,prefixes:F.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:D.PRESSURE,prefixes:F.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:D.ELECTRIC_CHARGE,prefixes:F.LONG,value:1,offset:0},C:{name:"C",base:D.ELECTRIC_CHARGE,prefixes:F.SHORT,value:1,offset:0},farad:{name:"farad",base:D.ELECTRIC_CAPACITANCE,prefixes:F.LONG,value:1,offset:0},F:{name:"F",base:D.ELECTRIC_CAPACITANCE,prefixes:F.SHORT,value:1,offset:0},volt:{name:"volt",base:D.ELECTRIC_POTENTIAL,prefixes:F.LONG,value:1,offset:0},V:{name:"V",base:D.ELECTRIC_POTENTIAL,prefixes:F.SHORT,value:1,offset:0},ohm:{name:"ohm",base:D.ELECTRIC_RESISTANCE,prefixes:F.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:D.ELECTRIC_INDUCTANCE,prefixes:F.LONG,value:1,offset:0},H:{name:"H",base:D.ELECTRIC_INDUCTANCE,prefixes:F.SHORT,value:1,offset:0},siemens:{name:"siemens",base:D.ELECTRIC_CONDUCTANCE,prefixes:F.LONG,value:1,offset:0},S:{name:"S",base:D.ELECTRIC_CONDUCTANCE,prefixes:F.SHORT,value:1,offset:0},weber:{name:"weber",base:D.MAGNETIC_FLUX,prefixes:F.LONG,value:1,offset:0},Wb:{name:"Wb",base:D.MAGNETIC_FLUX,prefixes:F.SHORT,value:1,offset:0},tesla:{name:"tesla",base:D.MAGNETIC_FLUX_DENSITY,prefixes:F.LONG,value:1,offset:0},T:{name:"T",base:D.MAGNETIC_FLUX_DENSITY,prefixes:F.SHORT,value:1,offset:0},b:{name:"b",base:D.BIT,prefixes:F.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:D.BIT,prefixes:F.BINARY_LONG,value:1,offset:0},B:{name:"B",base:D.BIT,prefixes:F.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:D.BIT,prefixes:F.BINARY_LONG,value:8,offset:0}},U={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};function G(t){if("BigNumber"===t.number){var r=s.pi(e.BigNumber);X.rad.value=new e.BigNumber(1),X.deg.value=r.div(180),X.grad.value=r.div(200),X.cycle.value=r.times(2),X.arcsec.value=r.div(648e3),X.arcmin.value=r.div(10800)}else X.rad.value=1,X.deg.value=Math.PI/180,X.grad.value=Math.PI/200,X.cycle.value=2*Math.PI,X.arcsec.value=Math.PI/648e3,X.arcmin.value=Math.PI/10800;X.radian.value=X.rad.value,X.degree.value=X.deg.value,X.gradian.value=X.grad.value}G(t),c.on("config",function(e,t){e.number!==t.number&&G(e)});var H={si:{NONE:{unit:V,prefix:F.NONE[""]},LENGTH:{unit:X.m,prefix:F.SHORT[""]},MASS:{unit:X.g,prefix:F.SHORT.k},TIME:{unit:X.s,prefix:F.SHORT[""]},CURRENT:{unit:X.A,prefix:F.SHORT[""]},TEMPERATURE:{unit:X.K,prefix:F.SHORT[""]},LUMINOUS_INTENSITY:{unit:X.cd,prefix:F.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:X.mol,prefix:F.SHORT[""]},ANGLE:{unit:X.rad,prefix:F.SHORT[""]},BIT:{unit:X.bit,prefix:F.SHORT[""]},FORCE:{unit:X.N,prefix:F.SHORT[""]},ENERGY:{unit:X.J,prefix:F.SHORT[""]},POWER:{unit:X.W,prefix:F.SHORT[""]},PRESSURE:{unit:X.Pa,prefix:F.SHORT[""]},ELECTRIC_CHARGE:{unit:X.C,prefix:F.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:X.F,prefix:F.SHORT[""]},ELECTRIC_POTENTIAL:{unit:X.V,prefix:F.SHORT[""]},ELECTRIC_RESISTANCE:{unit:X.ohm,prefix:F.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:X.H,prefix:F.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:X.S,prefix:F.SHORT[""]},MAGNETIC_FLUX:{unit:X.Wb,prefix:F.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:X.T,prefix:F.SHORT[""]},FREQUENCY:{unit:X.Hz,prefix:F.SHORT[""]}}};H.cgs=JSON.parse(JSON.stringify(H.si)),H.cgs.LENGTH={unit:X.m,prefix:F.SHORT.c},H.cgs.MASS={unit:X.g,prefix:F.SHORT[""]},H.cgs.FORCE={unit:X.dyn,prefix:F.SHORT[""]},H.cgs.ENERGY={unit:X.erg,prefix:F.NONE[""]},H.us=JSON.parse(JSON.stringify(H.si)),H.us.LENGTH={unit:X.ft,prefix:F.NONE[""]},H.us.MASS={unit:X.lbm,prefix:F.NONE[""]},H.us.TEMPERATURE={unit:X.degF,prefix:F.NONE[""]},H.us.FORCE={unit:X.lbf,prefix:F.NONE[""]},H.us.ENERGY={unit:X.BTU,prefix:F.BTU[""]},H.us.POWER={unit:X.hp,prefix:F.NONE[""]},H.us.PRESSURE={unit:X.psi,prefix:F.NONE[""]},H.auto=JSON.parse(JSON.stringify(H.si));var Y=H.auto;for(var Z in k.setUnitSystem=function(e){if(!H.hasOwnProperty(e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(H).join(", "));Y=H[e]},k.getUnitSystem=function(){for(var e in H)if(H[e]===Y)return e},k.typeConverters={BigNumber:function(t){return new e.BigNumber(t+"")},Fraction:function(t){return new e.Fraction(t)},Complex:function(e){return e},number:function(e){return e}},k._getNumberConverter=function(e){if(!k.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return k.typeConverters[e]},X){var J=X[Z];J.dimensions=J.base.dimensions}for(var K in U)if(U.hasOwnProperty(K)){var W=X[U[K]],Q={};for(var $ in W)W.hasOwnProperty($)&&(Q[$]=W[$]);Q.name=K,X[K]=Q}return k.createUnit=function(e,t){if("object"!==n(e))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var r in e)if(e.hasOwnProperty(r)&&k.deleteUnit(r),e[r].aliases)for(var i=0;i<e[r].aliases.length;i++)k.deleteUnit(e[r].aliases[i]);var a;for(var o in e)e.hasOwnProperty(o)&&(a=k.createUnitSingle(o,e[o]));return a},k.createUnitSingle=function(e,t,r){if(null==t&&(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(X.hasOwnProperty(e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){var r=e.charAt(t),n=function(e){return/^[a-zA-Z]$/.test(e)};if(0===t&&!n(r))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!n(r)&&!(r>="0"&&r<="9"))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var i,a,o=null,s=[],u=0;if(t&&"Unit"===t.type)o=t.clone();else if("string"==typeof t)""!==t&&(i=t);else{if("object"!==n(t))throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');i=t.definition,a=t.prefixes,u=t.offset,t.aliases&&(s=t.aliases.valueOf())}if(s)for(var l=0;l<s.length;l++)if(X.hasOwnProperty(s[l]))throw new Error('Cannot create alias "'+s[l]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!o)try{o=k.parse(i,{allowNoUnits:!0})}catch(A){throw A.message='Could not create unit "'+e+'" from "'+i+'": '+A.message,A}else i&&"Unit"===i.type&&(o=i.clone());s=s||[],u=u||0,a=a&&a.toUpperCase&&F[a.toUpperCase()]||F.NONE;var c={};if(o){c={name:e,value:o.value,dimensions:o.dimensions.slice(0),prefixes:a,offset:u};var f=!1;for(var p in D)if(D.hasOwnProperty(p)){for(var m=!0,h=0;h<R.length;h++)if(Math.abs((c.dimensions[h]||0)-(D[p].dimensions[h]||0))>1e-12){m=!1;break}if(m){f=!0,c.base=D[p];break}}if(!f){var d=e+"_STUFF",v={dimensions:o.dimensions.slice(0)};v.key=d,D[d]=v,Y[d]={unit:c,prefix:F.NONE[""]},c.base=D[d]}}else{var g=e+"_STUFF";if(R.indexOf(g)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var b in R.push(g),D)D.hasOwnProperty(b)&&(D[b].dimensions[R.length-1]=0);for(var y={dimensions:[]},x=0;x<R.length;x++)y.dimensions[x]=0;y.dimensions[R.length-1]=1,y.key=g,D[g]=y,c={name:e,value:1,dimensions:D[g].dimensions.slice(0),prefixes:a,offset:u,base:D[g]},Y[g]={unit:c,prefix:F.NONE[""]}}k.UNITS[e]=c;for(var w=0;w<s.length;w++){var M=s[w],N={};for(var _ in c)c.hasOwnProperty(_)&&(N[_]=c[_]);N.name=M,k.UNITS[M]=N}return new k(null,e)},k.deleteUnit=function(e){delete k.UNITS[e]},k.PREFIXES=F,k.BASE_DIMENSIONS=R,k.BASE_UNITS=D,k.UNIT_SYSTEMS=H,k.UNITS=X,k},t.math=!0},Tb0o:function(e,t,r){"use strict";var n=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function i(e,t){var r=e;"keep"!==t&&(r=e.getContent());for(var i=r.getIdentifier(),a=0;a<n.length;a++)if(i in n[a])return a;return null}e.exports.properties=n,e.exports.getPrecedence=i,e.exports.getAssociativity=function(e,t){var r=e;"keep"!==t&&(r=e.getContent());var a=r.getIdentifier(),o=i(r,t);if(null===o)return null;var s=n[o][a];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+a+"' has the invalid associativity '"+s.associativity+"'.")}return null},e.exports.isAssociativeWith=function(e,t,r){var a="keep"!==r?e.getContent():e,o="keep"!==r?e.getContent():t,s=a.getIdentifier(),u=o.getIdentifier(),l=i(a,r);if(null===l)return null;var c=n[l][s];if(c.hasOwnProperty("associativeWith")&&c.associativeWith instanceof Array){for(var f=0;f<c.associativeWith.length;f++)if(c.associativeWith[f]===u)return!0;return!1}return null}},U36N:function(e,t,r){"use strict";t.name="csMark",t.path="algebra.sparse",t.factory=function(e,t,n){var i=n(r("BEMT"));return function(e,t){e[t]=i(e[t])}}},U7S5:function(e,t,r){"use strict";var n=r("Z2I/").clone,i=r("sTyi").flatten;t.name="flatten",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=o("flatten",{Array:function(e){return i(n(e))},Matrix:function(e){var t=i(n(e.toArray()));return s(t)}});return u.toTex=void 0,u}},UGRu:function(e,t,r){"use strict";e.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var","quantileSeq"]}},UNu5:function(e,t,r){"use strict";e.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},UdNV:function(e,t,r){"use strict";var n=r("PXUV");t.name="format",t.factory=function(e,t,r,i){var a=i("format",{any:n.format,"any, Object | function | number":n.format});return a.toTex=void 0,a}},UsNm:function(e,t,r){"use strict";var n=r("sTyi").flatten;t.name="setPowerset",t.factory=function(e,t,i,a){var o=i(r("Lzl2")),s=i(r("v7fr")),u=i(r("Wail")),l=i(r("L2qZ"));return a("setPowerset",{"Array | Matrix":function(e){if(0===u(s(e),new o(0)))return[];for(var t=n(Array.isArray(e)?e:e.toArray()).sort(l),r=[],i=0;i.toString(2).length<=t.length;)r.push(c(t,i.toString(2).split("").reverse())),i++;return function(e){for(var t=[],r=e.length-1;r>0;r--)for(var n=0;n<r;n++)e[n].length>e[n+1].length&&(t=e[n],e[n]=e[n+1],e[n+1]=t);return e}(r)}});function c(e,t){for(var r=[],n=0;n<t.length;n++)"1"===t[n]&&r.push(e[n]);return r}}},Uu3w:function(e,t,r){"use strict";t.factory=function(e,t,r,n,i){var a=i.expression.node.FunctionNode,o=i.expression.node.OperatorNode,s=i.expression.node.SymbolNode,u={add:!0,multiply:!0},l={add:!0,multiply:!0};function c(t,r){if(!e.isOperatorNode(t))return!1;var n=t.fn.toString();return r&&r.hasOwnProperty(n)&&r[n].hasOwnProperty("associative")?r[n].associative:l[n]||!1}function f(t){var r,n=[];return c(t)?(r=t.op,function t(i){for(var a=0;a<i.args.length;a++){var o=i.args[a];e.isOperatorNode(o)&&r===o.op?t(o):n.push(o)}}(t),n):t.args}function p(t){return e.isOperatorNode(t)?function(e){try{return new o(t.op,t.fn,e,t.implicit)}catch(r){return console.error(r),[]}}:function(e){return new a(new s(t.name),e)}}return{createMakeNodeFunction:p,isCommutative:function(t,r){if(!e.isOperatorNode(t))return!0;var n=t.fn.toString();return r&&r.hasOwnProperty(n)&&r[n].hasOwnProperty("commutative")?r[n].commutative:u[n]||!1},isAssociative:c,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=f(t);for(var r=0;r<t.args.length;r++)e(t.args[r])},allChildren:f,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var r=p(t),n=t.args.length,i=0;i<n;i++)e(t.args[i]);if(n>2&&c(t)){for(var a=t.args.pop();t.args.length>0;)a=r([t.args.pop(),a]);t.args=a.args}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var r=p(t),n=t.args.length,i=0;i<n;i++)e(t.args[i]);if(n>2&&c(t)){for(var a=t.args.shift();t.args.length>0;)a=r([a,t.args.shift()]);t.args=a.args}}}}},t.math=!0},Uy8H:function(e,t,r){"use strict";e.exports=[r("rJbg"),r("3nsm"),r("npRa"),r("0n09"),r("8Giu"),r("vu+E"),r("kOws"),r("e+eh"),r("lcdI"),r("NVV3"),r("gVZp"),r("iELQ"),r("F02G"),r("5gcK"),r("xvo9"),r("nsqy"),r("ga3l"),r("apEb"),r("cPXD"),r("BKGL"),r("W2Vm"),r("h6XE"),r("0vDA"),r("vpdz"),r("As8A")]},UzSP:function(e,t,r){"use strict";t.name="docs",t.path="expression",t.factory=function(e,t,n,i){var a={};return a.bignumber=r("1zwi"),a.boolean=r("aUfj"),a.complex=r("Q4Uz"),a.createUnit=r("t9bR"),a.fraction=r("x9aj"),a.index=r("CN1L"),a.matrix=r("sXYj"),a.number=r("4anq"),a.sparse=r("zqB3"),a.splitUnit=r("95nf"),a.string=r("5Flq"),a.unit=r("n9Ln"),a.e=r("nfMp"),a.E=r("nfMp"),a.false=r("irfK"),a.i=r("Kain"),a[1/0]=r("E8Bt"),a.LN2=r("dk7G"),a.LN10=r("rhOl"),a.LOG2E=r("EJNv"),a.LOG10E=r("Ewol"),a.NaN=r("R++/"),a.null=r("ovxO"),a.pi=r("mLuZ"),a.PI=r("mLuZ"),a.phi=r("NTJZ"),a.SQRT1_2=r("wEzv"),a.SQRT2=r("mFhs"),a.tau=r("IN5n"),a.true=r("ILoc"),a.version=r("5QTM"),a.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},a.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},a.planckConstant={description:"Planck constant",examples:["planckConstant"]},a.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},a.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},a.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},a.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},a.coulomb={description:"Coulomb's constant",examples:["coulomb"]},a.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},a.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},a.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},a.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},a.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},a.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},a.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},a.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},a.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},a.electronMass={description:"Electron mass",examples:["electronMass"]},a.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},a.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},a.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},a.protonMass={description:"Proton mass",examples:["protonMass"]},a.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},a.neutronMass={description:"Neutron mass",examples:["neutronMass"]},a.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},a.rydberg={description:"Rydberg constant",examples:["rydberg"]},a.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},a.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},a.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},a.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},a.avogadro={description:"Avogadro's number",examples:["avogadro"]},a.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},a.faraday={description:"Faraday constant",examples:["faraday"]},a.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},a.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},a.gasConstant={description:"Gas constant",examples:["gasConstant"]},a.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},a.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},a.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},a.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},a.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},a.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},a.molarMass={description:"Molar mass constant",examples:["molarMass"]},a.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},a.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},a.planckLength={description:"Planck length",examples:["planckLength"]},a.planckMass={description:"Planck mass",examples:["planckMass"]},a.planckTime={description:"Planck time",examples:["planckTime"]},a.planckCharge={description:"Planck charge",examples:["planckCharge"]},a.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},a.derivative=r("rtlt"),a.lsolve=r("1e6s"),a.lup=r("A5Ca"),a.lusolve=r("/uvY"),a.simplify=r("3JUN"),a.rationalize=r("/LKs"),a.slu=r("RiEc"),a.usolve=r("BC0u"),a.qr=r("u3Uq"),a.abs=r("Mu6R"),a.add=r("bvzV"),a.cbrt=r("omec"),a.ceil=r("F82Z"),a.cube=r("CzQx"),a.divide=r("Mxz7"),a.dotDivide=r("Opoe"),a.dotMultiply=r("ZXO2"),a.dotPow=r("krB1"),a.exp=r("4Fzr"),a.expm=r("uC4O"),a.expm1=r("Oufz"),a.fix=r("9zv2"),a.floor=r("/ndI"),a.gcd=r("bRGu"),a.hypot=r("PYmp"),a.lcm=r("iBTj"),a.log=r("CvSI"),a.log2=r("+ejN"),a.log1p=r("f2Hf"),a.log10=r("VCuz"),a.mod=r("FX2J"),a.multiply=r("Hh5B"),a.norm=r("2naj"),a.nthRoot=r("p8eF"),a.nthRoots=r("06sG"),a.pow=r("BGH5"),a.round=r("5ek8"),a.sign=r("Dv31"),a.sqrt=r("qqJO"),a.sqrtm=r("9rHH"),a.square=r("6SCF"),a.subtract=r("B1sb"),a.unaryMinus=r("sY0m"),a.unaryPlus=r("F2PV"),a.xgcd=r("BrDR"),a.bitAnd=r("KT8n"),a.bitNot=r("A75f"),a.bitOr=r("MjoH"),a.bitXor=r("5bck"),a.leftShift=r("wp4q"),a.rightArithShift=r("mVYV"),a.rightLogShift=r("UNu5"),a.bellNumbers=r("Qshr"),a.catalan=r("A5T+"),a.composition=r("LMCw"),a.stirlingS2=r("ODff"),a.config=r("IxMS"),a.import=r("kNEH"),a.typed=r("ZITC"),a.arg=r("c8GX"),a.conj=r("ASst"),a.re=r("J36T"),a.im=r("uGUF"),a.eval=r("OEqT"),a.help=r("REZd"),a.distance=r("zwws"),a.intersect=r("2ppj"),a.and=r("j7N3"),a.not=r("1rA/"),a.or=r("fSdq"),a.xor=r("TIKY"),a.concat=r("4N+4"),a.cross=r("12nF"),a.ctranspose=r("0vMi"),a.det=r("rPDF"),a.diag=r("4TJV"),a.dot=r("Bv1Z"),a.getMatrixDataType=r("dym6"),a.identity=r("+pS6"),a.filter=r("TBdG"),a.flatten=r("z8vq"),a.forEach=r("yHhU"),a.inv=r("uohQ"),a.kron=r("MQmO"),a.map=r("KjYu"),a.ones=r("ChVl"),a.partitionSelect=r("6zig"),a.range=r("f3ew"),a.resize=r("XiQK"),a.reshape=r("we3n"),a.size=r("C3Pk"),a.sort=r("WnPq"),a.squeeze=r("yEOT"),a.subset=r("9ec8"),a.trace=r("9R+p"),a.transpose=r("IhY6"),a.zeros=r("W5Xo"),a.combinations=r("FEDV"),a.factorial=r("d+/v"),a.gamma=r("oZr4"),a.kldivergence=r("EsS/"),a.multinomial=r("pLhR"),a.permutations=r("/dWG"),a.pickRandom=r("slOk"),a.random=r("C139"),a.randomInt=r("3bBt"),a.compare=r("4ZVG"),a.compareNatural=r("rnV6"),a.compareText=r("iLZW"),a.deepEqual=r("XtYG"),a.equal=r("moRB"),a.equalText=r("X2Jq"),a.larger=r("oTYi"),a.largerEq=r("fOfH"),a.smaller=r("f8Lo"),a.smallerEq=r("0Tm1"),a.unequal=r("KSuT"),a.setCartesian=r("xzpM"),a.setDifference=r("dowe"),a.setDistinct=r("E5lj"),a.setIntersect=r("1+Pt"),a.setIsSubset=r("hdzv"),a.setMultiplicity=r("wXLj"),a.setPowerset=r("y7gl"),a.setSize=r("YG+4"),a.setSymDifference=r("fC4Z"),a.setUnion=r("cdr5"),a.erf=r("mlmk"),a.mad=r("Yt5Q"),a.max=r("TMsE"),a.mean=r("MJRY"),a.median=r("UGRu"),a.min=r("47Dd"),a.mode=r("4I3K"),a.prod=r("C4db"),a.quantileSeq=r("9Hq5"),a.std=r("KwE1"),a.sum=r("WH58"),a.var=r("LDb2"),a.acos=r("PZVV"),a.acosh=r("R1Zu"),a.acot=r("aQjk"),a.acoth=r("A5O7"),a.acsc=r("23XJ"),a.acsch=r("rIXY"),a.asec=r("XD8j"),a.asech=r("NpUC"),a.asin=r("d8Aj"),a.asinh=r("2/jM"),a.atan=r("dLp1"),a.atanh=r("avR8"),a.atan2=r("PI1H"),a.cos=r("igGT"),a.cosh=r("9Rxk"),a.cot=r("Qwtb"),a.coth=r("yqZl"),a.csc=r("aFa+"),a.csch=r("ftd0"),a.sec=r("15BG"),a.sech=r("wB2G"),a.sin=r("C+ar"),a.sinh=r("Yssg"),a.tan=r("Werc"),a.tanh=r("6ayK"),a.to=r("xumr"),a.clone=r("STXO"),a.format=r("vtST"),a.isNaN=r("BfPy"),a.isInteger=r("V8sa"),a.isNegative=r("Ce6x"),a.isNumeric=r("DQ65"),a.hasNumericValue=r("19eR"),a.isPositive=r("etXj"),a.isPrime=r("4raW"),a.isZero=r("kF2n"),a.typeof=r("18w3"),a}},V3b4:function(e,t,r){"use strict";var n=r("199F");t.name="Range",t.path="type",t.factory=function(e,t,r,i){function a(t,r,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=t,o=null!=r,s=null!=n;if(i)if(e.isBigNumber(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(o)if(e.isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(s)if(e.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=o?parseFloat(r):0,this.step=s?parseFloat(n):1}return a.prototype.type="Range",a.prototype.isRange=!0,a.parse=function(e){if("string"!=typeof e)return null;var t=e.split(":").map(function(e){return parseFloat(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return new a(t[0],t[1]);case 3:return new a(t[0],t[2],t[1]);default:return null}},a.prototype.clone=function(){return new a(this.start,this.end,this.step)},a.prototype.size=function(){var e=0,t=this.step,r=this.end-this.start;return n.sign(t)===n.sign(r)?e=Math.ceil(r/t):0===r&&(e=0),isNaN(e)&&(e=0),[e]},a.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},a.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},a.prototype.forEach=function(e){var t=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;t<n;)e(t,[i],this),t+=r,i++;else if(r<0)for(;t>n;)e(t,[i],this),t+=r,i++},a.prototype.map=function(e){var t=[];return this.forEach(function(r,n,i){t[n[0]]=e(r,n,i)}),t},a.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r[0]]=t}),e},a.prototype.valueOf=function(){return this.toArray()},a.prototype.format=function(e){var t=n.format(this.start,e);return 1!==this.step&&(t+=":"+n.format(this.step,e)),t+":"+n.format(this.end,e)},a.prototype.toString=function(){return this.format()},a.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},a.fromJSON=function(e){return new a(e.start,e.end,e.step)},a}},"V7+q":function(e,t,r){"use strict";var n=r("LHK7").number.isInteger;t.name="slu",t.factory=function(e,t,i,a){var o=i(r("J64Z")),s=i(r("E3Fe"));return a("slu",{"SparseMatrix, number, number":function(e,t,r){if(!n(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||r>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var i=o(t,e,!1),a=s(e,i,r);return{L:a.L,U:a.U,p:a.pinv,q:i.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}},V8sa:function(e,t,r){"use strict";e.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},VCuz:function(e,t,r){"use strict";e.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},Vgxa:function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("Wy0D");t.name="leftShift",t.factory=function(e,t,a,o){var s=r("bFQJ"),u=a(r("R4H5")),l=a(r("hj6K")),c=a(r("9a6t")),f=a(r("eX2I")),p=a(r("4fwU")),m=a(r("0cRD")),h=a(r("v+4T")),d=a(r("nr1U")),v=a(r("zbDx")),g=a(r("BLb5")),b=o("leftShift",{"number, number":function(e,t){if(!n(e)||!n(t))throw new Error("Integers expected in function leftShift");return e<<t},"BigNumber, BigNumber":i,"SparseMatrix, SparseMatrix":function(e,t){return m(e,t,b,!1)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,b,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,b,!1)},"DenseMatrix, DenseMatrix":function(e,t){return v(e,t,b)},"Array, Array":function(e,t){return b(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return b(u(e),t)},"Matrix, Array":function(e,t){return b(e,u(t))},"SparseMatrix, number | BigNumber":function(e,t){return l(t,0)?e.clone():d(e,t,b,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(t,0)?e.clone():g(e,t,b,!1)},"number | BigNumber, SparseMatrix":function(e,t){return l(e,0)?c(t.size(),t.storage()):h(t,e,b,!0)},"number | BigNumber, DenseMatrix":function(e,t){return l(e,0)?c(t.size(),t.storage()):g(t,e,b,!0)},"Array, number | BigNumber":function(e,t){return b(u(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return b(e,u(t)).valueOf()}});return b.toTex={2:"\\left(${args[0]}".concat(s.operators.leftShift,"${args[1]}\\right)")},b}},W2Vm:function(e,t,r){"use strict";var n=r("1stm");function i(e){return 2/(Math.exp(e)+Math.exp(-e))}t.name="sech",t.factory=function(e,t,r,a){var o=a("sech",{number:i,Complex:function(e){return e.sech()},BigNumber:function(t){return new e.BigNumber(1).div(t.cosh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return o(t.value)},"Array | Matrix":function(e){return n(e,o)}});return o.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},o}},W5Xo:function(e,t,r){"use strict";e.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]}},WH58:function(e,t,r){"use strict";e.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},WPGy:function(e,t,r){"use strict";t.factory=function(e,t,n,i){var a=n(r("7lEX")),o=n(r("uUDd")),s=i("divide",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var r=e.clone(),n=a(1,o(t));return r.value=s(null===r.value?r._normalize(n):r.value,t),r},"number | Fraction | BigNumber, Unit":function(e,t){var r=t.clone();r=r.pow(-1);var n=a(1,o(e));return r.value=s(e,null===t.value?t._normalize(n):t.value),r},"Unit, Unit":function(e,t){return e.divide(t)}});return s}},Wail:function(e,t,r){"use strict";var n=r("Z2I/").clone,i=r("sTyi").validateIndex,a=r("4bae").getSafeProperty,o=r("4bae").setSafeProperty,s=r("X8kj");function u(e,t){if(1!==t.size().length)throw new s(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return a(e,r)}function l(e,t,r){if(1!==t.size().length)throw new s(t.size(),1);var i=t.dimension(0);if("string"!=typeof i)throw new TypeError("String expected as index to retrieve an object property");var a=n(e);return o(a,i,r),a}t.name="subset",t.factory=function(e,t,a,o){var c=a(r("R4H5")),f=o("subset",{"Array, Index":function(e,t){var r=c(e).subset(t);return t.isScalar()?r:r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":u,"string, Index":function(t,r){if(!e.isIndex(r))throw new TypeError("Index expected");if(1!==r.size().length)throw new s(r.size().length,1);var n=t.length;i(r.min()[0],n),i(r.max()[0],n);var a=r.dimension(0),o="";return a.forEach(function(e){o+=t.charAt(e)}),o},"Array, Index, any":function(e,t,r){return c(n(e)).subset(t,r,void 0).valueOf()},"Array, Index, any, any":function(e,t,r,i){return c(n(e)).subset(t,r,i).valueOf()},"Matrix, Index, any":function(e,t,r){return e.clone().subset(t,r)},"Matrix, Index, any, any":function(e,t,r,n){return e.clone().subset(t,r,n)},"string, Index, string":p,"string, Index, string, string":p,"Object, Index, any":l});return f.toTex=void 0,f;function p(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new s(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var a=t.dimension(0);if(a.size()[0]!==r.length)throw new s(a.size()[0],r.length);var o=e.length;i(t.min()[0]),i(t.max()[0]);for(var u=[],l=0;l<o;l++)u[l]=e.charAt(l);if(a.forEach(function(e,t){u[e]=r.charAt(t[0])}),u.length>o)for(var c=o-1,f=u.length;c<f;c++)u[c]||(u[c]=n);return u.join("")}}},Wbaz:function(e,t,r){"use strict";var n=r("1stm");t.name="eval",t.factory=function(e,t,i,a){var o=i(r("MUdo"));return a("compile",{string:function(e){return o(e).compile().eval({})},"string, Object":function(e,t){return o(e).compile().eval(t)},"Array | Matrix":function(e){var t={};return n(e,function(e){return o(e).compile().eval(t)})},"Array | Matrix, Object":function(e,t){return n(e,function(e){return o(e).compile().eval(t)})}})}},Werc:function(e,t,r){"use strict";e.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},WlWA:function(e,t,r){"use strict";e.exports=function(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n}},Wn7N:function(e,t,r){"use strict";var n=r("sTyi").flatten,i=r("sTyi").identify,a=r("sTyi").generalize;t.name="setDifference",t.factory=function(e,t,o,s){var u=o(r("Lzl2")),l=o(r("ZS3Q")),c=o(r("v7fr")),f=o(r("Wail")),p=o(r("L2qZ"));return s("setDifference",{"Array | Matrix, Array | Matrix":function(e,t){var r;if(0===f(c(e),new u(0)))r=[];else{if(0===f(c(t),new u(0)))return n(e.toArray());var o,s=i(n(Array.isArray(e)?e:e.toArray()).sort(p)),m=i(n(Array.isArray(t)?t:t.toArray()).sort(p));r=[];for(var h=0;h<s.length;h++){o=!1;for(var d=0;d<m.length;d++)if(0===p(s[h].value,m[d].value)&&s[h].identifier===m[d].identifier){o=!0;break}o||r.push(s[h])}}return Array.isArray(e)&&Array.isArray(t)?a(r):new l(a(r))}})}},WnPq:function(e,t,r){"use strict";e.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]}},Wntb:function(e,t,r){"use strict";e.exports=[r("FmpH"),r("wJ/n")]},WwBC:function(e,t,r){"use strict";e.exports=[r("fTxE"),r("NEdZ"),r("XXst"),r("Nlbo"),r("EjzI"),r("6pmK"),r("rVKH"),r("irXe"),r("SpzL"),r("B8AT"),r("/bIM"),r("YKbp"),r("ueXR"),r("QllX"),r("uD2I"),r("/d6T"),r("7/oF"),r("7EKm"),r("s/Oj"),r("JBOP"),r("Lx+j"),r("gV/b"),r("NU+P"),r("PjMF"),r("JXtd"),r("Sqzl"),r("CaZ0"),r("N5iU"),r("2C3G"),r("L/Rn"),r("r6hi"),r("O1N0"),r("7DiD"),r("AwYi"),r("cRXI")]},Wy0D:function(e,t,r){"use strict";e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN)}},X2Jq:function(e,t,r){"use strict";e.exports={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]}},X3pa:function(e,t,r){"use strict";t.name="index",t.path="expression.transform",t.factory=function(e,t,r){return function(){for(var t=[],r=0,n=arguments.length;r<n;r++){var i=arguments[r];if(e.isRange(i))i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map(function(e){return e-1});else if(e.isArray(i)||e.isMatrix(i))i=i.map(function(e){return e-1});else if(e.isNumber(i))i--;else if(e.isBigNumber(i))i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");t[r]=i}var a=new e.Index;return e.Index.apply(a,t),a}}},X8kj:function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}(n.prototype=new RangeError).constructor=RangeError,n.prototype.name="DimensionError",n.prototype.isDimensionError=!0,e.exports=n},XD8j:function(e,t,r){"use strict";e.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},XDH7:function(e,t,r){"use strict";var n=r("S2pI");t.transform=function(e){return e&&e.isIndexError?new n(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}},XTu1:function(e,t,r){"use strict";t.name="reviver",t.path="json",t.factory=function(e,t,r,n,i){return function(t,r){var n=e[r&&r.mathjs]||i.expression&&i.expression.node[r&&r.mathjs];return n&&"function"==typeof n.fromJSON?n.fromJSON(r):r}},t.math=!0},XVzI:function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("lwd9");t.name="bitXor",t.factory=function(e,t,a,o){var s=r("bFQJ"),u=a(r("R4H5")),l=a(r("hYuG")),c=a(r("XXc+")),f=a(r("/z5F")),p=a(r("zbDx")),m=a(r("BLb5")),h=o("bitXor",{"number, number":function(e,t){if(!n(e)||!n(t))throw new Error("Integers expected in function bitXor");return e^t},"BigNumber, BigNumber":i,"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return l(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return l(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,h)},"Array, Array":function(e,t){return h(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return h(u(e),t)},"Matrix, Array":function(e,t){return h(e,u(t))},"SparseMatrix, any":function(e,t){return f(e,t,h,!1)},"DenseMatrix, any":function(e,t){return m(e,t,h,!1)},"any, SparseMatrix":function(e,t){return f(t,e,h,!0)},"any, DenseMatrix":function(e,t){return m(t,e,h,!0)},"Array, any":function(e,t){return m(u(e),t,h,!1).valueOf()},"any, Array":function(e,t){return m(u(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(s.operators.bitXor,"${args[1]}\\right)")},h}},"XXc+":function(e,t,r){"use strict";var n=r("X8kj");t.name="algorithm07",t.factory=function(e,t,r,i){var a=e.DenseMatrix;function o(e,t,r,n,i){for(var a=e._values,o=e._index,s=e._ptr,u=s[t],l=s[t+1];u<l;u++){var c=o[u];r[c]=i,n[c]=a[u]}}return function(e,t,r){var s=e._size,u=e._datatype,l=t._size,c=t._datatype;if(s.length!==l.length)throw new n(s.length,l.length);if(s[0]!==l[0]||s[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+l+")");var f,p,m,h=s[0],d=s[1],v=0,g=r;"string"==typeof u&&u===c&&(v=i.convert(0,f=u),g=i.find(r,[f,f]));var b=[];for(p=0;p<h;p++)b[p]=[];var y=new a({data:b,size:[h,d],datatype:f}),x=[],w=[],M=[],N=[];for(m=0;m<d;m++){var _=m+1;for(o(e,m,M,x,_),o(t,m,N,w,_),p=0;p<h;p++)b[p][m]=g(M[p]===_?x[p]:v,N[p]===_?w[p]:v)}return y}}},XXst:function(e,t,r){"use strict";t.factory=function(e,t,r,n){var i=n("add",{"number, number":function(e,t){return e+t},"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=i(r.value,t.value),r.fixPrefix=!1,r}});return i}},"XZ/J":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("XDH7").transform,a=r("4bae").setSafeProperty;t.factory=function(e,t,o,s){var u=o(r("Wail")),l=o(r("R4H5"));return function(e,t,r){try{if(Array.isArray(e))return l(e).subset(t,r).valueOf();if(e&&"function"==typeof e.subset)return e.subset(t,r);if("string"==typeof e)return u(e,t,r);if("object"===n(e)){if(!t.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return a(e,t.getObjectProperty(),r),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw i(o)}}}},Xahq:function(e,t,r){"use strict";e.exports=[r("c0b4")]},XiQK:function(e,t,r){"use strict";e.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}},XtYG:function(e,t,r){"use strict";e.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},Y8oi:function(e,t,r){"use strict";e.exports=[r("AoHJ"),r("aOPr"),r("LccJ"),r("XVzI"),r("Vgxa"),r("9k7+"),r("+EvI")]},"YG+4":function(e,t,r){"use strict";e.exports={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]}},YKbp:function(e,t,r){"use strict";var n=r("1stm");t.name="expm1",t.factory=function(e,t,i,a){var o=r("bFQJ"),s=a("expm1",{number:Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6},Complex:function(t){var r=Math.exp(t.re);return new e.Complex(r*Math.cos(t.im)-1,r*Math.sin(t.im))},BigNumber:function(e){return e.exp().minus(1)},"Array | Matrix":function(e){return n(e,s)}});return s.toTex="\\left(e".concat(o.operators.pow,"{${args[0]}}-1\\right)"),s}},YZQq:function(e,t,r){"use strict";var n=r("XDH7").transform;t.name="concat",t.path="expression.transform",t.factory=function(e,t,i,a){var o=i(r("1wo0"));return a("concat",{"...any":function(t){var r=t.length-1,i=t[r];e.isNumber(i)?t[r]=i-1:e.isBigNumber(i)&&(t[r]=i.minus(1));try{return o.apply(null,t)}catch(a){throw n(a)}}})}},Ydx7:function(e,t,r){"use strict";var n=r("sTyi").flatten;t.name="setSymDifference",t.factory=function(e,t,i,a){var o=i(r("Lzl2")),s=i(r("1wo0")),u=i(r("v7fr")),l=i(r("Wail")),c=i(r("Wn7N"));return a("setSymDifference",{"Array | Matrix, Array | Matrix":function(e,t){if(0===l(u(e),new o(0)))return n(t);if(0===l(u(t),new o(0)))return n(e);var r=n(e),i=n(t);return s(c(r,i),c(i,r))}})}},YgF4:function(e,t,r){"use strict";var n=r("Z2I/").clone,i=r("PXUV").format;t.name="trace",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=a(r("NEdZ")),l=o("trace",{Array:function(e){return c(s(e))},SparseMatrix:function(e){var t=e._values,r=e._index,n=e._ptr,a=e._size,o=a[1];if(a[0]===o){var s=0;if(t.length>0)for(var l=0;l<o;l++)for(var c=n[l+1],f=n[l];f<c;f++){var p=r[f];if(p===l){s=u(s,t[f]);break}if(p>l)break}return s}throw new RangeError("Matrix must be square (size: "+i(a)+")")},DenseMatrix:c,any:n});function c(e){var t=e._size,r=e._data;switch(t.length){case 1:if(1===t[0])return n(r[0]);throw new RangeError("Matrix must be square (size: "+i(t)+")");case 2:var a=t[0];if(a===t[1]){for(var o=0,s=0;s<a;s++)o=u(o,r[s][s]);return o}throw new RangeError("Matrix must be square (size: "+i(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i(t)+")")}}return l.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},l}},YlvN:function(e,t,r){"use strict";var n=r("1stm");t.name="complex",t.factory=function(e,t,i,a){var o=r("bFQJ"),s=a("complex",{"":function(){return e.Complex.ZERO},number:function(t){return new e.Complex(t,0)},"number, number":function(t,r){return new e.Complex(t,r)},"BigNumber, BigNumber":function(t,r){return new e.Complex(t.toNumber(),r.toNumber())},Complex:function(e){return e.clone()},string:function(t){return e.Complex(t)},null:function(t){return e.Complex(0)},Object:function(t){if("re"in t&&"im"in t)return new e.Complex(t.re,t.im);if("r"in t&&"phi"in t||"abs"in t&&"arg"in t)return new e.Complex(t);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(e){return n(e,s)}});return s.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(o.symbols.i,"\\cdot\\left(${args[1]}\\right)\\right)")},s}},Yssg:function(e,t,r){"use strict";e.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},Yt5Q:function(e,t,r){"use strict";e.exports={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]}},"Z+Vt":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=r("bFQJ"),o=r("PXUV").escape,s=r("Z2I/").hasOwnProperty,u=r("sTyi").map,l=r("4bae").validateSafeMethod,c=r("4bae").getSafeProperty;t.name="FunctionNode",t.path="expression.node",t.math=!0,t.factory=function(e,t,f,p,m){var h=f(r("K6lB")),d=f(r("FX2d"));function v(t,r){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new d(t)),!e.isNode(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(r)||!r.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=r||[],Object.defineProperty(this,"name",{get:(function(){return this.fn.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var n=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}(v.prototype=new h).type="FunctionNode",v.prototype.isFunctionNode=!0,v.prototype._compile=function(t,r){if(!(this instanceof v))throw new TypeError("No valid FunctionNode");var n=u(this.args,function(e){return e._compile(t,r)});if(e.isSymbolNode(this.fn)){var a=this.fn.name,o=a in t?c(t,a):void 0;if("function"==typeof o&&!0===o.rawArgs){var s=this.args;return function(e,r,n){return(a in e?c(e,a):o)(s,t,i({},e,r))}}if(1===n.length){var f=n[0];return function(e,t,r){return(a in e?c(e,a):o)(f(e,t,r))}}if(2===n.length){var p=n[0],m=n[1];return function(e,t,r){return(a in e?c(e,a):o)(p(e,t,r),m(e,t,r))}}return function(e,t,r){return(a in e?c(e,a):o).apply(null,u(n,function(n){return n(e,t,r)}))}}if(e.isAccessorNode(this.fn)&&e.isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var h=this.fn.object._compile(t,r),d=this.fn.index.getObjectProperty(),g=this.args;return function(e,r,a){var o=h(e,r,a);return l(o,d),o[d]&&o[d].rawArgs?o[d](g,t,i({},e,r)):o[d].apply(o,u(n,function(t){return t(e,r,a)}))}}var b=this.fn._compile(t,r),y=this.args;return function(e,r,a){var o=b(e,r,a);return o&&o.rawArgs?o(y,t,i({},e,r)):o.apply(o,u(n,function(t){return t(e,r,a)}))}},v.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},v.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new v(t,r)},v.prototype.clone=function(){return new v(this.fn,this.args.slice(0))};var g=v.prototype.toString;function b(t,r,i){for(var a,o="",s=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),u=0;null!==(a=s.exec(t));)if(o+=t.substring(u,a.index),u=a.index,"$$"===a[0])o+="$",u++;else{u+=a[0].length;var l=r[a[1]];if(!l)throw new ReferenceError("Template: Property "+a[1]+" does not exist.");if(void 0===a[2])switch(n(l)){case"string":o+=l;break;case"object":if(e.isNode(l))o+=l.toTex(i);else{if(!Array.isArray(l))throw new TypeError("Template: "+a[1]+" has to be a Node, String or array of Nodes");o+=l.map(function(t,r){if(e.isNode(t))return t.toTex(i);throw new TypeError("Template: "+a[1]+"["+r+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+a[1]+" has to be a Node, String or array of Nodes")}else{if(!e.isNode(l[a[2]]&&l[a[2]]))throw new TypeError("Template: "+a[1]+"["+a[2]+"] is not a Node.");o+=l[a[2]].toTex(i)}}return o+t.slice(u)}v.prototype.toString=function(e){var t,r=this.fn.toString(e);return e&&"object"===n(e.handler)&&s(e.handler,r)&&(t=e.handler[r](this,e)),void 0!==t?t:g.call(this,e)},v.prototype._toString=function(t){var r=this.args.map(function(e){return e.toString(t)});return(e.isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+r.join(", ")+")"},v.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},v.fromJSON=function(e){return new v(e.fn,e.args)},v.prototype.toHTML=function(e){var t=this.args.map(function(t){return t.toHTML(e)});return'<span class="math-function">'+o(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var y=v.prototype.toTex;return v.prototype.toTex=function(e){var t;return e&&"object"===n(e.handler)&&s(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:y.call(this,e)},v.prototype._toTex=function(e){var t,r,i=this.args.map(function(t){return t.toTex(e)});switch(!m[this.name]||"function"!=typeof m[this.name].toTex&&"object"!==n(m[this.name].toTex)&&"string"!=typeof m[this.name].toTex||(t=m[this.name].toTex),n(t)){case"function":r=t(this,e);break;case"string":r=b(t,this,e);break;case"object":switch(n(t[i.length])){case"function":r=t[i.length](this,e);break;case"string":r=b(t[i.length],this,e)}}return void 0!==r?r:b(a.defaultTemplate,this,e)},v.prototype.getIdentifier=function(){return this.type+":"+this.name},v}},"Z+cb":function(e,t,r){"use strict";var n=r("3LJV"),i=r("rq6S"),a=r("G23K");t.name="sum",t.factory=function(e,t,o,s){var u=o(r("XXst")),l=o(r("D2JG")),c=s("sum",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(e,t){try{return i(e,t,u)}catch(r){throw l(r,"sum")}},"...":function(e){if(a(e))throw new TypeError("Scalar values expected in function sum");return f(e)}});return c.toTex=void 0,c;function f(r){var i;if(n(r,function(e){try{i=void 0===i?e:u(i,e)}catch(t){throw l(t,"sum",e)}}),void 0===i)switch(t.number){case"number":return 0;case"BigNumber":return new e.BigNumber(0);case"Fraction":return new e.Fraction(0);default:return 0}return i}}},"Z2I/":function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("pvRk");t.clone=function e(r){var a=n(r);if("number"===a||"string"===a||"boolean"===a||null==r)return r;if("function"==typeof r.clone)return r.clone();if(Array.isArray(r))return r.map(function(t){return e(t)});if(r instanceof Date)return new Date(r.valueOf());if(i(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return t.map(r,e)},t.map=function(e,r){var n={};for(var i in e)t.hasOwnProperty(e,i)&&(n[i]=r(e[i]));return n},t.extend=function(e,r){for(var n in r)t.hasOwnProperty(r,n)&&(e[n]=r[n]);return e},t.deepExtend=function e(r,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var i in n)if(t.hasOwnProperty(n,i))if(n[i]&&n[i].constructor===Object)void 0===r[i]&&(r[i]={}),r[i].constructor===Object?e(r[i],n[i]):r[i]=n[i];else{if(Array.isArray(n[i]))throw new TypeError("Arrays are not supported by deepExtend");r[i]=n[i]}return r},t.deepEqual=function(e,r){var n,i,a;if(Array.isArray(e)){if(!Array.isArray(r))return!1;if(e.length!==r.length)return!1;for(i=0,a=e.length;i<a;i++)if(!t.deepEqual(e[i],r[i]))return!1;return!0}if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(n in e)if(!t.deepEqual(e[n],r[n]))return!1;for(n in r)if(!t.deepEqual(e[n],r[n]))return!1;return!0}return e===r},t.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(e){}return!1},t.lazy=function(e,r,n){if(t.canDefineProperty()){var i,a=!0;Object.defineProperty(e,r,{get:function(){return a&&(i=n(),a=!1),i},set:function(e){i=e,a=!1},configurable:!0,enumerable:!0})}else e[r]=n()},t.traverse=function(e,t){var r=e;if(t)for(var n=t.split("."),i=0;i<n.length;i++){var a=n[i];a in r||(r[a]={}),r=r[a]}return r},t.hasOwnProperty=function(e,t){return e&&Object.hasOwnProperty.call(e,t)},t.isFactory=function(e){return e&&"function"==typeof e.factory}},ZITC:function(e,t,r){"use strict";e.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},ZS3Q:function(e,t,r){"use strict";var n=r("LHK7"),i=r("X8kj"),a=n.string,o=n.array,s=n.object,u=n.number,l=Array.isArray,c=u.isNumber,f=u.isInteger,p=a.isString,m=o.validateIndex;t.name="DenseMatrix",t.path="type",t.factory=function(e,t,u,h){var d=u(r("xFnQ")),v=u(r("ohYX"));function g(t,r){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!p(r))throw new Error("Invalid datatype: "+r);if(e.isMatrix(t))"DenseMatrix"===t.type?(this._data=s.clone(t._data),this._size=s.clone(t._size),this._datatype=r||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=r||t._datatype);else if(t&&l(t.data)&&l(t.size))this._data=t.data,this._size=t.size,this._datatype=r||t.datatype;else if(l(t))this._data=function e(t){for(var r=0,n=t.length;r<n;r++){var i=t[r];l(i)?t[r]=e(i):i&&!0===i.isMatrix&&(t[r]=e(i.valueOf()))}return t}(t),this._size=o.size(this._data),o.validate(this._data,this._size),this._datatype=r;else{if(t)throw new TypeError("Unsupported type of data ("+n.types.type(t)+")");this._data=[],this._size=[0],this._datatype=r}}function b(t,r){if(!e.isIndex(r))throw new TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var n=r.size();if(n.length!==t._size.length)throw new i(n.length,t._size.length);for(var a=r.min(),o=r.max(),s=0,u=t._size.length;s<u;s++)m(a[s],t._size[s]),m(o[s],t._size[s]);return new g(function e(t,r,n,i){var a=i===n-1,o=r.dimension(i);return a?o.map(function(e){return m(e,t.length),t[e]}).valueOf():o.map(function(a){return m(a,t.length),e(t[a],r,n,i+1)}).valueOf()}(t._data,r,n.length,0),t._datatype)}function y(t,r,n,a){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var u,l=r.size(),c=r.isScalar();if(e.isMatrix(n)?(u=n.size(),n=n.valueOf()):u=o.size(n),c){if(0!==u.length)throw new TypeError("Scalar expected");t.set(r.min(),n,a)}else{if(l.length<t._size.length)throw new i(l.length,t._size.length,"<");if(u.length<l.length){for(var f=0,p=0;1===l[f]&&1===u[f];)f++;for(;1===l[f];)p++,f++;n=o.unsqueeze(n,l.length,p,u)}if(!s.deepEqual(l,u))throw new i(l,u,">");w(t,r.max().map(function(e){return e+1}),a),function e(t,r,n,i,a){var o=a===i-1;r.dimension(a).forEach(o?function(e,r){m(e),t[e]=n[r[0]]}:function(o,s){m(o),e(t[o],r,n[s[0]],i,a+1)})}(t._data,r,n,l.length,0)}return t}function x(e,t,r){if(0===t.length){for(var n=e._data;l(n);)n=n[0];return n}return e._size=t.slice(0),e._data=o.resize(e._data,e._size,r),e}function w(e,t,r){for(var n=e._size.slice(0),i=!1;n.length<t.length;)n.push(0),i=!0;for(var a=0,o=t.length;a<o;a++)t[a]>n[a]&&(n[a]=t[a],i=!0);i&&x(e,n,r)}return(g.prototype=new v).type="DenseMatrix",g.prototype.isDenseMatrix=!0,g.prototype.getDataType=function(){return d(this._data)},g.prototype.storage=function(){return"dense"},g.prototype.datatype=function(){return this._datatype},g.prototype.create=function(e,t){return new g(e,t)},g.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return b(this,e);case 2:case 3:return y(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},g.prototype.get=function(e){if(!l(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new i(e.length,this._size.length);for(var t=0;t<e.length;t++)m(e[t],this._size[t]);for(var r=this._data,n=0,a=e.length;n<a;n++){var o=e[n];m(o,r.length),r=r[o]}return r},g.prototype.set=function(e,t,r){if(!l(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new i(e.length,this._size.length,"<");var n,a,o;w(this,e.map(function(e){return e+1}),r);var s=this._data;for(n=0,a=e.length-1;n<a;n++)m(o=e[n],s.length),s=s[o];return m(o=e[e.length-1],s.length),s[o]=t,this},g.prototype.resize=function(e,t,r){if(!l(e))throw new TypeError("Array expected");return x(r?this.clone():this,e,t)},g.prototype.reshape=function(e,t){var r=t?this.clone():this;return r._data=o.reshape(r._data,e),r._size=e.slice(0),r},g.prototype.clone=function(){return new g({data:s.clone(this._data),size:s.clone(this._size),datatype:this._datatype})},g.prototype.size=function(){return this._size.slice(0)},g.prototype.map=function(e){var t=this;return new g({data:function r(n,i){return l(n)?n.map(function(e,t){return r(e,i.concat(t))}):e(n,i,t)}(this._data,[]),size:s.clone(this._size),datatype:this._datatype})},g.prototype.forEach=function(e){var t=this;!function r(n,i){l(n)?n.forEach(function(e,t){r(e,i.concat(t))}):e(n,i,t)}(this._data,[])},g.prototype.toArray=function(){return s.clone(this._data)},g.prototype.valueOf=function(){return this._data},g.prototype.format=function(e){return a.format(this._data,e)},g.prototype.toString=function(){return a.format(this._data)},g.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},g.prototype.diagonal=function(t){if(t){if(e.isBigNumber(t)&&(t=t.toNumber()),!c(t)||!f(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var r=t>0?t:0,n=t<0?-t:0,i=Math.min(this._size[0]-n,this._size[1]-r),a=[],o=0;o<i;o++)a[o]=this._data[o+n][o+r];return new g({data:a,size:[i],datatype:this._datatype})},g.diagonal=function(t,r,n,i,a){if(!l(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(e.isBigNumber(t)&&(t=t.toNumber()),!c(t)||!f(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(e.isBigNumber(n)&&(n=n.toNumber()),!c(n)||!f(n))throw new TypeError("The parameter k must be an integer number")}else n=0;i&&p(a)&&(i=h.convert(i,a));var s,u=n>0?n:0,m=n<0?-n:0,d=t[0],v=t[1],b=Math.min(d-m,v-u);if(l(r)){if(r.length!==b)throw new Error("Invalid value array length");s=function(e){return r[e]}}else if(e.isMatrix(r)){var y=r.size();if(1!==y.length||y[0]!==b)throw new Error("Invalid matrix length");s=function(e){return r.get([e])}}else s=function(){return r};i||(i=e.isBigNumber(s(0))?new e.BigNumber(0):0);var x=[];if(t.length>0){x=o.resize(x,t,i);for(var w=0;w<b;w++)x[w+m][w+u]=s(w)}return new g({data:x,size:[d,v]})},g.fromJSON=function(e){return new g(e)},g.prototype.swapRows=function(e,t){if(!(c(e)&&f(e)&&c(t)&&f(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return m(e,this._size[0]),m(t,this._size[0]),g._swapRows(e,t,this._data),this},g._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n},e.Matrix._storage.dense=g,e.Matrix._storage.default=g,g},t.lazy=!1},ZVta:function(e,t,r){"use strict";e.exports=[r("52D4")]},ZXMR:function(e,t,r){"use strict";var n=r("X8kj");t.name="algorithm05",t.factory=function(e,t,i,a){var o=i(r("hj6K")),s=e.SparseMatrix;return function(e,t,r){var i=e._values,u=e._index,l=e._ptr,c=e._size,f=e._datatype,p=t._values,m=t._index,h=t._ptr,d=t._size,v=t._datatype;if(c.length!==d.length)throw new n(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var g,b=c[0],y=c[1],x=o,w=0,M=r;"string"==typeof f&&f===v&&(x=a.find(o,[g=f,g]),w=a.convert(0,g),M=a.find(r,[g,g]));var N,_,A,E,S=i&&p?[]:void 0,k=[],O=[],C=new s({values:S,index:k,ptr:O,size:[b,y],datatype:g}),L=S?[]:void 0,T=S?[]:void 0,P=[],I=[];for(_=0;_<y;_++){O[_]=k.length;var z=_+1;for(A=l[_],E=l[_+1];A<E;A++)k.push(N=u[A]),P[N]=z,L&&(L[N]=i[A]);for(A=h[_],E=h[_+1];A<E;A++)P[N=m[A]]!==z&&k.push(N),I[N]=z,T&&(T[N]=p[A]);if(S)for(A=O[_];A<k.length;){var B=P[N=k[A]],j=I[N];if(B===z||j===z){var F=M(B===z?L[N]:w,j===z?T[N]:w);x(F,w)?k.splice(A,1):(S.push(F),A++)}}}return O[y]=k.length,C}}},ZXO2:function(e,t,r){"use strict";e.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},ZfQs:function(e,t,r){"use strict";t.name="compareText",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=n(r("uUDd")),s=n(r("zbDx")),u=n(r("BLb5")),l=i("compareText",{"any, any":c,"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,c)},"Array, Array":function(e,t){return l(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return l(a(e),t)},"Matrix, Array":function(e,t){return l(e,a(t))},"DenseMatrix, any":function(e,t){return u(e,t,c,!1)},"any, DenseMatrix":function(e,t){return u(t,e,c,!0)},"Array, any":function(e,t){return u(a(e),t,c,!1).valueOf()},"any, Array":function(e,t){return u(a(t),e,c,!0).valueOf()}});function c(t,r){if(!e.isString(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+o(t)+", index: 0)");if(!e.isString(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+o(r)+", index: 1)");return t===r?0:t>r?1:-1}return l.toTex=void 0,l}},ZtGb:function(e,t,r){"use strict";var n=r("ESPO"),i=r("HJTy"),a=r("199F").isNumber;t.name="distribution",t.factory=function(e,t,o,s,u){var l=o(r("R4H5")),c=r("sTyi"),f=o(r("Lz33"));function p(t){if(!m.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var r=Array.prototype.slice.call(arguments,1);return function(t){function r(t,r,n){var i=void 0===r;if(i&&(r=1),e.isMatrix(t))t=t.valueOf();else if(!Array.isArray(t))throw new TypeError("Unsupported type of value in function pickRandom");if(c.size(t).length>1)throw new Error("Only one dimensional vectors supported");var o=0;if(void 0!==n){if(n.length!==t.length)throw new Error("Weights must have the same length as possibles");for(var s=0,u=n.length;s<u;s++){if(!a(n[s])||n[s]<0)throw new Error("Weights must be an array of positive numbers");o+=n[s]}}var l=t.length;if(0===l)return[];if(r>=l)return r>1?t:t[0];for(var p,m=[];m.length<r;){if(void 0===n)p=t[Math.floor(f()*l)];else for(var h=f()*o,d=0,v=t.length;d<v;d++)if((h-=n[d])<0){p=t[d];break}-1===m.indexOf(p)&&m.push(p)}return i?m[0]:m}function o(e,r){return e+t()*(r-e)}function u(e,r){return Math.floor(e+t()*(r-e))}function p(e,t,r,n){var i=[];if((e=e.slice(0)).length>1)for(var a=0,o=e.shift();a<o;a++)i.push(p(e,t,r,n));else for(var s=0,u=e.shift();s<u;s++)i.push(n(t,r));return i}return{random:function(t,r,s){var u,c,f;if(arguments.length>3)throw new n("random",arguments.length,0,3);if(1===arguments.length?i(t)?u=t:f=t:2===arguments.length?i(t)?(u=t,f=r):(c=t,f=r):(u=t,c=r,f=s),void 0!==c&&!a(c)||void 0!==f&&!a(f))throw new TypeError("Invalid argument in function random");if(void 0===f&&(f=1),void 0===c&&(c=0),void 0!==u){var m=p(u.valueOf(),c,f,o);return e.isMatrix(u)?l(m):m}return o(c,f)},randomInt:s({"number | Array":function(t){if(i(t)){var r=t,n=p(r.valueOf(),0,1,u);return e.isMatrix(r)?l(n):n}return u(0,t)},"number | Array, number":function(t,r){if(i(t)){var n=t,a=r,o=p(n.valueOf(),0,a,u);return e.isMatrix(n)?l(o):o}return u(t,r)},"Array, number, number":function(e,t,r){var n=p(e.valueOf(),t,r,u);return e&&!0===e.isMatrix?l(n):n}}),pickRandom:s({Array:function(e){return r(e)},"Array, number | Array":function(e,t){var n,i;if(Array.isArray(t))i=t;else{if(!a(t))throw new TypeError("Invalid argument in function pickRandom");n=t}return r(e,n,i)},"Array, number | Array, Array | number":function(e,t,n){var i,o;if(Array.isArray(t)?(o=t,i=n):(o=n,i=t),!Array.isArray(o)||!a(i))throw new TypeError("Invalid argument in function pickRandom");return r(e,i,o)}})}}(m[t].apply(this,r))}var m={uniform:function(){return f},normal:function(){return function(){for(var e,t,r=-1;r<0||r>1;)e=f(),t=f(),r=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*t)+.5;return r}}};return p.toTex=void 0,p}},ZzZD:function(e,t,r){"use strict";t.name="eye",t.factory=function(e,t,r,n){return function(){throw new Error('Function "eye" is renamed to "identity" since mathjs version 5.0.0. To keep eye working, create an alias for it using "math.import({eye: math.identity}, {override: true})"')}}},"aFa+":function(e,t,r){"use strict";e.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},aG3p:function(e,t,r){"use strict";e.exports=function(e,t,r,n,i,a,o,s,u,l,c){var f,p,m,h=e._values,d=e._index,v=e._ptr,g=o._index;if(n)for(p=v[t+1],f=v[t];f<p;f++)r[m=d[f]]!==a?(r[m]=a,g.push(m),l?(n[m]=u?s(h[f],c):s(c,h[f]),i[m]=a):n[m]=h[f]):(n[m]=u?s(h[f],n[m]):s(n[m],h[f]),i[m]=a);else for(p=v[t+1],f=v[t];f<p;f++)r[m=d[f]]!==a?(r[m]=a,g.push(m)):i[m]=a}},aOPr:function(e,t,r){"use strict";var n=r("1stm"),i=r("WlWA"),a=r("199F").isInteger;t.name="bitNot",t.factory=function(e,t,o,s){var u=r("bFQJ"),l=s("bitNot",{number:function(e){if(!a(e))throw new Error("Integer expected in function bitNot");return~e},BigNumber:i,"Array | Matrix":function(e){return n(e,l)}});return l.toTex={1:u.operators.bitNot+"\\left(${args[0]}\\right)"},l}},aQjk:function(e,t,r){"use strict";e.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},aUfj:function(e,t,r){"use strict";e.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},apEb:function(e,t,r){"use strict";var n=r("1stm");t.name="csc",t.factory=function(e,t,r,i){var a=i("csc",{number:function(e){return 1/Math.sin(e)},Complex:function(e){return e.csc()},BigNumber:function(t){return new e.BigNumber(1).div(t.sin())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return a(t.value)},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\csc\\left(${args[0]}\\right)"},a}},arqf:function(e,t,r){"use strict";var n=r("ESPO"),i=r("X8kj"),a=r("S2pI");e.exports=[{name:"ArgumentsError",path:"error",factory:function(){return n}},{name:"DimensionError",path:"error",factory:function(){return i}},{name:"IndexError",path:"error",factory:function(){return a}}]},avR8:function(e,t,r){"use strict";e.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},axAw:function(e,t,r){"use strict";var n=r("sTyi").flatten;t.name="setSize",t.factory=function(e,t,i,a){var o=i(r("L2qZ"));return a("setSize",{"Array | Matrix":function(e){return Array.isArray(e)?n(e).length:n(e.toArray()).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return Array.isArray(e)?n(e).length:n(e.toArray()).length;for(var r=n(Array.isArray(e)?e:e.toArray()).sort(o),i=1,a=1;a<r.length;a++)0!==o(r[a],r[a-1])&&i++;return i}})}},b1Qj:function(e,t,r){"use strict";e.exports=[r("YZQq"),r("tLSF"),r("y0e5"),r("X3pa"),r("n90i"),r("f9EM"),r("m9Da"),r("jOxe"),r("GxfF"),r("jhxP"),r("AaU7")]},b1uj:function(e,t,r){"use strict";var n=r("1stm");t.name="isNaN",t.factory=function(e,t,r,i){return i("isNaN",{number:function(e){return Number.isNaN(e)},BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return n(e,Number.isNaN)}})}},b5sn:function(e,t,r){"use strict";r("2l0z");var n=r("Z2I/").isFactory,i=r("kIfi"),a=r("JrXr"),o=r("SgCf"),s=r("1pc8");t.create=function(e){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var t=[],r=[],u=a.mixin({});u.type={},u.expression={transform:{},mathWithTransform:{}},u.typed=i.create(u.type);var l={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function c(e){if(!n(e))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,a=t.indexOf(e);return-1===a?(i=!0===e.math?e.factory(u.type,l,c,u.typed,u):e.factory(u.type,l,c,u.typed),t.push(e),r.push(i)):i=r[a],i}return u.import=c(o),u.config=c(s),u.expression.mathWithTransform.config=u.config,e&&u.config(e),u}},bFQJ:function(e,t,r){"use strict";var n=r("R4gy");t.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},t.operators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},t.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var i={deg:"^\\circ"};t.escape=function(e){return n(e,{preserveFormatting:!0})},t.toSymbol=function(e,r){return(r=void 0!==r&&r)?i.hasOwnProperty(e)?i[e]:"\\mathrm{"+t.escape(e)+"}":t.symbols.hasOwnProperty(e)?t.symbols[e]:t.escape(e)}},bHCY:function(e,t,r){"use strict";t.name="lsolve",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=n(r("WPGy")),s=n(r("oiZ2")),u=n(r("O1N0")),l=n(r("hj6K")),c=n(r("oJv1")),f=e.DenseMatrix;function p(e,t){for(var r=(t=c(e,t,!0))._data,n=e._size[0],i=e._size[1],a=[],p=e._data,m=0;m<i;m++){var h=r[m][0]||0,d=void 0;if(l(h,0))d=0;else{var v=p[m][m];if(l(v,0))throw new Error("Linear system cannot be solved since matrix is singular");d=o(h,v);for(var g=m+1;g<n;g++)r[g]=[u(r[g][0]||0,s(d,p[g][m]))]}a[m]=[d]}return new f({data:a,size:[n,1]})}return i("lsolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r,n,i=(t=c(e,t,!0))._data,a=e._size[0],p=e._size[1],m=e._values,h=e._index,d=e._ptr,v=[],g=0;g<p;g++){var b=i[g][0]||0;if(l(b,0))v[g]=[0];else{var y=0,x=[],w=[],M=d[g+1];for(n=d[g];n<M;n++)(r=h[n])===g?y=m[n]:r>g&&(x.push(m[n]),w.push(r));if(l(y,0))throw new Error("Linear system cannot be solved since matrix is singular");var N=o(b,y);for(n=0,M=w.length;n<M;n++)i[r=w[n]]=[u(i[r][0]||0,s(N,x[n]))];v[g]=[N]}}return new f({data:v,size:[a,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return p(e,t)},"Array, Array | Matrix":function(e,t){return p(a(e),t).valueOf()}})}},bRGu:function(e,t,r){"use strict";e.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},bvzV:function(e,t,r){"use strict";e.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},c0b4:function(e,t,r){"use strict";t.name="ResultSet",t.path="type",t.factory=function(e,t,r,n){function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return i.prototype.type="ResultSet",i.prototype.isResultSet=!0,i.prototype.valueOf=function(){return this.entries},i.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},i.fromJSON=function(e){return new i(e.entries)},i}},c8GX:function(e,t,r){"use strict";e.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},cFnV:function(e,t,r){"use strict";var n=r("1stm");t.name="im",t.factory=function(e,t,r,i){var a=i("im",{number:function(e){return 0},BigNumber:function(t){return new e.BigNumber(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},a}},cPXD:function(e,t,r){"use strict";var n=r("1stm"),i=r("199F").sign;function a(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*i(e)}t.name="csch",t.factory=function(e,t,r,i){var o=i("csch",{number:a,Complex:function(e){return e.csch()},BigNumber:function(t){return new e.BigNumber(1).div(t.sinh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return o(t.value)},"Array | Matrix":function(e){return n(e,o)}});return o.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},o}},cRXI:function(e,t,r){"use strict";var n=r("199F").isInteger;t.name="xgcd",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=a("xgcd",{"number, number":function(e,r){var i,a,s,u,l=0,c=1,f=1,p=0;if(!n(e)||!n(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)s=e-(a=Math.floor(e/r))*r,i=l,l=c-a*l,c=i,i=f,f=p-a*f,p=i,e=r,r=s;return u=e<0?[-e,-c,-p]:[e,e?c:0,p],"Array"===t.matrix?u:o(u)},"BigNumber, BigNumber":function(r,n){var i,a,s,u,l=new e.BigNumber(0),c=new e.BigNumber(1),f=l,p=c,m=c,h=l;if(!r.isInt()||!n.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!n.isZero();)a=r.div(n).floor(),s=r.mod(n),i=f,f=p.minus(a.times(f)),p=i,i=m,m=h.minus(a.times(m)),h=i,r=n,n=s;return u=r.lt(l)?[r.neg(),p.neg(),h.neg()]:[r,r.isZero()?0:p,h],"Array"===t.matrix?u:o(u)}});return s.toTex=void 0,s}},cdr5:function(e,t,r){"use strict";e.exports={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]}},cqsj:function(e,t,r){"use strict";e.exports=[r("DKez"),r("LPs6"),r("KTle"),r("FETI"),r("Wntb"),r("oNGI"),r("78Py"),r("7lEX"),r("Xahq"),r("9TFD"),r("CDBF")]},"d+/v":function(e,t,r){"use strict";e.exports={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},d8Aj:function(e,t,r){"use strict";e.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]}},dLp1:function(e,t,r){"use strict";e.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]}},dhdP:function(e,t,r){"use strict";t.name="UpdateNode",t.path="expression.node",t.factory=function(e,t,r,n){return function(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}}},djRN:function(e,t,r){"use strict";var n,i;void 0===(i="function"==typeof(n=function(){function e(){return!0}function t(){return!1}function r(){}return function n(){var i=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],a={name:"any",test:e},o=[],s=[],u={types:i,conversions:s,ignore:o};function l(e){var t=j(u.types,function(t){return t.name===e});if(t)return t;if("any"===e)return a;var r=j(u.types,function(t){return t.name.toLowerCase()===e.toLowerCase()});throw new TypeError('Unknown type "'+e+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function c(e){return e===a?999:u.types.indexOf(e)}function f(e){var t=j(u.types,function(t){return t.test(e)});if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function p(e){return e.map(function(e){var t=e.types.map(b);return(e.restParam?"...":"")+t.join("|")}).join(",")}function m(e){var t=I(e);return!!t&&t.restParam}function h(e){return e.types.some(function(e){return null!=e.conversion})}function d(t){if(t&&0!==t.types.length){if(1===t.types.length)return l(t.types[0].name).test;if(2===t.types.length){var r=l(t.types[0].name).test,n=l(t.types[1].name).test;return function(e){return r(e)||n(e)}}var i=t.types.map(function(e){return l(e.name).test});return function(e){for(var t=0;t<i.length;t++)if(i[t](e))return!0;return!1}}return e}function v(e,t){return t<e.params.length?e.params[t]:m(e.params)?I(e.params):null}function g(e,t,r){var n=v(e,t);return(n?r?n.types.filter(y):n.types:[]).map(b)}function b(e){return e.name}function y(e){return null==e.conversion}function x(e,t){var r=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return Object.keys(t)}(F(e,function(e){return g(e,t,!1)}));return-1!==r.indexOf("any")?["any"]:r}function w(e,t,r){var n,i,a,o=e||"unnamed",s=r;for(a=0;a<t.length;a++){var u=s.filter(function(e){var r=d(v(e,a));return(a<e.params.length||m(e.params))&&r(t[a])});if(0===u.length){if((i=x(s,a)).length>0){var l=f(t[a]);return(n=new TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+l+", index: "+a+")")).data={category:"wrongType",fn:o,index:a,actual:l,expected:i},n}}else s=u}var c=s.map(function(e){return m(e.params)?1/0:e.params.length});if(t.length<Math.min.apply(null,c))return i=x(s,a),(n=new TypeError("Too few arguments in function "+o+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:o,index:t.length,expected:i},n;var p=Math.max.apply(null,c);return t.length>p?((n=new TypeError("Too many arguments in function "+o+" (expected: "+p+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:o,index:t.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:t.map(f)},n)}function M(e){for(var t=999,r=0;r<e.types.length;r++)y(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));return t}function N(e){for(var t=999,r=0;r<e.types.length;r++)y(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));return t}function _(e,t){var r;return 0!=(r=e.restParam-t.restParam)?r:0!=(r=h(e)-h(t))?r:0!=(r=M(e)-M(t))?r:N(e)-N(t)}function A(e,t){var r,n,i=Math.min(e.params.length,t.params.length);if(0!=(n=e.params.some(h)-t.params.some(h)))return n;for(r=0;r<i;r++)if(0!=(n=h(e.params[r])-h(t.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=_(e.params[r],t.params[r])))return n;return e.params.length-t.params.length}function E(e){var t,r,n,i,a=[],o=[];switch(e.types.forEach(function(e){e.conversion&&(a.push(l(e.conversion.from).test),o.push(e.conversion.convert))}),o.length){case 0:return function(e){return e};case 1:return t=a[0],n=o[0],function(e){return t(e)?n(e):e};case 2:return t=a[0],r=a[1],n=o[0],i=o[1],function(e){return t(e)?n(e):r(e)?i(e):e};default:return function(e){for(var t=0;t<o.length;t++)if(a[t](e))return o[t](e);return e}}}function S(e,t){return function e(r,n,i){if(n<r.length){var a,o=r[n],s=t?o.types.filter(y):o.types;if(o.restParam){var u=s.filter(y);a=u.length<s.length?[u,s]:[s]}else a=s.map(function(e){return[e]});return F(a,function(t){return e(r,n+1,i.concat([t]))})}return[i.map(function(e,t){return{types:e,restParam:t===r.length-1&&m(r)}})]}(e,0,[])}function k(e,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map(function(e){return function(e,t,r){var n=[];return""!==e.trim()&&(n=e.split(",").map(C).map(function(e,t,n){var i=function(e,t){var r=0===e.indexOf("..."),n=(r?e.length>3?e.slice(3):"any":e).split("|").map(C).filter(L).filter(O),i=function(e,t){var r={};return e.forEach(function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||r[e.from]||(r[e.from]=e)}),Object.keys(r).map(function(e){return r[e]})}(t,n),a=n.map(function(e){var t=l(e);return{name:e,typeIndex:c(t),test:t.test,conversion:null,conversionIndex:-1}}),o=i.map(function(e){var r=l(e.from);return{name:e.from,typeIndex:c(r),test:r.test,conversion:e,conversionIndex:t.indexOf(e)}});return{types:a.concat(o),restParam:r}}(e,r);if(i.restParam&&t!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i})),n.some(P)?null:{params:n,fn:t}}(e,n[e],u.conversions)}).filter(T).forEach(function(e){var t=j(i,function(t){return function(e,t){for(var r=Math.max(e.params.length,t.params.length),n=0;n<r;n++)if(!B(g(e,n,!0),g(t,n,!0)))return!1;var i=e.params.length,a=t.params.length,o=m(e.params),s=m(t.params);return o?s?i===a:a>=i:s?i>=a:i===a}(t,e)});if(t)throw new TypeError('Conflicting signatures "'+p(t.params)+'" and "'+p(e.params)+'".');i.push(e)});var a=F(i,function(e){return(e?S(e.params,!1):[]).map(function(t){return{params:t,fn:e.fn}})}).filter(T);a.sort(A);var o=a[0]&&a[0].params.length<=2&&!m(a[0].params),s=a[1]&&a[1].params.length<=2&&!m(a[1].params),f=a[2]&&a[2].params.length<=2&&!m(a[2].params),v=a[3]&&a[3].params.length<=2&&!m(a[3].params),b=a[4]&&a[4].params.length<=2&&!m(a[4].params),y=a[5]&&a[5].params.length<=2&&!m(a[5].params),x=o&&s&&f&&v&&b&&y,M=a.map(function(e){return function(e){var t,r,n,i;if(m(e)){var a=(t=(i=e,i.slice(0,i.length-1)).map(d)).length,o=d(I(e));return function(e){for(var r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return function(e){for(var t=a;t<e.length;t++)if(!o(e[t]))return!1;return!0}(e)&&e.length>=a+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(r=d(e[0]),function(e){return r(e[0])&&1===e.length}):2===e.length?(r=d(e[0]),n=d(e[1]),function(e){return r(e[0])&&n(e[1])&&2===e.length}):(t=e.map(d),function(e){for(var r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return e.length===t.length})}(e.params)}),N=o?d(a[0].params[0]):t,_=s?d(a[1].params[0]):t,k=f?d(a[2].params[0]):t,R=v?d(a[3].params[0]):t,D=b?d(a[4].params[0]):t,q=y?d(a[5].params[0]):t,V=o?d(a[0].params[1]):t,X=s?d(a[1].params[1]):t,U=f?d(a[2].params[1]):t,G=v?d(a[3].params[1]):t,H=b?d(a[4].params[1]):t,Y=y?d(a[5].params[1]):t,Z=a.map(function(e){return function(e,t){var r=t;if(e.some(h)){var n=m(e),i=e.map(E);r=function(){for(var e=[],r=n?arguments.length-1:arguments.length,a=0;a<r;a++)e[a]=i[a](arguments[a]);return n&&(e[r]=arguments[r].map(i[r])),t.apply(null,e)}}var a=r;if(m(e)){var o=e.length-1;a=function(){return r.apply(null,z(arguments,0,o).concat([z(arguments,o)]))}}return a}(e.params,e.fn)}),J=o?Z[0]:r,K=s?Z[1]:r,W=f?Z[2]:r,Q=v?Z[3]:r,$=b?Z[4]:r,ee=y?Z[5]:r,te=o?a[0].params.length:-1,re=s?a[1].params.length:-1,ne=f?a[2].params.length:-1,ie=v?a[3].params.length:-1,ae=b?a[4].params.length:-1,oe=y?a[5].params.length:-1,se=x?6:0,ue=a.length,le=function(){for(var t=se;t<ue;t++)if(M[t](arguments))return Z[t].apply(null,arguments);throw w(e,arguments,a)},ce=function(e,t){return arguments.length===te&&N(e)&&V(t)?J.apply(null,arguments):arguments.length===re&&_(e)&&X(t)?K.apply(null,arguments):arguments.length===ne&&k(e)&&U(t)?W.apply(null,arguments):arguments.length===ie&&R(e)&&G(t)?Q.apply(null,arguments):arguments.length===ae&&D(e)&&H(t)?$.apply(null,arguments):arguments.length===oe&&q(e)&&Y(t)?ee.apply(null,arguments):le.apply(null,arguments)};try{Object.defineProperty(ce,"name",{value:e})}catch(fe){}return ce.signatures=function(e){var t={};return e.forEach(function(e){e.params.some(h)||S(e.params,!0).forEach(function(r){t[p(r)]=e.fn})}),t}(a),ce}function O(e){return-1===u.ignore.indexOf(e)}function C(e){return e.trim()}function L(e){return!!e}function T(e){return null!==e}function P(e){return 0===e.types.length}function I(e){return e[e.length-1]}function z(e,t,r){return Array.prototype.slice.call(e,t,r)}function B(e,t){for(var r=0;r<e.length;r++)if(-1!==t.indexOf(e[r]))return!0;return!1}function j(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function F(e,t){return Array.prototype.concat.apply([],e.map(t))}function R(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===t)t=n.name;else if(t!==n.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw i.data={actual:n.name,expected:t},i}}return t}function D(e){var t,r={};function n(e,n){if(r.hasOwnProperty(e)&&n!==r[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var i=0;i<e.length;i++){var a=e[i];if("object"==typeof a.signatures)for(var o in a.signatures)a.signatures.hasOwnProperty(o)&&(n(o,a.signatures[o]),r[o]=a.signatures[o]);else{if("string"!=typeof a.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;n(a.signature,a),r[a.signature]=a}}return r}return(u=k("typed",{"string, Object":k,Object:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return k(R(t),e)},"...Function":function(e){return k(R(e),D(e))},"string, ...Function":function(e,t){return k(e,D(t))}})).create=n,u.types=i,u.conversions=s,u.ignore=o,u.convert=function(e,t){var r=f(e);if(t===r)return e;for(var n=0;n<u.conversions.length;n++){var i=u.conversions[n];if(i.from===r&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+r+" to "+t)},u.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof t){r=t.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");r=t}var i=r.join(","),a=e.signatures[i];if(a)return a;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+r.join(", ")+"))")},u.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,e);u.types.push(e)},u.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(e)},u}()})?n.apply(t,[]):n)||(e.exports=i)},dk7G:function(e,t,r){"use strict";e.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},dowe:function(e,t,r){"use strict";e.exports={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]}},dym6:function(e,t,r){"use strict";e.exports={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeof"]}},"e+eh":function(e,t,r){"use strict";var n=r("1stm");t.name="asech",t.factory=function(e,t,r,i){var a=i("asech",{number:function(r){if(r<=1&&r>=-1||t.predictable){r=1/r;var n=Math.sqrt(r*r-1);return r>0||t.predictable?Math.log(n+r):new e.Complex(Math.log(n-r),Math.PI)}return new e.Complex(r,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(t){return new e.BigNumber(1).div(t).acosh()},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},a}},"eVG/":function(e,t,r){"use strict";e.exports=[r("Evgl"),r("Pym+")]},eX2I:function(e,t,r){"use strict";var n=r("X8kj");t.name="algorithm01",t.factory=function(e,t,r,i){var a=e.DenseMatrix;return function(e,t,r,o){var s=e._data,u=e._size,l=e._datatype,c=t._values,f=t._index,p=t._ptr,m=t._size,h=t._datatype;if(u.length!==m.length)throw new n(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,v,g=u[0],b=u[1],y="string"==typeof l&&l===h?l:void 0,x=y?i.find(r,[y,y]):r,w=[];for(d=0;d<g;d++)w[d]=[];var M=[],N=[];for(v=0;v<b;v++){for(var _=v+1,A=p[v+1],E=p[v];E<A;E++)M[d=f[E]]=o?x(c[E],s[d][v]):x(s[d][v],c[E]),N[d]=_;for(d=0;d<g;d++)w[d][v]=N[d]===_?M[d]:s[d][v]}return new a({data:w,size:[g,b],datatype:y})}}},etXj:function(e,t,r){"use strict";e.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},euEg:function(e,t,r){"use strict";t.name="index",t.factory=function(e,t,r,n){return n("index",{"...number | string | BigNumber | Range | Array | Matrix":function(t){var r=t.map(function(t){return e.isBigNumber(t)?t.toNumber():Array.isArray(t)||e.isMatrix(t)?t.map(function(t){return e.isBigNumber(t)?t.toNumber():t}):t}),n=new e.Index;return e.Index.apply(n,r),n}})}},f2Hf:function(e,t,r){"use strict";e.exports={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]}},f3ew:function(e,t,r){"use strict";e.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},f8Lo:function(e,t,r){"use strict";e.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},f9EM:function(e,t,r){"use strict";var n=r("XDH7").transform,i=r("HJTy");t.name="max",t.path="expression.transform",t.factory=function(e,t,a,o){var s=a(r("itDh"));return o("max",{"...any":function(t){if(2===t.length&&i(t[0])){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1))}try{return s.apply(null,t)}catch(a){throw n(a)}}})}},fC4Z:function(e,t,r){"use strict";e.exports={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]}},fOfH:function(e,t,r){"use strict";e.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]}},fSdq:function(e,t,r){"use strict";e.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},fTxE:function(e,t,r){"use strict";var n=r("1stm");t.name="abs",t.factory=function(e,t,r,i){var a=i("abs",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return n(e,a,!0)},Unit:function(e){return e.abs()}});return a.toTex={1:"\\left|${args[0]}\\right|"},a}},fb3Y:function(e,t,r){"use strict";e.exports=[r("UdNV"),r("1YFB")]},ftd0:function(e,t,r){"use strict";e.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},g115:function(e,t,r){"use strict";t.name="rationalize",t.factory=function(e,t,n,i){var a=n(r("RSth")),o=n(r("0VOE")),s=n(r("0fa3")),u=n(r("lFTT")),l=r("199F"),c=n(r("kip4")),f=n(r("ut+i")),p=n(r("FX2d")),m=i("rationalize",{string:function(e){return m(u(e),{},!1)},"string, boolean":function(e,t){return m(u(e),{},t)},"string, Object":function(e,t){return m(u(e),t,!1)},"string, Object, boolean":function(e,t,r){return m(u(e),t,r)},Node:function(e){return m(e,{},!1)},"Node, boolean":function(e,t){return m(e,{},t)},"Node, Object":function(e,t){return m(e,t,!1)},"Node, Object, boolean":function(e,t,r){var n=function(){var e=[o,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},s,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],r=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],n={};return n.firstRules=e.concat(t,r),n.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],n.sucDivRules=r,n.firstRulesAgain=e.concat(t),n.finalRules=[o,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},s,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],n}(),i=function(e,t,r,i){var o=[],s=a(e,n.firstRules,t,{exactFractions:!1}),u="+-*"+((r=!!r)?"/":"");!function e(t){var r=t.type;if("FunctionNode"===r)throw new Error("There is an unsolved function call");if("OperatorNode"===r)if("^"===t.op){if("unaryMinus"===t.args[1].fn&&(t=t.args[0]),"ConstantNode"!==t.args[1].type||!l.isInteger(parseFloat(t.args[1].value)))throw new Error("There is a non-integer exponent");e(t.args[0])}else{if(-1===u.indexOf(t.op))throw new Error("Operator "+t.op+" invalid in polynomial expression");for(var n=0;n<t.args.length;n++)e(t.args[n])}else if("SymbolNode"===r){var i=t.name;-1===o.indexOf(i)&&o.push(i)}else if("ParenthesisNode"===r)e(t.content);else if("ConstantNode"!==r)throw new Error("type "+r+" is not allowed in polynomial expression")}(s);var c={};return c.expression=s,c.variables=o,c}(e,t,!0),u=i.variables.length;if(e=i.expression,u>=1){var p,m;e=function e(t,r,n){var i=t.type,a=arguments.length>1;if("OperatorNode"===i&&t.isBinary()){var o,s=!1;if("^"===t.op&&("ParenthesisNode"!==t.args[0].type&&"OperatorNode"!==t.args[0].type||"ConstantNode"!==t.args[1].type||(s=(o=parseFloat(t.args[1].value))>=2&&l.isInteger(o))),s){if(o>2){var u=t.args[0],p=new f("^","pow",[t.args[0].cloneDeep(),new c(o-1)]);t=new f("*","multiply",[u,p])}else t=new f("*","multiply",[t.args[0],t.args[0].cloneDeep()]);a&&("content"===n?r.content=t:r.args[n]=t)}}if("ParenthesisNode"===i)e(t.content,t,"content");else if("ConstantNode"!==i&&"SymbolNode"!==i)for(var m=0;m<t.args.length;m++)e(t.args[m],t,m);if(!a)return t}(e);var d,v=!0,g=!1;for(e=a(e,n.firstRules,{},{exactFractions:!1});m=v?n.distrDivRules:n.sucDivRules,v=!v,(d=(e=a(e,m)).toString())!==p;)g=!0,p=d;g&&(e=a(e,n.firstRulesAgain,{},{exactFractions:!1})),e=a(e,n.finalRules,{},{exactFractions:!1})}var b=[],y={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===u&&(e.args[0]=h(e.args[0],b),e.args[1]=h(e.args[1])),r&&(y.numerator=e.args[0],y.denominator=e.args[1])):(1===u&&(e=h(e,b)),r&&(y.numerator=e,y.denominator=null)),r?(y.coefficients=b,y.variables=i.variables,y.expression=e,y):e}});function h(e,t){void 0===t&&(t=[]),t[0]=0;var r=0,n="";!function e(i,a,o){var s=i.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(i.op))throw new Error("Operator "+i.op+" invalid");if(null!==a){if(("unaryMinus"===i.fn||"pow"===i.fn)&&"add"!==a.fn&&"subtract"!==a.fn&&"multiply"!==a.fn)throw new Error("Invalid "+i.op+" placing");if(("subtract"===i.fn||"add"===i.fn||"multiply"===i.fn)&&"add"!==a.fn&&"subtract"!==a.fn)throw new Error("Invalid "+i.op+" placing");if(("subtract"===i.fn||"add"===i.fn||"unaryMinus"===i.fn)&&0!==o.noFil)throw new Error("Invalid "+i.op+" placing")}"^"!==i.op&&"*"!==i.op||(o.fire=i.op);for(var u=0;u<i.args.length;u++)"unaryMinus"===i.fn&&(o.oper="-"),"+"!==i.op&&"subtract"!==i.fn||(o.fire="",o.cte=1,o.oper=0===u?"+":i.op),o.noFil=u,e(i.args[u],i,o)}else if("SymbolNode"===s){if(i.name!==n&&""!==n)throw new Error("There is more than one variable");if(n=i.name,null===a)return void(t[1]=1);if("^"===a.op&&0!==o.noFil)throw new Error("In power the variable should be the first parameter");if("*"===a.op&&1!==o.noFil)throw new Error("In multiply the variable should be the second parameter");""!==o.fire&&"*"!==o.fire||(r<1&&(t[1]=0),t[1]+=o.cte*("+"===o.oper?1:-1),r=Math.max(1,r))}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var c=parseFloat(i.value);if(null===a)return void(t[0]=c);if("^"===a.op){if(1!==o.noFil)throw new Error("Constant cannot be powered");if(!l.isInteger(c)||c<=0)throw new Error("Non-integer exponent is not allowed");for(var f=r+1;f<c;f++)t[f]=0;return c>r&&(t[c]=0),t[c]+=o.cte*("+"===o.oper?1:-1),void(r=Math.max(c,r))}o.cte=c,""===o.fire&&(t[0]+=o.cte*("+"===o.oper?1:-1))}}(e,null,{cte:1,oper:"+",fire:""});for(var i,a=!0,o=r=t.length-1;o>=0;o--)if(0!==t[o]){var s=new c(a?t[o]:Math.abs(t[o])),u=t[o]<0?"-":"+";if(o>0){var m=new p(n);if(o>1){var h=new c(o);m=new f("^","pow",[m,h])}s=-1===t[o]&&a?new f("-","unaryMinus",[m]):1===Math.abs(t[o])?m:new f("*","multiply",[s,m])}i=a?s:"+"===u?new f("+","add",[i,s]):new f("-","subtract",[i,s]),a=!1}return a?new c(0):i}return m}},g1iB:function(e,t,r){"use strict";var n=r("sTyi").flatten,i=r("G23K");t.name="median",t.factory=function(e,t,a,o){var s=a(r("XXst")),u=a(r("WPGy")),l=a(r("xmOI")),c=a(r("iNzJ")),f=a(r("D2JG")),p=o("median",{"Array | Matrix":m,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(i(e))throw new TypeError("Scalar values expected in function median");return m(e)}});function m(e){try{var t=(e=n(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var r=t/2-1,i=c(e,r+1),a=e[r],o=0;o<r;++o)l(e[o],a)>0&&(a=e[o]);return d(a,i)}var s=c(e,(t-1)/2);return h(s)}catch(u){throw f(u,"median")}}var h=o({"number | BigNumber | Complex | Unit":function(e){return e}}),d=o({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return u(s(e,t),2)}});return p.toTex=void 0,p}},"gV/b":function(e,t,r){"use strict";t.name="mod",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=r("bFQJ"),s=n(r("4fwU")),u=n(r("hYuG")),l=n(r("ZXMR")),c=n(r("nr1U")),f=n(r("/z5F")),p=n(r("zbDx")),m=n(r("BLb5")),h=i("mod",{"number, number":function(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")},"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,h)},"Array, Array":function(e,t){return h(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return h(a(e),t)},"Matrix, Array":function(e,t){return h(e,a(t))},"SparseMatrix, any":function(e,t){return c(e,t,h,!1)},"DenseMatrix, any":function(e,t){return m(e,t,h,!1)},"any, SparseMatrix":function(e,t){return f(t,e,h,!0)},"any, DenseMatrix":function(e,t){return m(t,e,h,!0)},"Array, any":function(e,t){return m(a(e),t,h,!1).valueOf()},"any, Array":function(e,t){return m(a(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(o.operators.mod,"${args[1]}\\right)")},h}},gVZp:function(e,t,r){"use strict";var n=r("1stm");t.name="atan",t.factory=function(e,t,r,i){var a=i("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return n(e,a,!0)}});return a.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},a}},ga3l:function(e,t,r){"use strict";var n=r("1stm");function i(e){var t=Math.exp(2*e);return(t+1)/(t-1)}t.name="coth",t.factory=function(e,t,r,a){var o=a("coth",{number:i,Complex:function(e){return e.coth()},BigNumber:function(t){return new e.BigNumber(1).div(t.tanh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return o(t.value)},"Array | Matrix":function(e){return n(e,o)}});return o.toTex={1:"\\coth\\left(${args[0]}\\right)"},o}},gpKz:function(e,t,r){"use strict";var n=r("LHK7").object;t.name="lup",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=i(r("fTxE")),u=i(r("XXst")),l=i(r("WPGy")),c=i(r("oiZ2")),f=i(r("O1N0")),p=i(r("H+Qf")),m=i(r("hj6K")),h=i(r("7DiD")),d=e.SparseMatrix,v=e.DenseMatrix,g=e.Spa;function b(e){var t,r,i,a=e._size[0],o=e._size[1],h=Math.min(a,o),d=n.clone(e._data),g=[],b=[a,h],y=[],x=[h,o],w=[];for(t=0;t<a;t++)w[t]=t;for(r=0;r<o;r++){if(r>0)for(t=0;t<a;t++){var M=Math.min(t,r),N=0;for(i=0;i<M;i++)N=u(N,c(d[t][i],d[i][r]));d[t][r]=f(d[t][r],N)}var _=r,A=0,E=0;for(t=r;t<a;t++){var S=d[t][r],k=s(S);p(k,A)&&(_=t,A=k,E=S)}if(r!==_&&(w[r]=[w[_],w[_]=w[r]][0],v._swapRows(r,_,d)),r<a)for(t=r+1;t<a;t++)m(d[t][r],0)||(d[t][r]=l(d[t][r],E))}for(r=0;r<o;r++)for(t=0;t<a;t++)0===r&&(t<o&&(y[t]=[]),g[t]=[]),t<r?(t<o&&(y[t][r]=d[t][r]),r<a&&(g[t][r]=0)):t!==r?(t<o&&(y[t][r]=0),r<a&&(g[t][r]=d[t][r])):(t<o&&(y[t][r]=d[t][r]),r<a&&(g[t][r]=1));var O=new v({data:g,size:b}),C=new v({data:y,size:x}),L=[];for(t=0,h=w.length;t<h;t++)L[w[t]]=t;return{L:O,U:C,p:L,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}return a("lup",{DenseMatrix:function(e){return b(e)},SparseMatrix:function(e){return function(e){var t,r,n,i=e._size[0],a=e._size[1],o=Math.min(i,a),u=e._values,f=e._index,v=e._ptr,b=[],y=[],x=[],w=[i,o],M=[],N=[],_=[],A=[o,a],E=[],S=[];for(t=0;t<i;t++)E[t]=t,S[t]=t;var k=function(){var e=new g;r<i&&(x.push(b.length),b.push(1),y.push(r)),_.push(M.length);var a=v[r+1];for(n=v[r];n<a;n++)e.set(E[t=f[n]],u[n]);r>0&&e.forEach(0,r-1,function(t,r){d._forEachRow(t,b,y,x,function(n,i){n>t&&e.accumulate(n,h(c(i,r)))})});var o,k,O,C,L=r,T=e.get(r),P=s(T);e.forEach(r+1,i-1,function(e,t){var r=s(t);p(r,P)&&(L=e,P=r,T=t)}),r!==L&&(d._swapRows(r,L,w[1],b,y,x),d._swapRows(r,L,A[1],M,N,_),e.swap(r,L),C=S[k=L],E[O=S[o=r]]=k,E[C]=o,S[o]=C,S[k]=O),e.forEach(0,i-1,function(e,t){e<=r?(M.push(t),N.push(e)):(t=l(t,T),m(t,0)||(b.push(t),y.push(e)))})};for(r=0;r<a;r++)k();return _.push(M.length),x.push(b.length),{L:new d({values:b,index:y,ptr:x,size:w}),U:new d({values:M,index:N,ptr:_,size:A}),p:E,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(e)},Array:function(e){var t=b(o(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}})}},h6XE:function(e,t,r){"use strict";var n=r("1stm");t.name="sin",t.factory=function(e,t,r,i){var a=i("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return a(t.value)},"Array | Matrix":function(e){return n(e,a,!0)}});return a.toTex={1:"\\sin\\left(${args[0]}\\right)"},a}},hX6l:function(e,t,r){"use strict";e.exports="5.5.0"},hYuG:function(e,t,r){"use strict";var n=r("X8kj");t.name="algorithm03",t.factory=function(e,t,r,i){var a=e.DenseMatrix;return function(e,t,r,o){var s=e._data,u=e._size,l=e._datatype,c=t._values,f=t._index,p=t._ptr,m=t._size,h=t._datatype;if(u.length!==m.length)throw new n(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,v=u[0],g=u[1],b=0,y=r;"string"==typeof l&&l===h&&(b=i.convert(0,d=l),y=i.find(r,[d,d]));for(var x=[],w=0;w<v;w++)x[w]=[];for(var M=[],N=[],_=0;_<g;_++){for(var A=_+1,E=p[_+1],S=p[_];S<E;S++){var k=f[S];M[k]=o?y(c[S],s[k][_]):y(s[k][_],c[S]),N[k]=A}for(var O=0;O<v;O++)x[O][_]=N[O]===A?M[O]:o?y(b,s[O][_]):y(s[O][_],b)}return new a({data:x,size:[v,g],datatype:d})}}},hdzv:function(e,t,r){"use strict";e.exports={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]}},hj6K:function(e,t,r){"use strict";var n=r("199F").nearlyEqual,i=r("rMK7");t.factory=function(e,t,r,a){var o=a("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,r){return e===r||n(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.eq(r)||i(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return o(e.value,t.value)}});return o}},"hu/z":function(e,t,r){"use strict";t.name="random",t.factory=function(e,t,n,i){var a=n(r("ZtGb"))("uniform").random;return a.toTex=void 0,a}},i07G:function(e,t,r){"use strict";t.name="equalText",t.factory=function(e,t,n,i){var a=n(r("ZfQs")),o=n(r("6F5Y")),s=i("equalText",{"any, any":function(e,t){return o(a(e,t))}});return s.toTex=void 0,s}},iBTj:function(e,t,r){"use strict";e.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},iELQ:function(e,t,r){"use strict";t.name="atan2",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=n(r("4fwU")),s=n(r("hYuG")),u=n(r("yuUi")),l=n(r("nr1U")),c=n(r("/z5F")),f=n(r("zbDx")),p=n(r("BLb5")),m=i("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(t,r){return e.BigNumber.atan2(t,r)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,m,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,m,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,m,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,m)},"Array, Array":function(e,t){return m(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return m(a(e),t)},"Matrix, Array":function(e,t){return m(e,a(t))},"SparseMatrix, number | BigNumber":function(e,t){return l(e,t,m,!1)},"DenseMatrix, number | BigNumber":function(e,t){return p(e,t,m,!1)},"number | BigNumber, SparseMatrix":function(e,t){return c(t,e,m,!0)},"number | BigNumber, DenseMatrix":function(e,t){return p(t,e,m,!0)},"Array, number | BigNumber":function(e,t){return p(a(e),t,m,!1).valueOf()},"number | BigNumber, Array":function(e,t){return p(a(t),e,m,!0).valueOf()}});return m.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},m}},iLZW:function(e,t,r){"use strict";e.exports={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]}},iNzJ:function(e,t,r){"use strict";var n=r("199F").isInteger;t.name="partitionSelect",t.factory=function(e,t,i,a){var o=i(r("0FyF")),s=i(r("b1uj")),u=i(r("xmOI"));function l(e,t){return-u(e,t)}return a("partitionSelect",{"Array | Matrix, number":function(e,t){return c(e,t,u)},"Array | Matrix, number, string":function(e,t,r){if("asc"===r)return c(e,t,u);if("desc"===r)return c(e,t,l);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":c});function c(t,r,i){if(!n(r)||r<0)throw new Error("k must be a non-negative integer");if(e.isMatrix(t)){if(t.size().length>1)throw new Error("Only one dimensional matrices supported");return f(t.valueOf(),r,i)}if(Array.isArray(t))return f(t,r,i)}function f(e,t,r){if(t>=e.length)throw new Error("k out of bounds");for(var n=0;n<e.length;n++)if(o(e[n])&&s(e[n]))return e[n];for(var i=0,a=e.length-1;i<a;){for(var u=i,l=a,c=e[Math.floor(Math.random()*(a-i+1))+i];u<l;)if(r(e[u],c)>=0){var f=e[l];e[l]=e[u],e[u]=f,--l}else++u;r(e[u],c)>0&&--u,t<=u?a=u:i=u+1}return e[t]}}},igGT:function(e,t,r){"use strict";e.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},ijvZ:function(e,t,r){"use strict";var n=r("sTyi").filter,i=r("sTyi").filterRegExp,a=r("0dEn").maxArgumentCount;function o(e,t){var r=a(t);return n(e,function(e,n,i){return 1===r?t(e):2===r?t(e,[n]):t(e,[n],i)})}t.name="filter",t.factory=function(e,t,n,a){var s=n(r("R4H5")),u=a("filter",{"Array, function":o,"Matrix, function":function(e,t){return s(o(e.toArray(),t))},"Array, RegExp":i,"Matrix, RegExp":function(e,t){return s(i(e.toArray(),t))}});return u.toTex=void 0,u}},irXe:function(e,t,r){"use strict";t.name="dotDivide",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=n(r("WPGy")),s=r("bFQJ"),u=n(r("4fwU")),l=n(r("hYuG")),c=n(r("XXc+")),f=n(r("nr1U")),p=n(r("/z5F")),m=n(r("zbDx")),h=n(r("BLb5")),d=i("dotDivide",{"any, any":o,"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,o,!1)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,o,!0)},"DenseMatrix, SparseMatrix":function(e,t){return l(e,t,o,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,o)},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"SparseMatrix, any":function(e,t){return f(e,t,o,!1)},"DenseMatrix, any":function(e,t){return h(e,t,o,!1)},"any, SparseMatrix":function(e,t){return p(t,e,o,!0)},"any, DenseMatrix":function(e,t){return h(t,e,o,!0)},"Array, any":function(e,t){return h(a(e),t,o,!1).valueOf()},"any, Array":function(e,t){return h(a(t),e,o,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(s.operators.dotDivide,"${args[1]}\\right)")},d}},irfK:function(e,t,r){"use strict";e.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},itDh:function(e,t,r){"use strict";var n=r("3LJV"),i=r("rq6S"),a=r("G23K");t.name="max",t.factory=function(e,t,o,s){var u=o(r("H+Qf")),l=o(r("D2JG")),c=s("max",{"Array | Matrix":p,"Array | Matrix, number | BigNumber":function(e,t){return i(e,t.valueOf(),f)},"...":function(e){if(a(e))throw new TypeError("Scalar values expected in function max");return p(e)}});return c.toTex="\\max\\left(${args}\\right)",c;function f(e,t){try{return u(e,t)?e:t}catch(r){throw l(r,"max",t)}}function p(e){var t;if(n(e,function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||u(e,t))&&(t=e)}catch(r){throw l(r,"max",e)}}),void 0===t)throw new Error("Cannot calculate max of an empty array");return t}}},iwau:function(e,t,r){"use strict";t.factory=function(e,t,r,n){return function(t,r,n){var i=t.filter(function(t){return e.isSymbolNode(t)&&!(t.name in r)&&!(t.name in n)})[0];if(!i)throw new Error('No undefined variable found in inline expression "'+t+'"');var a=i.name,o=Object.create(n),s=t.compile();return function(e){return o[a]=e,s.eval(o)}}}},"j+PY":function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("199F").isNumber,a=r("sTyi").flatten,o=r("HJTy");t.name="quantileSeq",t.factory=function(e,t,s,u){var l=s(r("NEdZ")),c=s(r("NU+P")),f=s(r("iNzJ")),p=s(r("xmOI"));function m(e,t,r){var n=a(e),o=n.length;if(0===o)throw new Error("Cannot calculate quantile of an empty sequence");if(i(t)){var s=t*(o-1),u=s%1;if(0===u){var m=r?n[s]:f(n,s);return h(m),m}var d,v,g=Math.floor(s);if(r)d=n[g],v=n[g+1];else{v=f(n,g+1),d=n[g];for(var b=0;b<g;++b)p(n[b],d)>0&&(d=n[b])}return h(d),h(v),l(c(d,1-u),c(v,u))}var y=t.times(o-1);if(y.isInteger()){y=y.toNumber();var x=r?n[y]:f(n,y);return h(x),x}var w,M,N=y.floor(),_=y.minus(N),A=N.toNumber();if(r)w=n[A],M=n[A+1];else{M=f(n,A+1),w=n[A];for(var E=0;E<A;++E)p(n[E],w)>0&&(w=n[E])}h(w),h(M);var S=new _.constructor(1);return l(c(w,S.minus(_)),c(M,_))}var h=u({"number | BigNumber | Unit":function(e){return e}});return function(t,r,a){var s,u,l;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(o(t)){if("boolean"==typeof(a=a||!1)){if(u=t.valueOf(),i(r)){if(r<0)throw new Error("N/prob must be non-negative");if(r<=1)return m(u,r,a);if(r>1){if(!n(r))throw new Error("N must be a positive integer");var c=r+1;s=new Array(r);for(var f=0;f<r;)s[f]=m(u,++f/c,a);return s}}if(e.isBigNumber(r)){if(r.isNegative())throw new Error("N/prob must be non-negative");if(l=new r.constructor(1),r.lte(l))return new e.BigNumber(m(u,r,a));if(r.gt(l)){if(!r.isInteger())throw new Error("N must be a positive integer");var p=r.toNumber();if(p>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var h=new e.BigNumber(p+1);s=new Array(p);for(var d=0;d<p;)s[d]=new e.BigNumber(m(u,new e.BigNumber(++d).div(h),a));return s}}if(Array.isArray(r)){s=new Array(r.length);for(var v=0;v<s.length;++v){var g=r[v];if(i(g)){if(g<0||g>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!e.isBigNumber(g))throw new TypeError("Unexpected type of argument in function quantileSeq");if(l=new g.constructor(1),g.isNegative()||g.gt(l))throw new Error("Probability must be between 0 and 1, inclusive")}s[v]=m(u,g,a)}return s}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}},j7N3:function(e,t,r){"use strict";e.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},jHZ0:function(e,t,r){"use strict";t.name="csFkeep",t.path="algebra.sparse",t.factory=function(){return function(e,t,r){for(var n=e._values,i=e._index,a=e._ptr,o=e._size[1],s=0,u=0;u<o;u++){var l=a[u];for(a[u]=s;l<a[u+1];l++)t(i[l],u,n?n[l]:1,r)&&(i[s]=i[l],n&&(n[s]=n[l]),s++)}return a[o]=s,i.splice(s,i.length-s),n&&n.splice(s,n.length-s),s}}},jOxe:function(e,t,r){"use strict";var n=r("XDH7").transform,i=r("HJTy");t.name="min",t.path="expression.transform",t.factory=function(e,t,a,o){var s=a(r("I5O3"));return o("min",{"...any":function(t){if(2===t.length&&i(t[0])){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1))}try{return s.apply(null,t)}catch(a){throw n(a)}}})}},jbJX:function(e,t,r){"use strict";var n=r("LHK7"),i=n.object,a=Array.isArray,o=n.string.isString;t.name="ImmutableDenseMatrix",t.path="type",t.factory=function(e,t,s){var u=s(r("ZS3Q")),l=s(r("m4e2"));function c(t,r){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!o(r))throw new Error("Invalid datatype: "+r);if(e.isMatrix(t)||a(t)){var i=new u(t,r);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(t&&a(t.data)&&a(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=void 0!==t.min?t.min:null,this._max=void 0!==t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+n.types.type(t)+")");this._data=[],this._size=[0],this._datatype=r,this._min=null,this._max=null}}return(c.prototype=new u).type="ImmutableDenseMatrix",c.prototype.isImmutableDenseMatrix=!0,c.prototype.subset=function(t){switch(arguments.length){case 1:var r=u.prototype.subset.call(this,t);return e.isMatrix(r)?new c({data:r._data,size:r._size,datatype:r._datatype}):r;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},c.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},c.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},c.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},c.prototype.clone=function(){return new c({data:i.clone(this._data),size:i.clone(this._size),datatype:this._datatype})},c.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},c.fromJSON=function(e){return new c(e)},c.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},c.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(t){(null===e||l(t,e))&&(e=t)}),this._min=null!==e?e:void 0}return this._min},c.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(t){(null===e||l(e,t))&&(e=t)}),this._max=null!==e?e:void 0}return this._max},c}},"jd1/":function(e,t,r){"use strict";var n=r("0dEn").maxArgumentCount,i=r("sTyi").forEach;function a(e,t){var r=n(t);!function n(a,o){Array.isArray(a)?i(a,function(e,t){n(e,o.concat(t))}):1===r?t(a):2===r?t(a,o):t(a,o,e)}(e,[])}t.name="forEach",t.factory=function(e,t,r,n){var i=n("forEach",{"Array, function":a,"Matrix, function":function(e,t){return e.forEach(t)}});return i.toTex=void 0,i}},jhxP:function(e,t,r){"use strict";var n=r("XDH7").transform;t.name="subset",t.path="expression.transform",t.factory=function(e,t,i,a){var o=i(r("Wail"));return a("subset",{"...any":function(e){try{return o.apply(null,e)}catch(t){throw n(t)}}})}},jxI5:function(e,t,r){"use strict";var n=r("sTyi").flatten;t.name="setMultiplicity",t.factory=function(e,t,i,a){var o=i(r("L2qZ")),s=i(r("Lzl2")),u=i(r("v7fr")),l=i(r("Wail"));return a("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===l(u(t),new s(0)))return 0;for(var r=n(Array.isArray(t)?t:t.toArray()),i=0,a=0;a<r.length;a++)0===o(r[a],e)&&i++;return i}})}},kF2n:function(e,t,r){"use strict";e.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},kIfi:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("djRN"),a=r("199F").digits,o=r("pvRk"),s=r("6cPB"),u=function(){return u=i.create,i};t.create=function(e){e.isNumber=function(e){return"number"==typeof e},e.isComplex=function(t){return e.Complex&&t instanceof e.Complex||!1},e.isBigNumber=o,e.isFraction=function(t){return e.Fraction&&t instanceof e.Fraction||!1},e.isUnit=function(e){return e&&e.constructor.prototype.isUnit||!1},e.isString=function(e){return"string"==typeof e},e.isArray=Array.isArray,e.isMatrix=s,e.isDenseMatrix=function(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix||!1},e.isSparseMatrix=function(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix||!1},e.isRange=function(e){return e&&e.constructor.prototype.isRange||!1},e.isIndex=function(e){return e&&e.constructor.prototype.isIndex||!1},e.isBoolean=function(e){return"boolean"==typeof e},e.isResultSet=function(e){return e&&e.constructor.prototype.isResultSet||!1},e.isHelp=function(e){return e&&e.constructor.prototype.isHelp||!1},e.isFunction=function(e){return"function"==typeof e},e.isDate=function(e){return e instanceof Date},e.isRegExp=function(e){return e instanceof RegExp},e.isObject=function(t){return"object"===n(t)&&t.constructor===Object&&!e.isComplex(t)&&!e.isFraction(t)},e.isNull=function(e){return null===e},e.isUndefined=function(e){return void 0===e},e.isAccessorNode=function(e){return e&&e.isAccessorNode&&e.constructor.prototype.isNode||!1},e.isArrayNode=function(e){return e&&e.isArrayNode&&e.constructor.prototype.isNode||!1},e.isAssignmentNode=function(e){return e&&e.isAssignmentNode&&e.constructor.prototype.isNode||!1},e.isBlockNode=function(e){return e&&e.isBlockNode&&e.constructor.prototype.isNode||!1},e.isConditionalNode=function(e){return e&&e.isConditionalNode&&e.constructor.prototype.isNode||!1},e.isConstantNode=function(e){return e&&e.isConstantNode&&e.constructor.prototype.isNode||!1},e.isFunctionAssignmentNode=function(e){return e&&e.isFunctionAssignmentNode&&e.constructor.prototype.isNode||!1},e.isFunctionNode=function(e){return e&&e.isFunctionNode&&e.constructor.prototype.isNode||!1},e.isIndexNode=function(e){return e&&e.isIndexNode&&e.constructor.prototype.isNode||!1},e.isNode=function(e){return e&&e.isNode&&e.constructor.prototype.isNode||!1},e.isObjectNode=function(e){return e&&e.isObjectNode&&e.constructor.prototype.isNode||!1},e.isOperatorNode=function(e){return e&&e.isOperatorNode&&e.constructor.prototype.isNode||!1},e.isParenthesisNode=function(e){return e&&e.isParenthesisNode&&e.constructor.prototype.isNode||!1},e.isRangeNode=function(e){return e&&e.isRangeNode&&e.constructor.prototype.isNode||!1},e.isSymbolNode=function(e){return e&&e.isSymbolNode&&e.constructor.prototype.isNode||!1},e.isChain=function(e){return e&&e.constructor.prototype.isChain||!1};var t=u();return t.types=[{name:"number",test:e.isNumber},{name:"Complex",test:e.isComplex},{name:"BigNumber",test:e.isBigNumber},{name:"Fraction",test:e.isFraction},{name:"Unit",test:e.isUnit},{name:"string",test:e.isString},{name:"Array",test:e.isArray},{name:"Matrix",test:e.isMatrix},{name:"DenseMatrix",test:e.isDenseMatrix},{name:"SparseMatrix",test:e.isSparseMatrix},{name:"Range",test:e.isRange},{name:"Index",test:e.isIndex},{name:"boolean",test:e.isBoolean},{name:"ResultSet",test:e.isResultSet},{name:"Help",test:e.isHelp},{name:"function",test:e.isFunction},{name:"Date",test:e.isDate},{name:"RegExp",test:e.isRegExp},{name:"null",test:e.isNull},{name:"undefined",test:e.isUndefined},{name:"OperatorNode",test:e.isOperatorNode},{name:"ConstantNode",test:e.isConstantNode},{name:"SymbolNode",test:e.isSymbolNode},{name:"ParenthesisNode",test:e.isParenthesisNode},{name:"FunctionNode",test:e.isFunctionNode},{name:"FunctionAssignmentNode",test:e.isFunctionAssignmentNode},{name:"ArrayNode",test:e.isArrayNode},{name:"AssignmentNode",test:e.isAssignmentNode},{name:"BlockNode",test:e.isBlockNode},{name:"ConditionalNode",test:e.isConditionalNode},{name:"IndexNode",test:e.isIndexNode},{name:"RangeNode",test:e.isRangeNode},{name:"Node",test:e.isNode},{name:"Object",test:e.isObject}],t.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(a(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e.BigNumber(t)}},{from:"number",to:"Complex",convert:function(t){return new e.Complex(t,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(t){return new e.Complex(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return new e.Complex(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){if(new e.Fraction(t).valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return new e.Fraction(t)}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(t){try{return new e.BigNumber(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){try{return new e.Fraction(t)}catch(r){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){try{return new e.Complex(t)}catch(r){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(t){return new e.BigNumber(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return new e.Fraction(+t)}},{from:"boolean",to:"string",convert:function(e){return+e}},{from:"Array",to:"Matrix",convert:function(t){return new e.DenseMatrix(t)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],t}},kNEH:function(e,t,r){"use strict";e.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},kOws:function(e,t,r){"use strict";var n=r("1stm");t.name="asec",t.factory=function(e,t,r,i){var a=i("asec",{number:function(r){return r<=-1||r>=1||t.predictable?Math.acos(1/r):new e.Complex(r,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(t){return new e.BigNumber(1).div(t).acos()},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},a}},kip4:function(e,t,r){"use strict";var n=r("PXUV").format,i=r("bFQJ").escape;t.name="ConstantNode",t.path="expression.node",t.factory=function(e,t,a,o){var s=a(r("K6lB")),u=a(r("uUDd"));function l(e){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(2===arguments.length)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=e}return(l.prototype=new s).type="ConstantNode",l.prototype.isConstantNode=!0,l.prototype._compile=function(e,t){var r=this.value;return function(){return r}},l.prototype.forEach=function(e){},l.prototype.map=function(e){return this.clone()},l.prototype.clone=function(){return new l(this.value)},l.prototype._toString=function(e){return n(this.value,e)},l.prototype.toHTML=function(e){var t=this._toString(e);switch(u(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},l.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},l.fromJSON=function(e){return new l(e.value)},l.prototype._toTex=function(e){var t=this._toString(e);switch(u(this.value)){case"string":return"\\mathtt{"+i(t)+"}";case"number":case"BigNumber":var r=t.toLowerCase().indexOf("e");return-1!==r?t.substring(0,r)+"\\cdot10^{"+t.substring(r+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},l}},krB1:function(e,t,r){"use strict";e.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},l41f:function(e,t,r){"use strict";var n=r("sTyi").forEach,i=r("sTyi").map;t.name="BlockNode",t.path="expression.node",t.factory=function(e,t,a,o){var s=a(r("K6lB")),u=a(r("c0b4"));function l(t){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map(function(t){var r=t&&t.node,n=!t||void 0===t.visible||t.visible;if(!e.isNode(r))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:r,visible:n}})}return(l.prototype=new s).type="BlockNode",l.prototype.isBlockNode=!0,l.prototype._compile=function(e,t){var r=i(this.blocks,function(r){return{eval:r.node._compile(e,t),visible:r.visible}});return function(e,t,i){var a=[];return n(r,function(r){var n=r.eval(e,t,i);r.visible&&a.push(n)}),new u(a)}},l.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},l.prototype.map=function(e){for(var t=[],r=0;r<this.blocks.length;r++){var n=this.blocks[r],i=this._ifNode(e(n.node,"blocks["+r+"].node",this));t[r]={node:i,visible:n.visible}}return new l(t)},l.prototype.clone=function(){return new l(this.blocks.map(function(e){return{node:e.node,visible:e.visible}}))},l.prototype._toString=function(e){return this.blocks.map(function(t){return t.node.toString(e)+(t.visible?"":";")}).join("\n")},l.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},l.fromJSON=function(e){return new l(e.blocks)},l.prototype.toHTML=function(e){return this.blocks.map(function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},l.prototype._toTex=function(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";")}).join("\\;\\;\n")},l}},lDIG:function(e,t,r){"use strict";t.name="bellNumbers",t.factory=function(e,t,n,i){var a=n(r("NEdZ")),o=n(r("7Enr")),s=n(r("mtzS")),u=n(r("PbhI")),l=i("bellNumbers",{"number | BigNumber":function(e){if(!u(e)||s(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,r=0;r<=e;r++)t=a(t,o(e,r));return t}});return l.toTex={1:"\\mathrm{B}_{${args[0]}}"},l}},lFTT:function(e,t,r){"use strict";t.name="parse",t.factory=function(e,t,n,i){var a=n(r("MUdo"));return i("parse",{"string | Array | Matrix":a,"string | Array | Matrix, Object":a})}},lcdI:function(e,t,r){"use strict";var n=r("1stm");t.name="asin",t.factory=function(e,t,r,i){var a=i("asin",{number:function(r){return r>=-1&&r<=1||t.predictable?Math.asin(r):new e.Complex(r,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return n(e,a,!0)}});return a.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},a}},lnr1:function(e,t,r){"use strict";t.name="Spa",t.path="type",t.factory=function(e,t,n){var i=n(r("NEdZ")),a=n(r("hj6K"));function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e.FibonacciHeap}return o.prototype.type="Spa",o.prototype.isSpa=!0,o.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var r=this._heap.insert(e,t);this._values[e]=r}},o.prototype.get=function(e){var t=this._values[e];return t?t.value:0},o.prototype.accumulate=function(e,t){var r=this._values[e];r?r.value=i(r.value,t):(r=this._heap.insert(e,t),this._values[e]=r)},o.prototype.forEach=function(e,t,r){var n=this._heap,i=this._values,o=[],s=n.extractMinimum();for(s&&o.push(s);s&&s.key<=t;)s.key>=e&&(a(s.value,0)||r(s.key,s.value,this)),(s=n.extractMinimum())&&o.push(s);for(var u=0;u<o.length;u++){var l=o[u];i[(s=n.insert(l.key,l.value)).key]=s}},o.prototype.swap=function(e,t){var r=this._values[e],n=this._values[t];if(!r&&n)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(r&&!n)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i}},o}},lwd9:function(e,t,r){"use strict";var n=r("znhL"),i=r("WlWA");e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var a=new r(-1);return e.eq(a)?i(t):t.eq(a)?i(e):e.isFinite()&&t.isFinite()?n(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new r(e.isNegative()===t.isNegative()?1/0:-1/0):a}},m1wG:function(e,t,r){"use strict";var n=r("199F").nearlyEqual,i=r("rMK7");t.name="largerEq",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=a(r("hYuG")),l=a(r("XXc+")),c=a(r("/z5F")),f=a(r("zbDx")),p=a(r("BLb5")),m=r("bFQJ"),h=o("largerEq",{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,r){return e>=r||n(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.gte(r)||i(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return h(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,h)},"Array, Array":function(e,t){return h(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return h(s(e),t)},"Matrix, Array":function(e,t){return h(e,s(t))},"SparseMatrix, any":function(e,t){return c(e,t,h,!1)},"DenseMatrix, any":function(e,t){return p(e,t,h,!1)},"any, SparseMatrix":function(e,t){return c(t,e,h,!0)},"any, DenseMatrix":function(e,t){return p(t,e,h,!0)},"Array, any":function(e,t){return p(s(e),t,h,!1).valueOf()},"any, Array":function(e,t){return p(s(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(m.operators.largerEq,"${args[1]}\\right)")},h}},m4e2:function(e,t,r){"use strict";var n=r("199F").nearlyEqual,i=r("rMK7");t.name="smaller",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=a(r("hYuG")),l=a(r("XXc+")),c=a(r("/z5F")),f=a(r("zbDx")),p=a(r("BLb5")),m=r("bFQJ"),h=o("smaller",{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,r){return e<r&&!n(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.lt(r)&&!i(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return h(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,h)},"Array, Array":function(e,t){return h(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return h(s(e),t)},"Matrix, Array":function(e,t){return h(e,s(t))},"SparseMatrix, any":function(e,t){return c(e,t,h,!1)},"DenseMatrix, any":function(e,t){return p(e,t,h,!1)},"any, SparseMatrix":function(e,t){return c(t,e,h,!0)},"any, DenseMatrix":function(e,t){return p(t,e,h,!0)},"Array, any":function(e,t){return p(s(e),t,h,!1).valueOf()},"any, Array":function(e,t){return p(s(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(m.operators.smaller,"${args[1]}\\right)")},h}},m9Da:function(e,t,r){"use strict";var n=r("XDH7").transform,i=r("HJTy");t.name="mean",t.path="expression.transform",t.factory=function(e,t,a,o){var s=a(r("FC7u"));return o("mean",{"...any":function(t){if(2===t.length&&i(t[0])){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1))}try{return s.apply(null,t)}catch(a){throw n(a)}}})}},mFhs:function(e,t,r){"use strict";e.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},mLuZ:function(e,t,r){"use strict";e.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},mVYV:function(e,t,r){"use strict";e.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},mlmk:function(e,t,r){"use strict";e.exports={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},mmlm:function(e,t,r){"use strict";e.exports=[r("4KCs"),r("E86j"),r("cFnV"),r("Cmge")]},moRB:function(e,t,r){"use strict";e.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]}},mtzS:function(e,t,r){"use strict";var n=r("1stm");t.name="isNegative",t.factory=function(e,t,r,i){var a=i("isNegative",{number:function(e){return e<0},BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return a(e.value)},"Array | Matrix":function(e){return n(e,a)}});return a}},"n+Sg":function(e,t,r){"use strict";t.name="xor",t.factory=function(e,t,n,i){var a=r("bFQJ"),o=n(r("R4H5")),s=n(r("hYuG")),u=n(r("XXc+")),l=n(r("/z5F")),c=n(r("zbDx")),f=n(r("BLb5")),p=i("xor",{"number, number":function(e,t){return!!e!=!!t},"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return p(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,p)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,p)},"Array, Array":function(e,t){return p(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return p(o(e),t)},"Matrix, Array":function(e,t){return p(e,o(t))},"SparseMatrix, any":function(e,t){return l(e,t,p,!1)},"DenseMatrix, any":function(e,t){return f(e,t,p,!1)},"any, SparseMatrix":function(e,t){return l(t,e,p,!0)},"any, DenseMatrix":function(e,t){return f(t,e,p,!0)},"Array, any":function(e,t){return f(o(e),t,p,!1).valueOf()},"any, Array":function(e,t){return f(o(t),e,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}".concat(a.operators.xor,"${args[1]}\\right)")},p}},n90i:function(e,t,r){"use strict";var n=r("0dEn").maxArgumentCount,i=r("sTyi").map;function a(e,t,r){var a=n(t);return function e(n,o){return Array.isArray(n)?i(n,function(t,r){return e(t,o.concat(r+1))}):1===a?t(n):2===a?t(n,o):t(n,o,r)}(e,[])}t.name="map",t.path="expression.transform",t.factory=function(e,t,n,i){var o=n(r("iwau")),s=n(r("R4H5"));function u(t,r,n){var i,a;return t[0]&&(i=t[0].compile().eval(n)),t[1]&&(a=e.isSymbolNode(t[1])||e.isFunctionAssignmentNode(t[1])?t[1].compile().eval(n):o(t[1],r,n)),l(i,a)}u.rawArgs=!0;var l=i("map",{"Array, function":function(e,t){return a(e,t,e)},"Matrix, function":function(e,t){return s(a(e.valueOf(),t,e))}});return u}},n9Ln:function(e,t,r){"use strict";e.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},nDV9:function(e,t,r){"use strict";t.name="kldivergence",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=n(r("rVKH")),s=n(r("Z+cb")),u=n(r("NU+P")),l=n(r("irXe")),c=n(r("7EKm")),f=n(r("0FyF"));function p(e,t){var r=t.size().length,n=e.size().length;if(r>1)throw new Error("first object must be one dimensional");if(n>1)throw new Error("second object must be one dimensional");if(r!==n)throw new Error("Length of two vectors must be equal");if(0===s(e))throw new Error("Sum of elements in first object must be non zero");if(0===s(t))throw new Error("Sum of elements in second object must be non zero");var i=o(e,s(e)),a=o(t,s(t)),p=s(u(i,c(l(i,a))));return f(p)?p:Number.NaN}return i("kldivergence",{"Array, Array":function(e,t){return p(a(e),a(t))},"Matrix, Array":function(e,t){return p(e,a(t))},"Array, Matrix":function(e,t){return p(a(e),t)},"Matrix, Matrix":function(e,t){return p(e,t)}})}},nM2x:function(e,t,r){"use strict";var n=r("sTyi");t.name="reshape",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=i(r("PbhI")),u=a("reshape",{"Matrix, Array":function(e,t){return e.reshape?e.reshape(t):o(n.reshape(e.valueOf(),t))},"Array, Array":function(e,t){return t.forEach(function(e){if(!s(e))throw new TypeError("Invalid size for dimension: "+e)}),n.reshape(e,t)}});return u.toTex=void 0,u}},nfMp:function(e,t,r){"use strict";e.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},npRa:function(e,t,r){"use strict";var n=r("1stm");t.name="acot",t.factory=function(e,t,r,i){var a=i("acot",{number:function(e){return Math.atan(1/e)},Complex:function(e){return e.acot()},BigNumber:function(t){return new e.BigNumber(1).div(t).atan()},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},a}},nr1U:function(e,t,r){"use strict";t.name="algorithm11",t.factory=function(e,t,n,i){var a=n(r("hj6K")),o=e.SparseMatrix;return function(e,t,r,n){var s=e._values,u=e._index,l=e._ptr,c=e._size,f=e._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,m=c[0],h=c[1],d=a,v=0,g=r;"string"==typeof f&&(d=i.find(a,[p=f,p]),v=i.convert(0,p),t=i.convert(t,p),g=i.find(r,[p,p]));for(var b=[],y=[],x=[],w=new o({values:b,index:y,ptr:x,size:[m,h],datatype:p}),M=0;M<h;M++){x[M]=y.length;for(var N=l[M+1],_=l[M];_<N;_++){var A=u[_],E=n?g(t,s[_]):g(s[_],t);d(E,v)||(y.push(A),b.push(E))}}return x[h]=y.length,w}}},nsqy:function(e,t,r){"use strict";var n=r("1stm");t.name="cot",t.factory=function(e,t,r,i){var a=i("cot",{number:function(e){return 1/Math.tan(e)},Complex:function(e){return e.cot()},BigNumber:function(t){return new e.BigNumber(1).div(t.tan())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return a(t.value)},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\cot\\left(${args[0]}\\right)"},a}},"o+rb":function(e,t,r){"use strict";var n=r("sTyi"),i=r("199F").isInteger;t.name="diag",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=o("diag",{Array:function(e){return l(e,0,n.size(e),null)},"Array, number":function(e,t){return l(e,t,n.size(e),null)},"Array, BigNumber":function(e,t){return l(e,t.toNumber(),n.size(e),null)},"Array, string":function(e,t){return l(e,0,n.size(e),t)},"Array, number, string":function(e,t,r){return l(e,t,n.size(e),r)},"Array, BigNumber, string":function(e,t,r){return l(e,t.toNumber(),n.size(e),r)},Matrix:function(e){return l(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return l(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return l(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return l(e,0,e.size(),t)},"Matrix, number, string":function(e,t,r){return l(e,t,e.size(),r)},"Matrix, BigNumber, string":function(e,t,r){return l(e,t.toNumber(),e.size(),r)}});return u.toTex=void 0,u;function l(t,r,n,a){if(!i(r))throw new TypeError("Second parameter in function diag must be an integer");var o=r>0?r:0,u=r<0?-r:0;switch(n.length){case 1:return function(t,r,n,i,a,o){var s=[i+a,i+o],u=e.Matrix.storage(n||"dense").diagonal(s,t,r);return null!==n?u:u.valueOf()}(t,r,a,n[0],u,o);case 2:return function(t,r,n,i,a,o){if(e.isMatrix(t)){var u=t.diagonal(r);return null!==n?n!==u.storage()?s(u,n):u:u.valueOf()}for(var l=Math.min(i[0]-a,i[1]-o),c=[],f=0;f<l;f++)c[f]=t[f+a][f+o];return null!==n?s(c):c}(t,r,a,n,u,o)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}},o0nB:function(e,t,r){"use strict";t.name="or",t.factory=function(e,t,n,i){var a=r("bFQJ"),o=n(r("R4H5")),s=n(r("hYuG")),u=n(r("ZXMR")),l=n(r("/z5F")),c=n(r("zbDx")),f=n(r("BLb5")),p=i("or",{"number, number":function(e,t){return!(!e&&!t)},"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return p(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,p)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,p)},"Array, Array":function(e,t){return p(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return p(o(e),t)},"Matrix, Array":function(e,t){return p(e,o(t))},"SparseMatrix, any":function(e,t){return l(e,t,p,!1)},"DenseMatrix, any":function(e,t){return f(e,t,p,!1)},"any, SparseMatrix":function(e,t){return l(t,e,p,!0)},"any, DenseMatrix":function(e,t){return f(t,e,p,!0)},"Array, any":function(e,t){return f(o(e),t,p,!1).valueOf()},"any, Array":function(e,t){return f(o(t),e,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}".concat(a.operators.or,"${args[1]}\\right)")},p}},oG5r:function(e,t,r){"use strict";t.name="csSpsolve",t.path="algebra.sparse",t.factory=function(e,t,n){var i=n(r("WPGy")),a=n(r("NU+P")),o=n(r("O1N0")),s=n(r("EGR4"));return function(e,t,r,n,u,l,c){var f,p,m,h,d=e._values,v=e._index,g=e._ptr,b=e._size[1],y=t._values,x=t._index,w=t._ptr,M=s(e,t,r,n,l);for(f=M;f<b;f++)u[n[f]]=0;for(m=w[r+1],f=p=w[r];f<m;f++)u[x[f]]=y[f];for(var N=M;N<b;N++){var _=n[N],A=l?l[_]:_;if(!(A<0))for(p=g[A],m=g[A+1],u[_]=i(u[_],d[c?p:m-1]),f=c?p+1:p,h=c?m:m-1;f<h;f++){var E=v[f];u[E]=o(u[E],a(d[f],u[_]))}}return M}}},oJv1:function(e,t,r){"use strict";var n=r("LHK7"),i=n.string,a=n.array,o=Array.isArray;t.factory=function(e){var t=e.DenseMatrix;return function(r,n,s){var u=r.size();if(2!==u.length)throw new RangeError("Matrix must be two dimensional (size: "+i.format(u)+")");var l,c,f,p=u[0];if(p!==u[1])throw new RangeError("Matrix must be square (size: "+i.format(u)+")");if(e.isMatrix(n)){var m=n.size();if(1===m.length){if(m[0]!==p)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],f=n._data,c=0;c<p;c++)l[c]=[f[c]];return new t({data:l,size:[p,1],datatype:n._datatype})}if(2===m.length){if(m[0]!==p||1!==m[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(e.isDenseMatrix(n)){if(s){for(l=[],f=n._data,c=0;c<p;c++)l[c]=[f[c][0]];return new t({data:l,size:[p,1],datatype:n._datatype})}return n}for(l=[],c=0;c<p;c++)l[c]=[0];for(var h=n._values,d=n._index,v=n._ptr,g=v[1],b=v[0];b<g;b++)l[c=d[b]][0]=h[b];return new t({data:l,size:[p,1],datatype:n._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(o(n)){var y=a.size(n);if(1===y.length){if(y[0]!==p)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],c=0;c<p;c++)l[c]=[n[c]];return new t({data:l,size:[p,1]})}if(2===y.length){if(y[0]!==p||1!==y[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],c=0;c<p;c++)l[c]=[n[c][0]];return new t({data:l,size:[p,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}},oNGI:function(e,t,r){"use strict";e.exports=[r("ohYX"),r("ZS3Q"),r("8a0s"),r("lnr1"),r("qY4y"),r("jbJX"),r("Lzl2"),r("V3b4"),r("euEg"),r("R4H5"),r("EkuI"),r("xFnQ")]},oTYi:function(e,t,r){"use strict";e.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},oZr4:function(e,t,r){"use strict";e.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},ohYX:function(e,t,r){"use strict";var n=r("LHK7").string.isString;t.name="Matrix",t.path="type",t.factory=function(e,t,r,i){function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator")}return a.prototype.type="Matrix",a.prototype.isMatrix=!0,a.storage=function(e){if(!n(e))throw new TypeError("format must be a string value");var t=a._storage[e];if(!t)throw new SyntaxError("Unsupported matrix storage format: "+e);return t},a._storage={},a.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},a.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},a.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},a.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},a.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},a.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},a.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},a.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},a.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},a.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},a.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},a.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},a.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},a.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},a.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},a.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},a}},oiZ2:function(e,t,r){"use strict";t.factory=function(e,t,r,n){var i=n("multiplyScalar",{"number, number":function(e,t){return e*t},"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var r=t.clone();return r.value=null===r.value?r._normalize(e):i(r.value,e),r},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var r=e.clone();return r.value=null===r.value?r._normalize(t):i(r.value,t),r},"Unit, Unit":function(e,t){return e.multiply(t)}});return i}},omec:function(e,t,r){"use strict";e.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},ovxO:function(e,t,r){"use strict";e.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},p2yA:function(e,t,r){"use strict";var n=r("C8y5"),i=r("PXUV").escape,a=r("sTyi").forEach,o=r("sTyi").join,s=r("bFQJ"),u=r("Tb0o"),l=r("4bae").setSafeProperty;t.name="FunctionAssignmentNode",t.path="expression.node",t.factory=function(e,t,c,f){var p=c(r("K6lB"));function m(t,r,i){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(r))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!e.isNode(i))throw new TypeError('Node expected for parameter "expr"');if(t in n)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=r.map(function(e){return e&&e.name||e}),this.types=r.map(function(e){return e&&e.type||"any"}),this.expr=i}function h(e,t){var r=u.getPrecedence(e,t),n=u.getPrecedence(e.expr,t);return"all"===t||null!==n&&n<=r}return(m.prototype=new p).type="FunctionAssignmentNode",m.prototype.isFunctionAssignmentNode=!0,m.prototype._compile=function(e,t){var r=Object.create(t);a(this.params,function(e){r[e]=!0});var n=this.expr._compile(e,r),i=this.name,s=this.params,u=o(this.types,","),c=i+"("+o(this.params,", ")+")";return function(e,t,r){var a={};a[u]=function(){for(var i=Object.create(t),a=0;a<s.length;a++)i[s[a]]=arguments[a];return n(e,i,r)};var o=f(i,a);return o.syntax=c,l(e,i,o),o}},m.prototype.forEach=function(e){e(this.expr,"expr",this)},m.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new m(this.name,this.params.slice(0),t)},m.prototype.clone=function(){return new m(this.name,this.params.slice(0),this.expr)},m.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toString(e);return h(this,t)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},m.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(t,r){return{name:t,type:e[r]}}),expr:this.expr}},m.fromJSON=function(e){return new m(e.name,e.params,e.expr)},m.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+i(this.params[n])+"</span>");var a=this.expr.toHTML(e);return h(this,t)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+i(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+a},m.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toTex(e);return h(this,t)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(s.toSymbol).join(",")+"\\right):="+r},m}},p5NB:function(e,t,r){"use strict";var n=r("znhL");e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var i=new r(-1);return e.isZero()||t.eq(i)||e.eq(t)?t:t.isZero()||e.eq(i)?e:e.isFinite()&&t.isFinite()?n(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?i:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}},p8eF:function(e,t,r){"use strict";e.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]}},pLhR:function(e,t,r){"use strict";e.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},pNN2:function(e,t,r){"use strict";var n=r("0dEn").memoize;function i(e){return e[0].precision}t.e=n(function(e){return new e(1).exp()},i),t.phi=n(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},i),t.pi=n(function(e){return e.acos(-1)},i),t.tau=n(function(e){return t.pi(e).times(2)},i)},pvRk:function(e,t,r){"use strict";e.exports=function(e){return e&&e.constructor.prototype.isBigNumber||!1}},qAuR:function(e,t,r){"use strict";var n=r("sTyi").flatten,i=r("sTyi").identify;t.name="setIsSubset",t.factory=function(e,t,a,o){var s=a(r("Lzl2")),u=a(r("v7fr")),l=a(r("Wail")),c=a(r("L2qZ"));return o("setIsSubset",{"Array | Matrix, Array | Matrix":function(e,t){if(0===l(u(e),new s(0)))return!0;if(0===l(u(t),new s(0)))return!1;for(var r,a=i(n(Array.isArray(e)?e:e.toArray()).sort(c)),o=i(n(Array.isArray(t)?t:t.toArray()).sort(c)),f=0;f<a.length;f++){r=!1;for(var p=0;p<o.length;p++)if(0===c(a[f].value,o[p].value)&&a[f].identifier===o[p].identifier){r=!0;break}if(!1===r)return!1}return!0}})}},qY4y:function(e,t,r){"use strict";t.name="FibonacciHeap",t.path="type",t.factory=function(e,t,n,i){var a=n(r("m4e2")),o=n(r("H+Qf")),s=1/Math.log((1+Math.sqrt(5))/2);function u(){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function l(e,t,r){t.left.right=t.right,t.right.left=t.left,r.degree--,r.child===t&&(r.child=t.right),0===r.degree&&(r.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}u.prototype.type="FibonacciHeap",u.prototype.isFibonacciHeap=!0,u.prototype.insert=function(e,t){var r={key:e,value:t,degree:0};if(this._minimum){var n=this._minimum;r.left=n,r.right=n.right,n.right=r,r.right.left=r,a(e,n.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},u.prototype.size=function(){return this._size},u.prototype.clear=function(){this._minimum=null,this._size=0},u.prototype.isEmpty=function(){return 0===this._size},u.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var t=this._minimum,r=e.degree,n=e.child;r>0;){var i=n.right;n.left.right=n.right,n.right.left=n.left,n.left=t,n.right=t.right,t.right=n,n.right.left=n,n.parent=null,n=i,r--}return e.left.right=e.right,e.right.left=e.left,t=e===e.right?null:function(e,t){var r,n=Math.floor(Math.log(t)*s)+1,i=new Array(n),u=0,l=e;if(l)for(u++,l=l.right;l!==e;)u++,l=l.right;for(;u>0;){for(var f=l.degree,p=l.right;r=i[f];){if(o(l.key,r.key)){var m=r;r=l,l=m}c(r,l),i[f]=null,f++}i[f]=l,l=p,u--}e=null;for(var h=0;h<n;h++)(r=i[h])&&(e?(r.left.right=r.right,r.right.left=r.left,r.left=e,r.right=e.right,e.right=r,r.right.left=r,a(r.key,e.key)&&(e=r)):e=r);return e}(t=e.right,this._size),this._size--,this._minimum=t,e},u.prototype.remove=function(e){this._minimum=function(e,t,r){t.key=-1;var n=t.parent;return n&&a(t.key,n.key)&&(l(e,t,n),function e(t,r){var n=r.parent;n&&(r.mark?(l(t,r,n),e(n)):r.mark=!0)}(e,n)),a(t.key,e.key)&&(e=t),e}(this._minimum,e),this.extractMinimum()};var c=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return u}},qcrg:function(e,t,r){"use strict";var n=r("1stm");t.name="isPositive",t.factory=function(e,t,r,i){var a=i("isPositive",{number:function(e){return e>0},BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return a(e.value)},"Array | Matrix":function(e){return n(e,a)}});return a}},qqJO:function(e,t,r){"use strict";e.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]}},qr6c:function(e,t,r){e.exports=r("G+sN")},r6hi:function(e,t,r){"use strict";var n=r("1stm");t.name="square",t.factory=function(e,t,r,i){var a=i("square",{number:function(e){return e*e},Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return n(e,a,!0)},Unit:function(e){return e.pow(2)}});return a.toTex={1:"\\left(${args[0]}\\right)^2"},a}},"r8/r":function(e,t,r){"use strict";t.name="csDfs",t.path="algebra.sparse",t.factory=function(e,t,n){var i=n(r("4vqq")),a=n(r("U36N")),o=n(r("R2Ol"));return function(e,t,r,n,s){var u,l,c,f=t._index,p=t._ptr,m=t._size[1],h=0;for(n[0]=e;h>=0;){e=n[h];var d=s?s[e]:e;i(p,e)||(a(p,e),n[m+h]=d<0?0:o(p[d]));var v=1;for(l=n[m+h],c=d<0?0:o(p[d+1]);l<c;l++)if(!i(p,u=f[l])){n[m+h]=l,n[++h]=u,v=0;break}v&&(h--,n[--r]=e)}return r}}},rHkX:function(e,t,r){"use strict";t.name="csIpvec",t.path="algebra.sparse",t.factory=function(){return function(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}}},rIXY:function(e,t,r){"use strict";e.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},rJbg:function(e,t,r){"use strict";var n=r("1stm");t.name="acos",t.factory=function(e,t,r,i){var a=i("acos",{number:function(r){return r>=-1&&r<=1||t.predictable?Math.acos(r):new e.Complex(r,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},a}},rLM1:function(e,t,r){"use strict";t.name="createUnit",t.factory=function(e,t,r,n){return n("createUnit",{"Object, Object":function(t,r){return e.Unit.createUnit(t,r)},Object:function(t){return e.Unit.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,r,n){var i={};return i[t]=r,e.Unit.createUnit(i,n)},"string, Unit | string | Object":function(t,r){var n={};return n[t]=r,e.Unit.createUnit(n,{})},string:function(t){var r={};return r[t]={},e.Unit.createUnit(r,{})}})}},rMK7:function(e,t,r){"use strict";e.exports=function(e,t,r){if(null==r)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return n.lte(i.times(r))}return!1}},rPDF:function(e,t,r){"use strict";e.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},rRUH:function(e,t,r){"use strict";e.exports=[r("lDIG"),r("GAo5"),r("7Enr"),r("H8IP")]},rVKH:function(e,t,r){"use strict";var n=r("Z2I/").extend;t.name="divide",t.factory=function(e,t,i,a){var o=i(r("WPGy")),s=i(r("NU+P")),u=i(r("QfvV")),l=i(r("R4H5")),c=i(r("nr1U")),f=i(r("BLb5")),p=a("divide",n({"Array | Matrix, Array | Matrix":function(e,t){return s(e,u(t))},"DenseMatrix, any":function(e,t){return f(e,t,o,!1)},"SparseMatrix, any":function(e,t){return c(e,t,o,!1)},"Array, any":function(e,t){return f(l(e),t,o,!1).valueOf()},"any, Array | Matrix":function(e,t){return s(e,u(t))}},o.signatures));return p.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},p}},rWv8:function(e,t,r){"use strict";e.exports=[r("S1G9"),r("itDh"),r("FC7u"),r("g1iB"),r("I5O3"),r("TQi2"),r("Ji2L"),r("j+PY"),r("zv5G"),r("Z+cb"),r("tOkv")]},rhOl:function(e,t,r){"use strict";e.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},rnV6:function(e,t,r){"use strict";e.exports={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]}},rpcZ:function(e,t,r){"use strict";var n=256,i=[],a="undefined"==typeof global?window:global,o=Math.pow(n,6),s=Math.pow(2,52),u=2*s,l=n-1,c=Math.random;function f(e){var t,r=e.length,i=this,a=0,o=i.i=i.j=0,s=i.S=[];for(r||(e=[r++]);a<n;)s[a]=a++;for(a=0;a<n;a++)s[a]=s[o=l&o+e[a%r]+(t=s[a])],s[o]=t;(i.g=function(e){for(var t,r=0,a=i.i,o=i.j,s=i.S;e--;)t=s[a=l&a+1],r=r*n+s[l&(s[a]=s[o=l&o+t])+(s[o]=t)];return i.i=a,i.j=o,r})(n)}function p(e,t){var r,n=[],i=(typeof e)[0];if(t&&"o"==i)for(r in e)try{n.push(p(e[r],t-1))}catch(a){}return n.length?n:"s"==i?e:e+"\0"}function m(e,t){for(var r,n=e+"",i=0;i<n.length;)t[l&i]=l&(r^=19*t[l&i])+n.charCodeAt(i++);return d(t)}function h(e){try{return a.crypto.getRandomValues(e=new Uint8Array(n)),d(e)}catch(t){return[+new Date,a,a.navigator&&a.navigator.plugins,a.screen,d(i)]}}function d(e){return String.fromCharCode.apply(0,e)}e.exports=function(t,r){if(r&&!0===r.global)return r.global=!1,Math.random=e.exports(t,r),r.global=!0,Math.random;var a=r&&r.entropy||!1,l=[],c=(m(p(a?[t,d(i)]:0 in arguments?t:h(),3),l),new f(l));return m(d(c.S),i),function(){for(var e=c.g(6),t=o,r=0;e<s;)e=(e+r)*n,t*=n,r=c.g(1);for(;e>=u;)e/=2,t/=2,r>>>=1;return(e+r)/t}},e.exports.resetGlobal=function(){Math.random=c},m(Math.random(),i)},rq6S:function(e,t,r){"use strict";var n=r("sTyi").size,i=r("6cPB"),a=r("S2pI");function o(e,t,r){var n,i,a,s;if(t<=0){if(Array.isArray(e[0])){for(s=function(e){var t,r,n=e.length,i=e[0].length,a=[];for(r=0;r<i;r++){var o=[];for(t=0;t<n;t++)o.push(e[t][r]);a.push(o)}return a}(e),i=[],n=0;n<s.length;n++)i[n]=o(s[n],t-1,r);return i}for(a=e[0],n=1;n<e.length;n++)a=r(a,e[n]);return a}for(i=[],n=0;n<e.length;n++)i[n]=o(e[n],t-1,r);return i}e.exports=function(e,t,r){var s=Array.isArray(e)?n(e):e.size();if(t<0||t>=s.length)throw new a(t,s.length);return i(e)?e.create(o(e.valueOf(),t,r)):o(e,t,r)}},rtlt:function(e,t,r){"use strict";e.exports={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.eval({x: 3})"],seealso:["simplify","parse","eval"]}},"s/Oj":function(e,t,r){"use strict";var n=r("1stm"),i=Math.log10||function(e){return Math.log(e)/Math.LN10};t.name="log10",t.factory=function(e,t,r,a){var o=a("log10",{number:function(r){return r>=0||t.predictable?i(r):new e.Complex(r,0).log().div(Math.LN10)},Complex:function(t){return new e.Complex(t).log().div(Math.LN10)},BigNumber:function(r){return!r.isNegative()||t.predictable?r.log():new e.Complex(r.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return n(e,o)}});return o.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},o}},sLzR:function(e,t,r){"use strict";t.name="range",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=new e.BigNumber(0),s=new e.BigNumber(1),u=i("range",{string:c,"string, boolean":c,"number, number":function(e,t){return l(f(e,t,1))},"number, number, number":function(e,t,r){return l(f(e,t,r))},"number, number, boolean":function(e,t,r){return l(r?p(e,t,1):f(e,t,1))},"number, number, number, boolean":function(e,t,r,n){return l(n?p(e,t,r):f(e,t,r))},"BigNumber, BigNumber":function(e,t){return l(m(e,t,s))},"BigNumber, BigNumber, BigNumber":function(e,t,r){return l(m(e,t,r))},"BigNumber, BigNumber, boolean":function(e,t,r){return l(r?h(e,t,s):m(e,t,s))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,r,n){return l(n?h(e,t,r):m(e,t,r))}});return u.toTex=void 0,u;function l(e){return"Array"===t.matrix?e:a(e)}function c(r,n){var i=function(e){var t=e.split(":").map(function(e){return Number(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(r);if(!i)throw new SyntaxError('String "'+r+'" is no valid range');return l("BigNumber"===t.number?(n?h:m)(new e.BigNumber(i.start),new e.BigNumber(i.end),new e.BigNumber(i.step)):(n?p:f)(i.start,i.end,i.step))}function f(e,t,r){var n=[],i=e;if(r>0)for(;i<t;)n.push(i),i+=r;else if(r<0)for(;i>t;)n.push(i),i+=r;return n}function p(e,t,r){var n=[],i=e;if(r>0)for(;i<=t;)n.push(i),i+=r;else if(r<0)for(;i>=t;)n.push(i),i+=r;return n}function m(e,t,r){var n=[],i=e;if(r.gt(o))for(;i.lt(t);)n.push(i),i=i.plus(r);else if(r.lt(o))for(;i.gt(t);)n.push(i),i=i.plus(r);return n}function h(e,t,r){var n=[],i=e;if(r.gt(o))for(;i.lte(t);)n.push(i),i=i.plus(r);else if(r.lt(o))for(;i.gte(t);)n.push(i),i=i.plus(r);return n}}},sTyi:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.size=u,t.validate=function(e,t){if(0===t.length){if(Array.isArray(e))throw new a.default(e.length,0)}else!function e(t,r,n){var i,o=t.length;if(o!==r[n])throw new a.default(o,r[n]);if(n<r.length-1){var s=n+1;for(i=0;i<o;i++){if(!Array.isArray(t[i]))throw new a.default(r.length-1,r.length,"<");e(t[i],r,s)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new a.default(r.length+1,r.length,">")}(e,t,0)},t.validateIndex=function(e,t){if(!n.default.isNumber(e)||!n.default.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new o.default(e,t)},t.resize=function(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(e){if(!n.default.isNumber(e)||!n.default.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+i.default.format(t)+")")}),function e(t,r,n,i){var a,o,s=r[n],u=Math.min(t.length,s);if(t.length=s,n<r.length-1){var l=n+1;for(a=0;a<u;a++)o=t[a],Array.isArray(o)||(t[a]=o=[o]),e(o,r,l,i);for(a=u;a<s;a++)t[a]=o=[],e(o,r,l,i)}else{for(a=0;a<u;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];for(a=u;a<s;a++)t[a]=i}}(e,t,0,void 0!==r?r:0),e},t.reshape=function(e,t){var r,n=l(e);function i(e){return e.reduce(function(e,t){return e*t})}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new a.default(0,i(u(e)),"!=");for(var o=1,s=0;s<t.length;s++)o*=t[s];if(n.length!==o)throw new a.default(i(t),i(u(e)),"!=");try{r=function(e,t){for(var r,i=n,a=t.length-1;a>0;a--){var o=t[a];r=[];for(var s=i.length/o,u=0;u<s;u++)r.push(i.slice(u*o,(u+1)*o));i=r}return i}(0,t)}catch(c){if(c instanceof a.default)throw new a.default(i(t),i(u(e)),"!=");throw c}return r},t.squeeze=function(e,t){for(var r=t||u(e);Array.isArray(e)&&1===e.length;)e=e[0],r.shift();for(var n=r.length;1===r[n-1];)n--;return n<r.length&&(e=function e(t,r,n){var i,a;if(n<r){var o=n+1;for(i=0,a=t.length;i<a;i++)t[i]=e(t[i],r,o)}else for(;Array.isArray(t);)t=t[0];return t}(e,n,0),r.length=n),e},t.unsqueeze=function(e,t,r,n){var i=n||u(e);if(r)for(var a=0;a<r;a++)e=[e],i.unshift(1);for(e=function e(t,r,n){var i,a;if(Array.isArray(t)){var o=n+1;for(i=0,a=t.length;i<a;i++)t[i]=e(t[i],r,o)}else for(var s=n;s<r;s++)t=[t];return t}(e,t,0);i.length<t;)i.push(1);return e},t.flatten=l,t.map=function(e,t){return Array.prototype.map.call(e,t)},t.forEach=function(e,t){Array.prototype.forEach.call(e,t)},t.filter=function(e,t){if(1!==u(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)},t.filterRegExp=function(e,t){if(1!==u(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,function(e){return t.test(e)})},t.join=function(e,t){return Array.prototype.join.call(e,t)},t.identify=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t},t.generalize=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t};var n=s(r("199F")),i=s(r("PXUV")),a=s(r("X8kj")),o=s(r("S2pI"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function l(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function e(r){Array.isArray(r)?r.forEach(e):t.push(r)}),t}},sXYj:function(e,t,r){"use strict";e.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},sY0m:function(e,t,r){"use strict";e.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},sbU1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.factory=function(e,t,r,n,a){var o=i.default.clone({precision:t.precision});return o.prototype.type="BigNumber",o.prototype.isBigNumber=!0,o.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},o.fromJSON=function(e){return new o(e.value)},a.on("config",function(e,t){e.precision!==t.precision&&o.config({precision:e.precision})}),o},t.math=t.path=t.name=void 0;var n,i=(n=r("QSgb"))&&n.__esModule?n:{default:n};t.name="BigNumber",t.path="type",t.math=!0},slOk:function(e,t,r){"use strict";e.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},t9bR:function(e,t,r){"use strict";e.exports={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},tGqf:function(e,t,r){"use strict";var n=r("1stm");t.name="compile",t.factory=function(e,t,i,a){var o=i(r("MUdo"));return a("compile",{string:function(e){return o(e).compile()},"Array | Matrix":function(e){return n(e,function(e){return o(e).compile()})}})}},tLSF:function(e,t,r){"use strict";var n=r("sTyi").filter,i=r("sTyi").filterRegExp,a=r("0dEn").maxArgumentCount;function o(e,t){var r=a(t);return n(e,function(e,n,i){return 1===r?t(e):2===r?t(e,[n+1]):t(e,[n+1],i)})}t.name="filter",t.path="expression.transform",t.factory=function(e,t,n,a){var s=n(r("iwau")),u=n(r("R4H5"));function l(t,r,n){var i,a;return t[0]&&(i=t[0].compile().eval(n)),t[1]&&(a=e.isSymbolNode(t[1])||e.isFunctionAssignmentNode(t[1])?t[1].compile().eval(n):s(t[1],r,n)),c(i,a)}l.rawArgs=!0;var c=a("filter",{"Array, function":o,"Matrix, function":function(e,t){return u(o(e.toArray(),t))},"Array, RegExp":i,"Matrix, RegExp":function(e,t){return u(i(e.toArray(),t))}});return c.toTex=void 0,l}},tOkv:function(e,t,r){"use strict";var n=r("3LJV");t.name="var",t.factory=function(e,t,i,a){var o=i(r("XXst")),s=i(r("O1N0")),u=i(r("oiZ2")),l=i(r("WPGy")),c=i(r("b1uj")),f=i(r("D2JG")),p=a("variance",{"Array | Matrix":function(e){return m(e,"unbiased")},"Array | Matrix, string":m,"...":function(e){return m(e,"unbiased")}});return p.toTex="\\mathrm{Var}\\left(${args}\\right)",p;function m(t,r){var i=0,a=0;if(0===t.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(n(t,function(e){try{i=o(i,e),a++}catch(t){throw f(t,"var",e)}}),0===a)throw new Error("Cannot calculate var of an empty array");var p=l(i,a);if(i=0,n(t,function(e){var t=s(e,p);i=o(i,u(t,t))}),c(i))return i;switch(r){case"uncorrected":return l(i,a);case"biased":return l(i,a+1);case"unbiased":var m=e.isBigNumber(i)?new e.BigNumber(0):0;return 1===a?m:l(i,a-1);default:throw new Error('Unknown normalization "'+r+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}}},u3Uq:function(e,t,r){"use strict";e.exports={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]}},u3uT:function(e,t,r){"use strict";var n=r("Z2I/"),i=r("pNN2");function a(e,t,r){e[t]=r,e.expression.mathWithTransform[t]=r}function o(e,t,r){n.lazy(e,t,r),n.lazy(e.expression.mathWithTransform,t,r)}t.factory=function e(t,n,s,u,l){l.on("config",function(r,i){r.number!==i.number&&e(t,n,s,u,l)}),a(l,"true",!0),a(l,"false",!1),a(l,"null",null),a(l,"uninitialized","Error: Constant uninitialized is removed since v4.0.0. Use null instead"),"BigNumber"===n.number?(a(l,"Infinity",new t.BigNumber(1/0)),a(l,"NaN",new t.BigNumber(NaN)),o(l,"pi",function(){return i.pi(t.BigNumber)}),o(l,"tau",function(){return i.tau(t.BigNumber)}),o(l,"e",function(){return i.e(t.BigNumber)}),o(l,"phi",function(){return i.phi(t.BigNumber)}),o(l,"E",function(){return l.e}),o(l,"LN2",function(){return new t.BigNumber(2).ln()}),o(l,"LN10",function(){return new t.BigNumber(10).ln()}),o(l,"LOG2E",function(){return new t.BigNumber(1).div(new t.BigNumber(2).ln())}),o(l,"LOG10E",function(){return new t.BigNumber(1).div(new t.BigNumber(10).ln())}),o(l,"PI",function(){return l.pi}),o(l,"SQRT1_2",function(){return new t.BigNumber("0.5").sqrt()}),o(l,"SQRT2",function(){return new t.BigNumber(2).sqrt()})):(a(l,"Infinity",1/0),a(l,"NaN",NaN),a(l,"pi",Math.PI),a(l,"tau",2*Math.PI),a(l,"e",Math.E),a(l,"phi",1.618033988749895),a(l,"E",l.e),a(l,"LN2",Math.LN2),a(l,"LN10",Math.LN10),a(l,"LOG2E",Math.LOG2E),a(l,"LOG10E",Math.LOG10E),a(l,"PI",l.pi),a(l,"SQRT1_2",Math.SQRT1_2),a(l,"SQRT2",Math.SQRT2)),t.Complex&&a(l,"i",t.Complex.I),a(l,"version",r("hX6l"))},t.lazy=!1,t.math=!0},u995:function(e,t,r){"use strict";var n=r("1stm"),i=r("199F").isInteger,a=4.7421875,o=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];t.name="gamma",t.factory=function(e,t,s,u){var l=s(r("NU+P")),c=s(r("CaZ0")),f=r("G+ok"),p=u("gamma",{number:function(e){var t,r;if(i(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:f(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*p(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,s=n*e,u=s*e,l=u*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*s)-571/(2488320*u)+163879/(209018880*l)+5246819/(75246796800*l*e))}--e,r=o[0];for(var c=1;c<o.length;++c)r+=o[c]/(e+c);return t=e+a+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*r},Complex:function(t){var r,n;if(0===t.im)return p(t.re);t=new e.Complex(t.re-1,t.im),n=new e.Complex(o[0],0);for(var i=1;i<o.length;++i){var s=t.re+i,u=s*s+t.im*t.im;0!==u?(n.re+=o[i]*s/u,n.im+=-o[i]*t.im/u):n.re=o[i]<0?-1/0:1/0}r=new e.Complex(t.re+a+.5,t.im);var f=Math.sqrt(2*Math.PI);t.re+=.5;var m=c(r,t);0===m.im?m.re*=f:0===m.re?m.im*=f:(m.re*=f,m.im*=f);var h=Math.exp(-r.re);return r.re=h*Math.cos(-r.im),r.im=h*Math.sin(-r.im),l(l(m,r),n)},BigNumber:function(r){if(r.isInteger())return r.isNegative()||r.isZero()?new e.BigNumber(1/0):function(r){if(r.isZero())return new e.BigNumber(1);for(var n=t.precision+(0|Math.log(r.toNumber())),i=new(e.BigNumber.clone({precision:n}))(r),a=r.toNumber()-1;a>1;)i=i.times(a),a--;return new e.BigNumber(i.toPrecision(e.BigNumber.precision))}(r.minus(1));if(!r.isFinite())return new e.BigNumber(r.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return n(e,p)}});return p.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},p}},uC4O:function(e,t,r){"use strict";e.exports={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]}},uD2I:function(e,t,r){"use strict";var n=r("199F").isInteger;function i(e,t){if(!n(e)||!n(t))throw new Error("Parameters in function gcd must be integer numbers");for(var r;0!==t;)r=e%t,e=t,t=r;return e<0?-e:e}t.name="gcd",t.factory=function(e,t,n,a){var o=n(r("R4H5")),s=n(r("eX2I")),u=n(r("MqKi")),l=n(r("v+4T")),c=n(r("zbDx")),f=n(r("BLb5")),p=a("gcd",{"number, number":i,"BigNumber, BigNumber":function(t,r){if(!t.isInt()||!r.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var n=new e.BigNumber(0);!r.isZero();){var i=t.mod(r);t=r,r=i}return t.lt(n)?t.neg():t},"Fraction, Fraction":function(e,t){return e.gcd(t)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,p)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,p)},"Array, Array":function(e,t){return p(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return p(o(e),t)},"Matrix, Array":function(e,t){return p(e,o(t))},"SparseMatrix, number | BigNumber":function(e,t){return l(e,t,p,!1)},"DenseMatrix, number | BigNumber":function(e,t){return f(e,t,p,!1)},"number | BigNumber, SparseMatrix":function(e,t){return l(t,e,p,!0)},"number | BigNumber, DenseMatrix":function(e,t){return f(t,e,p,!0)},"Array, number | BigNumber":function(e,t){return f(o(e),t,p,!1).valueOf()},"number | BigNumber, Array":function(e,t){return f(o(t),e,p,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=p(e,t),i=0;i<r.length;i++)n=p(n,r[i]);return n}});return p.toTex="\\gcd\\left(${args}\\right)",p}},uGUF:function(e,t,r){"use strict";e.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},uPaw:function(e,t,r){"use strict";var n=r("Tb0o");t.name="RangeNode",t.path="expression.node",t.factory=function(e,t,i,a){var o=i(r("K6lB"));function s(t,r,n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError("Node expected");if(!e.isNode(r))throw new TypeError("Node expected");if(n&&!e.isNode(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=r,this.step=n||null}function u(e,t){var r=n.getPrecedence(e,t),i={},a=n.getPrecedence(e.start,t);if(i.start=null!==a&&a<=r||"all"===t,e.step){var o=n.getPrecedence(e.step,t);i.step=null!==o&&o<=r||"all"===t}var s=n.getPrecedence(e.end,t);return i.end=null!==s&&s<=r||"all"===t,i}return(s.prototype=new o).type="RangeNode",s.prototype.isRangeNode=!0,s.prototype.needsEnd=function(){return this.filter(function(t){return e.isSymbolNode(t)&&"end"===t.name}).length>0},s.prototype._compile=function(e,t){var r=e.range,n=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var a=this.step._compile(e,t);return function(e,t,o){return r(n(e,t,o),i(e,t,o),a(e,t,o))}}return function(e,t,a){return r(n(e,t,a),i(e,t,a))}},s.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},s.prototype.map=function(e){return new s(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},s.prototype.clone=function(){return new s(this.start,this.end,this.step&&this.step)},s.prototype._toString=function(e){var t,r=u(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toString(e);if(r.start&&(n="("+n+")"),t=n,this.step){var i=this.step.toString(e);r.step&&(i="("+i+")"),t+=":"+i}var a=this.end.toString(e);return r.end&&(a="("+a+")"),t+":"+a},s.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},s.fromJSON=function(e){return new s(e.start,e.end,e.step)},s.prototype.toHTML=function(e){var t,r=u(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toHTML(e);if(r.start&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=n,this.step){var i=this.step.toHTML(e);r.step&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+i}var a=this.end.toHTML(e);return r.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+'<span class="math-operator math-range-operator">:</span>'+a},s.prototype._toTex=function(e){var t=u(this,e&&e.parenthesis?e.parenthesis:"keep"),r=this.start.toTex(e);if(t.start&&(r="\\left(".concat(r,"\\right)")),this.step){var n=this.step.toTex(e);t.step&&(n="\\left(".concat(n,"\\right)")),r+=":"+n}var i=this.end.toTex(e);return t.end&&(i="\\left(".concat(i,"\\right)")),r+":"+i},s}},uUDd:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.name="typeof",t.factory=function(e,t,r,i){var a=i("_typeof",{any:function(t){var r=n(t);return"object"===r?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":e.isBigNumber(t)?"BigNumber":e.isComplex(t)?"Complex":e.isFraction(t)?"Fraction":e.isMatrix(t)?"Matrix":e.isUnit(t)?"Unit":e.isIndex(t)?"Index":e.isRange(t)?"Range":e.isResultSet(t)?"ResultSet":e.isNode(t)?t.type:e.isChain(t)?"Chain":e.isHelp(t)?"Help":"Object":"function"===r?"Function":r}});return a.toTex=void 0,a}},ueXR:function(e,t,r){"use strict";var n=r("1stm");t.name="fix",t.factory=function(e,t,r,i){var a=i("fix",{number:function(e){return e>0?Math.floor(e):Math.ceil(e)},Complex:function(t){return new e.Complex(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},BigNumber:function(e){return e.isNegative()?e.ceil():e.floor()},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return n(e,a,!0)}});return a.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},a}},uohQ:function(e,t,r){"use strict";e.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},"ut+i":function(e,t,r){"use strict";var n=r("bFQJ"),i=r("sTyi").map,a=r("PXUV").escape,o=r("4bae").isSafeMethod,s=r("4bae").getSafeProperty,u=r("Tb0o");t.name="OperatorNode",t.path="expression.node",t.factory=function(e,t,l,c){var f=l(r("K6lB"));function p(t,r,n,i){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof r)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=r,this.args=n||[]}function m(e,t,r,n,i){var a,o=u.getPrecedence(e,t),s=u.getAssociativity(e,t);if("all"===t||n.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return n.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(n.length){case 0:a=[];break;case 1:var l=u.getPrecedence(n[0],t);if(i&&null!==l){var c,f;if("keep"===t?(c=n[0].getIdentifier(),f=e.getIdentifier()):(c=n[0].getContent().getIdentifier(),f=e.getContent().getIdentifier()),!1===u.properties[o][f].latexLeftParens){a=[!1];break}if(!1===u.properties[l][c].latexParens){a=[!1];break}}if(null===l){a=[!1];break}if(l<=o){a=[!0];break}a=[!1];break;case 2:var p,m,h=u.getPrecedence(n[0],t),d=u.isAssociativeWith(e,n[0],t);p=null!==h&&(h===o&&"right"===s&&!d||h<o);var v,g,b,y=u.getPrecedence(n[1],t),x=u.isAssociativeWith(e,n[1],t);m=null!==y&&(y===o&&"left"===s&&!x||y<o),i&&("keep"===t?(v=e.getIdentifier(),g=e.args[0].getIdentifier(),b=e.args[1].getIdentifier()):(v=e.getContent().getIdentifier(),g=e.args[0].getContent().getIdentifier(),b=e.args[1].getContent().getIdentifier()),null!==h&&(!1===u.properties[o][v].latexLeftParens&&(p=!1),!1===u.properties[h][g].latexParens&&(p=!1)),null!==y&&(!1===u.properties[o][v].latexRightParens&&(m=!1),!1===u.properties[y][b].latexParens&&(m=!1))),a=[p,m];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(a=n.map(function(r){var n=u.getPrecedence(r,t),i=u.isAssociativeWith(e,r,t),a=u.getAssociativity(r,t);return null!==n&&(o===n&&s===a&&!i||n<o)}))}return n.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===r&&(a=n.map(function(e,t){var r="ParenthesisNode"===e.getIdentifier();return!(!a[t]&&!r)})),a}return(p.prototype=new f).type="OperatorNode",p.prototype.isOperatorNode=!0,p.prototype._compile=function(e,t){if("string"!=typeof this.fn||!o(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=s(e,this.fn),n=i(this.args,function(r){return r._compile(e,t)});if(1===n.length){var a=n[0];return function(e,t,n){return r(a(e,t,n))}}if(2===n.length){var u=n[0],l=n[1];return function(e,t,n){return r(u(e,t,n),l(e,t,n))}}return function(e,t,a){return r.apply(null,i(n,function(r){return r(e,t,a)}))}},p.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},p.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new p(this.op,this.fn,t,this.implicit)},p.prototype.clone=function(){return new p(this.op,this.fn,this.args.slice(0),this.implicit)},p.prototype.isUnary=function(){return 1===this.args.length},p.prototype.isBinary=function(){return 2===this.args.length},p.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",n=this.args,i=m(this,t,r,n,!1);if(1===n.length){var a=u.getAssociativity(this,t),o=n[0].toString(e);return i[0]&&(o="("+o+")"),"right"===a?this.op+o:o+this.op}if(2===n.length){var s=n[0].toString(e),l=n[1].toString(e);return i[0]&&(s="("+s+")"),i[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?s+" "+l:s+" "+this.op+" "+l}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var c=n.map(function(t,r){return t=t.toString(e),i[r]&&(t="("+t+")"),t});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c.join(" "):c.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},p.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},p.fromJSON=function(e){return new p(e.op,e.fn,e.args,e.implicit)},p.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",n=this.args,i=m(this,t,r,n,!1);if(1===n.length){var o=u.getAssociativity(this,t),s=n[0].toHTML(e);return i[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+a(this.op)+"</span>"+s:'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+a(this.op)+"</span>"+s}if(2===n.length){var l=n[0].toHTML(e),c=n[1].toHTML(e);return i[0]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:l+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+a(this.op)+"</span>"+c}var f=n.map(function(t,r){return t=t.toHTML(e),i[r]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t});return n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?f.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):f.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+a(this.op)+"</span>"):'<span class="math-function">'+a(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},p.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,a=m(this,t,r,i,!0),o=n.operators[this.fn];if(o=void 0===o?this.op:o,1===i.length){var s=u.getAssociativity(this,t),l=i[0].toTex(e);return a[0]&&(l="\\left(".concat(l,"\\right)")),"right"===s?o+l:l+o}if(2===i.length){var c=i[0],f=c.toTex(e);a[0]&&(f="\\left(".concat(f,"\\right)"));var p,h=i[1].toTex(e);switch(a[1]&&(h="\\left(".concat(h,"\\right)")),p="keep"===t?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+f+"}{"+h+"}";case"OperatorNode:pow":switch(f="{"+f+"}",h="{"+h+"}",p){case"ConditionalNode":case"OperatorNode:divide":f="\\left(".concat(f,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return f+"~"+h}return f+o+h}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var d=i.map(function(t,r){return t=t.toTex(e),a[r]&&(t="\\left(".concat(t,"\\right)")),t});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?d.join("~"):d.join(o)}return"\\mathrm{"+this.fn+"}\\left("+i.map(function(t){return t.toTex(e)}).join(",")+"\\right)"},p.prototype.getIdentifier=function(){return this.type+":"+this.fn},p}},uvCz:function(e,t,r){"use strict";t.name="equal",t.factory=function(e,t,n,i){var a=n(r("R4H5")),o=n(r("hj6K")),s=n(r("hYuG")),u=n(r("XXc+")),l=n(r("/z5F")),c=n(r("zbDx")),f=n(r("BLb5")),p=r("bFQJ"),m=i("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:o(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,o)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,o,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,o,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,o)},"Array, Array":function(e,t){return m(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return m(a(e),t)},"Matrix, Array":function(e,t){return m(e,a(t))},"SparseMatrix, any":function(e,t){return l(e,t,o,!1)},"DenseMatrix, any":function(e,t){return f(e,t,o,!1)},"any, SparseMatrix":function(e,t){return l(t,e,o,!0)},"any, DenseMatrix":function(e,t){return f(t,e,o,!0)},"Array, any":function(e,t){return f(a(e),t,o,!1).valueOf()},"any, Array":function(e,t){return f(a(t),e,o,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(p.operators.equal,"${args[1]}\\right)")},m}},uxtw:function(e,t,r){"use strict";var n=r("4bae").getSafeProperty,i=r("4bae").setSafeProperty;t.name="AssignmentNode",t.path="expression.node",t.factory=function(e,t,a,o){var s=a(r("K6lB")),u=a(r("XZ/J")),l=a(r("2g85")),c=r("Tb0o");function f(t,r,n){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=n?r:null,this.value=n||r,!e.isSymbolNode(t)&&!e.isAccessorNode(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(e.isSymbolNode(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!e.isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!e.isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:(function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function p(e,t){t||(t="keep");var r=c.getPrecedence(e,t),n=c.getPrecedence(e.value,t);return"all"===t||null!==n&&n<=r}return(f.prototype=new s).type="AssignmentNode",f.prototype.isAssignmentNode=!0,f.prototype._compile=function(t,r){var a=this.object._compile(t,r),o=this.index?this.index._compile(t,r):null,s=this.value._compile(t,r),c=this.object.name;if(this.index){if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(e,t,r){var n=a(e,t,r),o=s(e,t,r);return i(n,f,o)}}if(e.isSymbolNode(this.object))return function(e,t,r){var n=a(e,t,r),l=s(e,t,r),f=o(e,t,n);return i(e,c,u(n,f,l)),l};var p=this.object.object._compile(t,r);if(this.object.index.isObjectProperty()){var m=this.object.index.getObjectProperty();return function(e,t,r){var a=p(e,t,r),l=n(a,m),c=o(e,t,l),f=s(e,t,r);return i(a,m,u(l,c,f)),f}}var h=this.object.index._compile(t,r);return function(e,t,r){var n=p(e,t,r),i=h(e,t,n),a=l(n,i),c=o(e,t,a),f=s(e,t,r);return u(n,i,u(a,c,f)),f}}if(!e.isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,r){return i(e,c,s(e,t,r))}},f.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},f.prototype.map=function(e){return new f(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},f.prototype.clone=function(){return new f(this.object,this.index,this.value)},f.prototype._toString=function(e){var t=this.object.toString(e),r=this.index?this.index.toString(e):"",n=this.value.toString(e);return p(this,e&&e.parenthesis)&&(n="("+n+")"),t+r+" = "+n},f.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},f.fromJSON=function(e){return new f(e.object,e.index,e.value)},f.prototype.toHTML=function(e){var t=this.object.toHTML(e),r=this.index?this.index.toHTML(e):"",n=this.value.toHTML(e);return p(this,e&&e.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},f.prototype._toTex=function(e){var t=this.object.toTex(e),r=this.index?this.index.toTex(e):"",n=this.value.toTex(e);return p(this,e&&e.parenthesis)&&(n="\\left(".concat(n,"\\right)")),t+r+":="+n},f}},"v+4T":function(e,t,r){"use strict";t.name="algorithm10",t.factory=function(e,t,r,n){var i=e.DenseMatrix;return function(e,t,r,a){var o=e._values,s=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=l[0],m=l[1],h=r;"string"==typeof c&&(t=n.convert(t,f=c),h=n.find(r,[f,f]));for(var d=[],v=new i({data:d,size:[p,m],datatype:f}),g=[],b=[],y=0;y<m;y++){for(var x=y+1,w=u[y+1],M=u[y];M<w;M++){var N=s[M];g[N]=o[M],b[N]=x}for(var _=0;_<p;_++)0===y&&(d[_]=[]),d[_][y]=b[_]===x?a?h(t,g[_]):h(g[_],t):t}return v}}},v0wB:function(e,t,r){"use strict";var n=r("sTyi").map;t.name="ArrayNode",t.path="expression.node",t.factory=function(e,t,i,a){var o=i(r("K6lB"));function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(e.isNode))throw new TypeError("Array containing Nodes expected");var r=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:r,set:r})}return(s.prototype=new o).type="ArrayNode",s.prototype.isArrayNode=!0,s.prototype._compile=function(e,t){var r=n(this.items,function(r){return r._compile(e,t)});if("Array"!==e.config().matrix){var i=e.matrix;return function(e,t,a){return i(n(r,function(r){return r(e,t,a)}))}}return function(e,t,i){return n(r,function(r){return r(e,t,i)})}},s.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++)e(this.items[t],"items["+t+"]",this)},s.prototype.map=function(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new s(t)},s.prototype.clone=function(){return new s(this.items.slice(0))},s.prototype._toString=function(e){return"["+this.items.map(function(t){return t.toString(e)}).join(", ")+"]"},s.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},s.fromJSON=function(e){return new s(e.items)},s.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(t){return t.toHTML(e)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},s.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach(function(r){t+=r.items?r.items.map(function(t){return t.toTex(e)}).join("&"):r.toTex(e),t+="\\\\"}),t+="\\end{bmatrix}"},s}},v7fr:function(e,t,r){"use strict";var n=r("sTyi");t.name="size",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=a("size",{Matrix:function(e){return o(e.size())},Array:n.size,string:function(e){return"Array"===t.matrix?[e.length]:o([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===t.matrix?[]:o([])}});return s.toTex=void 0,s}},vpdz:function(e,t,r){"use strict";var n=r("1stm");t.name="tan",t.factory=function(e,t,r,i){var a=i("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return a(t.value)},"Array | Matrix":function(e){return n(e,a,!0)}});return a.toTex={1:"\\tan\\left(${args[0]}\\right)"},a}},vtST:function(e,t,r){"use strict";e.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},"vu+E":function(e,t,r){"use strict";var n=r("1stm");t.name="acsch",t.factory=function(e,t,r,i){var a=i("acsch",{number:function(e){return e=1/e,Math.log(e+Math.sqrt(e*e+1))},Complex:function(e){return e.acsch()},BigNumber:function(t){return new e.BigNumber(1).div(t).asinh()},"Array | Matrix":function(e){return n(e,a)}});return a.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},a}},"w+04":function(e,t,r){"use strict";var n=r("PXUV").format,i=r("Z2I/").lazy;t.name="Chain",t.path="type",t.factory=function(e,t,r,a,o){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this.value=e.isChain(t)?t.value:t}function u(e,t){"function"==typeof t&&(s.prototype[e]=l(t))}function l(e){return function(){for(var t=[this.value],r=0;r<arguments.length;r++)t[r+1]=arguments[r];return new s(e.apply(e,t))}}return s.prototype.type="Chain",s.prototype.isChain=!0,s.prototype.done=function(){return this.value},s.prototype.valueOf=function(){return this.value},s.prototype.toString=function(){return n(this.value)},s.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},s.fromJSON=function(e){return new s(e.value)},s.createProxy=function(e,t){if("string"==typeof e)u(e,t);else for(var r in e)e.hasOwnProperty(r)&&u(r,e[r])},s.createProxy(o),o.on("import",function(e,t,r){void 0===r&&function(e,t){i(s.prototype,e,function(){var e=t();if("function"==typeof e)return l(e)})}(e,t)}),s},t.math=!0,t.lazy=!1},wB2G:function(e,t,r){"use strict";e.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},wEzv:function(e,t,r){"use strict";e.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},"wJ/n":function(e,t,r){"use strict";var n=r("1stm");t.name="fraction",t.factory=function(e,t,r,i){var a=i("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new e.Fraction(t)},string:function(t){return new e.Fraction(t)},"number, number":function(t,r){return new e.Fraction(t,r)},null:function(t){return new e.Fraction(0)},BigNumber:function(t){return new e.Fraction(t.toString())},Fraction:function(e){return e},Object:function(t){return new e.Fraction(t)},"Array | Matrix":function(e){return n(e,a)}});return a}},wOJ8:function(e,t){function r(){}r.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function i(){n.off(e,i),t.apply(r,arguments)}return i._=t,this.on(e,i,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],i=[];if(n&&t)for(var a=0,o=n.length;a<o;a++)n[a].fn!==t&&n[a].fn._!==t&&i.push(n[a]);return i.length?r[e]=i:delete r[e],this}},e.exports=r,e.exports.TinyEmitter=r},wXLj:function(e,t,r){"use strict";e.exports={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]}},we3n:function(e,t,r){"use strict";e.exports={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}},wp4q:function(e,t,r){"use strict";e.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},wxaS:function(e,t,r){"use strict";e.exports=[r("7iUD"),r("WwBC"),r("Y8oi"),r("rRUH"),r("mmlm"),r("eVG/"),r("BSwV"),r("Fa9p"),r("PYnG"),r("4Fqd"),r("MGSk"),r("ZVta"),r("rWv8"),r("fb3Y"),r("Uy8H"),r("Kwa8"),r("xTH1")]},x9aj:function(e,t,r){"use strict";e.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},xDDq:function(e,t,r){"use strict";var n=r("199F").isInteger,i=r("G+ok");function a(e){return e.isInteger()&&e.gte(0)}t.name="combinations",t.factory=function(e,t,r,o){var s=o("combinations",{"number, number":function(e,t){var r;if(!n(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!n(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");return t<(r=e-t)?i(r+1,e)/i(1,t):i(t+1,e)/i(1,r)},"BigNumber, BigNumber":function(t,r){var n,i,o,s,u=new e.BigNumber(1);if(!a(t)||!a(r))throw new TypeError("Positive integer value expected in function combinations");if(r.gt(t))throw new TypeError("k must be less than n in function combinations");for(n=t.minus(r),r.lt(n)&&(n=r),i=u,o=u,s=t.minus(n);o.lte(s);o=o.plus(1))i=i.times(n.plus(o)).dividedBy(o);return i}});return s.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},s}},xFnQ:function(e,t,r){"use strict";t.factory=function(e,t,n,i){var a=n(r("uUDd"));return function e(t){for(var r,n=0,i=0;i<t.length;i++){var o=t[i],s=Array.isArray(o);if(0===i&&s&&(n=o.length),s&&o.length!==n)return;var u=s?e(o):a(o);if(void 0===r)r=u;else if(r!==u)return"mixed"}return r}}},xLlM:function(e,t,r){"use strict";t.name="deepEqual",t.factory=function(e,t,n,i){var a=n(r("uvCz")),o=i("deepEqual",{"any, any":function(e,t){return function e(t,r){if(Array.isArray(t)){if(Array.isArray(r)){var n=t.length;if(n!==r.length)return!1;for(var i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}return!1}return!Array.isArray(r)&&a(t,r)}(e.valueOf(),t.valueOf())}});return o.toTex=void 0,o}},xTH1:function(e,t,r){"use strict";e.exports=[r("JgmW"),r("PbhI"),r("mtzS"),r("0FyF"),r("Oec2"),r("qcrg"),r("LXOe"),r("6F5Y"),r("b1uj"),r("uUDd")]},xXNK:function(e,t,r){"use strict";t.name="csPermute",t.path="algebra.sparse",t.factory=function(e){var t=e.SparseMatrix;return function(e,r,n,i){for(var a=e._values,o=e._index,s=e._ptr,u=e._size,l=e._datatype,c=u[0],f=u[1],p=i&&e._values?[]:null,m=[],h=[],d=0,v=0;v<f;v++){h[v]=d;for(var g=n?n[v]:v,b=s[g+1],y=s[g];y<b;y++)m[d]=r?r[o[y]]:o[y],p&&(p[d]=a[y]),d++}return h[f]=d,new t({values:p,index:m,ptr:h,size:[c,f],datatype:l})}}},xmOI:function(e,t,r){"use strict";var n=r("199F").nearlyEqual,i=r("rMK7");t.name="compare",t.factory=function(e,t,a,o){var s=a(r("R4H5")),u=a(r("hYuG")),l=a(r("ZXMR")),c=a(r("/z5F")),f=a(r("zbDx")),p=a(r("BLb5")),m=o("compare",{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,r){return e===r||n(e,r,t.epsilon)?0:e>r?1:-1},"BigNumber, BigNumber":function(r,n){return r.eq(n)||i(r,n,t.epsilon)?new e.BigNumber(0):new e.BigNumber(r.cmp(n))},"Fraction, Fraction":function(t,r){return new e.Fraction(t.compare(r))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return m(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,m)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,m,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,m,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,m)},"Array, Array":function(e,t){return m(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return m(s(e),t)},"Matrix, Array":function(e,t){return m(e,s(t))},"SparseMatrix, any":function(e,t){return c(e,t,m,!1)},"DenseMatrix, any":function(e,t){return p(e,t,m,!1)},"any, SparseMatrix":function(e,t){return c(t,e,m,!0)},"any, DenseMatrix":function(e,t){return p(t,e,m,!0)},"Array, any":function(e,t){return p(s(e),t,m,!1).valueOf()},"any, Array":function(e,t){return p(s(t),e,m,!0).valueOf()}});return m.toTex=void 0,m}},xumr:function(e,t,r){"use strict";e.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},xvo9:function(e,t,r){"use strict";var n=r("1stm"),i=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2};t.name="cosh",t.factory=function(e,t,r,a){var o=a("cosh",{number:i,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return o(t.value)},"Array | Matrix":function(e){return n(e,o)}});return o.toTex={1:"\\cosh\\left(${args[0]}\\right)"},o}},xzpM:function(e,t,r){"use strict";e.exports={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]}},y0e5:function(e,t,r){"use strict";var n=r("0dEn").maxArgumentCount,i=r("sTyi").forEach;t.name="forEach",t.path="expression.transform",t.factory=function(e,t,a,o){var s=a(r("iwau"));function u(t,r,n){var i,a;return t[0]&&(i=t[0].compile().eval(n)),t[1]&&(a=e.isSymbolNode(t[1])||e.isFunctionAssignmentNode(t[1])?t[1].compile().eval(n):s(t[1],r,n)),l(i,a)}u.rawArgs=!0;var l=o("forEach",{"Array | Matrix, function":function(e,t){var r=n(t);!function n(a,o){Array.isArray(a)?i(a,function(e,t){n(e,o.concat(t+1))}):1===r?t(a):2===r?t(a,o):t(a,o,e)}(e.valueOf(),[])}});return u}},y7gl:function(e,t,r){"use strict";e.exports={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]}},yEOT:function(e,t,r){"use strict";e.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]}},yHhU:function(e,t,r){"use strict";e.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},yYEn:function(e,t,r){"use strict";e.exports=[r("cqsj"),r("u3uT"),r("wxaS"),r("Poiv"),r("BCdv"),r("arqf")]},yoYd:function(e,t,r){"use strict";var n=r("sTyi");t.name="cross",t.factory=function(e,t,i,a){var o=i(r("R4H5")),s=i(r("O1N0")),u=i(r("NU+P")),l=a("cross",{"Matrix, Matrix":function(e,t){return o(c(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return o(c(e.toArray(),t))},"Array, Matrix":function(e,t){return o(c(e,t.toArray()))},"Array, Array":c});return l.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},l;function c(e,t){var r=Math.max(n.size(e).length,n.size(t).length);e=n.squeeze(e),t=n.squeeze(t);var i=n.size(e),a=n.size(t);if(1!==i.length||1!==a.length||3!==i[0]||3!==a[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+i.join(", ")+"], B = ["+a.join(", ")+"])");var o=[s(u(e[1],t[2]),u(e[2],t[1])),s(u(e[2],t[0]),u(e[0],t[2])),s(u(e[0],t[1]),u(e[1],t[0]))];return r>1?[o]:o}}},yqZl:function(e,t,r){"use strict";e.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},yuUi:function(e,t,r){"use strict";var n=r("X8kj");t.name="algorithm09",t.factory=function(e,t,i,a){var o=i(r("hj6K")),s=e.SparseMatrix;return function(e,t,r){var i=e._values,u=e._index,l=e._ptr,c=e._size,f=e._datatype,p=t._values,m=t._index,h=t._ptr,d=t._size,v=t._datatype;if(c.length!==d.length)throw new n(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var g,b=c[0],y=c[1],x=o,w=0,M=r;"string"==typeof f&&f===v&&(x=a.find(o,[g=f,g]),w=a.convert(0,g),M=a.find(r,[g,g]));var N,_,A,E,S=i&&p?[]:void 0,k=[],O=[],C=new s({values:S,index:k,ptr:O,size:[b,y],datatype:g}),L=S?[]:void 0,T=[];for(_=0;_<y;_++){O[_]=k.length;var P=_+1;if(L)for(E=h[_+1],A=h[_];A<E;A++)T[N=m[A]]=P,L[N]=p[A];for(E=l[_+1],A=l[_];A<E;A++)if(N=u[A],L){var I=M(i[A],T[N]===P?L[N]:w);x(I,w)||(k.push(N),S.push(I))}else k.push(N)}return O[y]=k.length,C}}},z0Ft:function(e,t,r){"use strict";var n=r("3LJV");t.name="multinomial",t.factory=function(e,t,i,a){var o=i(r("NEdZ")),s=i(r("NU+P")),u=i(r("rVKH")),l=i(r("E1be")),c=i(r("PbhI")),f=i(r("qcrg"));return a("multinomial",{"Array | Matrix":function(e){var t=0,r=1;return n(e,function(e){if(!c(e)||!f(e))throw new TypeError("Positive integer value expected in function multinomial");t=o(t,e),r=s(r,l(e))}),u(l(t),r)}})}},z8vq:function(e,t,r){"use strict";e.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},zbDx:function(e,t,r){"use strict";var n=r("X8kj");t.name="algorithm13",t.factory=function(e,t,r,i){var a=e.DenseMatrix;return function(e,t,r){var o,s=e._data,u=e._size,l=e._datatype,c=t._data,f=t._size,p=t._datatype,m=[];if(u.length!==f.length)throw new n(u.length,f.length);for(var h=0;h<u.length;h++){if(u[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");m[h]=u[h]}var d=r;"string"==typeof l&&l===p&&(d=i.find(r,[o=l,o]));var v=m.length>0?function e(t,r,n,i,a,o){var s=[];if(r===n.length-1)for(var u=0;u<i;u++)s[u]=t(a[u],o[u]);else for(var l=0;l<i;l++)s[l]=e(t,r+1,n,n[r+1],a[l],o[l]);return s}(d,0,m,m[0],s,c):[];return new a({data:v,size:m,datatype:o})}}},znhL:function(e,t,r){"use strict";var n=r("WlWA");function i(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;"0"===r.charAt(o);)o--;var s=e.e,u=r.slice(0,o+1||1),l=u.length;if(s>0)if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s));for(var c=[0],f=0;f<u.length;){for(var p=c.length;p--;)c[p]*=10;c[0]+=parseInt(u.charAt(f++));for(var m=0;m<c.length;++m)c[m]>1&&(null==c[m+1]&&(c[m+1]=0),c[m+1]+=c[m]>>1,c[m]&=1)}return c.reverse()}e.exports=function(e,t,r){var a,o,s,u,l,c=e.constructor,f=+(e.s<0),p=+(t.s<0);if(f){a=i(n(e));for(var m=0;m<a.length;++m)a[m]^=1}else a=i(e);if(p){o=i(n(t));for(var h=0;h<o.length;++h)o[h]^=1}else o=i(t);a.length<=o.length?(s=a,u=o,l=f):(s=o,u=a,l=p);var d=s.length,v=u.length,g=1^r(f,p),b=new c(1^g),y=new c(1),x=new c(2),w=c.precision;for(c.config({precision:1e9});d>0;)r(s[--d],u[--v])===g&&(b=b.plus(y)),y=y.times(x);for(;v>0;)r(l,u[--v])===g&&(b=b.plus(y)),y=y.times(x);return c.config({precision:w}),0===g&&(b.s=-b.s),b}},zqB3:function(e,t,r){"use strict";e.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},zv5G:function(e,t,r){"use strict";t.name="std",t.factory=function(e,t,n,i){var a=n(r("L/Rn")),o=n(r("tOkv")),s=i("std",{"Array | Matrix":u,"Array | Matrix, string":u,"...":function(e){return u(e)}});return s.toTex=void 0,s;function u(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return a(o.apply(null,arguments))}catch(r){throw r instanceof TypeError&&-1!==r.message.indexOf(" var")?new TypeError(r.message.replace(" var"," std")):r}}}},zwws:function(e,t,r){"use strict";e.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}}});